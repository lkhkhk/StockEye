2025-07-28 07:29:11,734 - main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 07:29:11,740 - main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 07:29:11,746 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:29:11,747 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:29:11,748 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:29:11,748 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:29:11,801 - apscheduler.scheduler - INFO - Added job "update_stock_master_job" to job store "default"
2025-07-28 07:29:11,802 - apscheduler.scheduler - INFO - Added job "update_daily_price_job" to job store "default"
2025-07-28 07:29:11,802 - apscheduler.scheduler - INFO - Added job "check_disclosures_job" to job store "default"
2025-07-28 07:29:11,802 - apscheduler.scheduler - INFO - Added job "check_price_alerts_job" to job store "default"
2025-07-28 07:29:11,803 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 07:29:11,803 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:29:11,804 - main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 07:29:11,804 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:30:11.748445+09:00 (in 59.944179 seconds)
2025-07-28 07:29:11,804 - main - INFO - 등록된 잡 목록:
2025-07-28 07:29:11,805 - main - INFO - - Job ID: check_price_alerts_job, Trigger: interval[0:01:00]
2025-07-28 07:29:11,805 - main - INFO - - Job ID: update_daily_price_job, Trigger: cron[hour='18', minute='0']
2025-07-28 07:29:11,805 - main - INFO - - Job ID: check_disclosures_job, Trigger: interval[4:00:00]
2025-07-28 07:29:11,805 - main - INFO - - Job ID: update_stock_master_job, Trigger: cron[hour='7', minute='0']
2025-07-28 07:30:11,545 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:30:11,545 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:30:11.748445+09:00 (in 0.202747 seconds)
2025-07-28 07:30:11,750 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:30:11,752 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:31:11 KST)" (scheduled at 2025-07-28 16:30:11.748445+09:00)
2025-07-28 07:30:11,753 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:31:11.748445+09:00 (in 59.995184 seconds)
2025-07-28 07:30:11,753 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:30:11.753797
2025-07-28 07:30:11,754 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:30:11,754 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:30:11,754 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:30:11,773 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:30:11,773 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:30:11,774 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:30:11,774 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:30:11,774 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:31:11 KST)" executed successfully
2025-07-28 07:31:11,527 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:31:11,527 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:31:11.748445+09:00 (in 0.220506 seconds)
2025-07-28 07:31:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:31:11,750 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:32:11.748445+09:00 (in 59.998262 seconds)
2025-07-28 07:31:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:32:11 KST)" (scheduled at 2025-07-28 16:31:11.748445+09:00)
2025-07-28 07:31:11,752 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:31:11.752052
2025-07-28 07:31:11,753 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:31:11,754 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:31:11,754 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:31:11,912 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:31:11,913 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:31:11,914 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:31:11,915 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:31:11,915 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:32:11 KST)" executed successfully
2025-07-28 07:32:11,532 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:32:11,533 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:32:11.748445+09:00 (in 0.215445 seconds)
2025-07-28 07:32:11,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:32:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:33:11.748445+09:00 (in 59.998555 seconds)
2025-07-28 07:32:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:33:11 KST)" (scheduled at 2025-07-28 16:32:11.748445+09:00)
2025-07-28 07:32:11,751 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:32:11.751083
2025-07-28 07:32:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:32:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:32:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:32:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:32:11,754 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:32:11,755 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:32:11,755 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:32:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:33:11 KST)" executed successfully
2025-07-28 07:33:11,540 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:33:11,540 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:33:11.748445+09:00 (in 0.207799 seconds)
2025-07-28 07:33:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:33:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:34:11.748445+09:00 (in 59.998632 seconds)
2025-07-28 07:33:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:34:11 KST)" (scheduled at 2025-07-28 16:33:11.748445+09:00)
2025-07-28 07:33:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:33:11.750528
2025-07-28 07:33:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:33:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:33:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:33:11,755 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:33:11,755 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:33:11,756 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:33:11,756 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:33:11,756 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:34:11 KST)" executed successfully
2025-07-28 07:34:11,538 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:34:11,539 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:34:11.748445+09:00 (in 0.209084 seconds)
2025-07-28 07:34:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:34:11,750 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:35:11.748445+09:00 (in 59.997600 seconds)
2025-07-28 07:34:11,751 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:35:11 KST)" (scheduled at 2025-07-28 16:34:11.748445+09:00)
2025-07-28 07:34:11,751 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:34:11.751947
2025-07-28 07:34:11,752 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:34:11,754 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:34:11,754 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:34:11,758 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:34:11,759 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:34:11,762 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:34:11,762 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:34:11,762 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:35:11 KST)" executed successfully
2025-07-28 07:35:11,530 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:35:11,530 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:35:11.748445+09:00 (in 0.217479 seconds)
2025-07-28 07:35:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:35:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:36:11.748445+09:00 (in 59.998662 seconds)
2025-07-28 07:35:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:36:11 KST)" (scheduled at 2025-07-28 16:35:11.748445+09:00)
2025-07-28 07:35:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:35:11.750770
2025-07-28 07:35:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:35:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:35:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:35:11,754 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:35:11,755 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:35:11,755 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:35:11,756 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:35:11,756 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:36:11 KST)" executed successfully
2025-07-28 07:36:11,532 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:36:11,533 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:36:11.748445+09:00 (in 0.215249 seconds)
2025-07-28 07:36:11,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:36:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:37:11.748445+09:00 (in 59.998891 seconds)
2025-07-28 07:36:11,749 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:37:11 KST)" (scheduled at 2025-07-28 16:36:11.748445+09:00)
2025-07-28 07:36:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:36:11.750416
2025-07-28 07:36:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:36:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:36:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:36:11,754 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:36:11,754 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:36:11,755 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:36:11,755 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:36:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:37:11 KST)" executed successfully
2025-07-28 07:37:11,530 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:37:11,531 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:37:11.748445+09:00 (in 0.217011 seconds)
2025-07-28 07:37:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:37:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:38:11.748445+09:00 (in 59.998683 seconds)
2025-07-28 07:37:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:38:11 KST)" (scheduled at 2025-07-28 16:37:11.748445+09:00)
2025-07-28 07:37:11,751 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:37:11.751046
2025-07-28 07:37:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:37:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:37:11,752 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:37:11,755 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:37:11,755 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:37:11,756 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:37:11,757 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:37:11,757 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:38:11 KST)" executed successfully
2025-07-28 07:38:11,539 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:38:11,540 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:38:11.748445+09:00 (in 0.208178 seconds)
2025-07-28 07:38:11,750 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:38:11,750 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:39:11.748445+09:00 (in 59.997886 seconds)
2025-07-28 07:38:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:39:11 KST)" (scheduled at 2025-07-28 16:38:11.748445+09:00)
2025-07-28 07:38:11,751 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:38:11.751279
2025-07-28 07:38:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:38:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:38:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:38:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:38:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:38:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:38:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:38:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:39:11 KST)" executed successfully
2025-07-28 07:39:11,504 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:39:11,504 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:39:11.748445+09:00 (in 0.243994 seconds)
2025-07-28 07:39:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:39:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:40:11.748445+09:00 (in 59.998924 seconds)
2025-07-28 07:39:11,749 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:40:11 KST)" (scheduled at 2025-07-28 16:39:11.748445+09:00)
2025-07-28 07:39:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:39:11.750311
2025-07-28 07:39:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:39:11,750 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:39:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:39:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:39:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:39:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:39:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:39:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:40:11 KST)" executed successfully
2025-07-28 07:40:11,529 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:40:11,530 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:40:11.748445+09:00 (in 0.218137 seconds)
2025-07-28 07:40:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:40:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:41:11.748445+09:00 (in 59.998766 seconds)
2025-07-28 07:40:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:41:11 KST)" (scheduled at 2025-07-28 16:40:11.748445+09:00)
2025-07-28 07:40:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:40:11.750515
2025-07-28 07:40:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:40:11,750 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:40:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:40:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:40:11,754 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:40:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:40:11,755 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:40:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:41:11 KST)" executed successfully
2025-07-28 07:41:11,494 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:41:11,495 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:41:11.748445+09:00 (in 0.253420 seconds)
2025-07-28 07:41:11,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:41:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:42:11.748445+09:00 (in 59.998974 seconds)
2025-07-28 07:41:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:42:11 KST)" (scheduled at 2025-07-28 16:41:11.748445+09:00)
2025-07-28 07:41:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:41:11.750236
2025-07-28 07:41:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:41:11,750 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:41:11,750 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:41:11,752 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:41:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:41:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:41:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:41:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:42:11 KST)" executed successfully
2025-07-28 07:42:11,528 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:42:11,528 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:42:11.748445+09:00 (in 0.219745 seconds)
2025-07-28 07:42:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:42:11,750 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:43:11.748445+09:00 (in 59.998310 seconds)
2025-07-28 07:42:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:43:11 KST)" (scheduled at 2025-07-28 16:42:11.748445+09:00)
2025-07-28 07:42:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:42:11.750943
2025-07-28 07:42:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:42:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:42:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:42:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:42:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:42:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:42:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:42:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:43:11 KST)" executed successfully
2025-07-28 07:43:11,523 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:43:11,523 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:43:11.748445+09:00 (in 0.224583 seconds)
2025-07-28 07:43:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:43:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:44:11.748445+09:00 (in 59.998603 seconds)
2025-07-28 07:43:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:44:11 KST)" (scheduled at 2025-07-28 16:43:11.748445+09:00)
2025-07-28 07:43:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:43:11.750798
2025-07-28 07:43:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:43:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:43:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:43:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:43:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:43:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:43:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:43:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:44:11 KST)" executed successfully
2025-07-28 07:44:11,519 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:44:11,520 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:44:11.748445+09:00 (in 0.228268 seconds)
2025-07-28 07:44:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:44:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:45:11.748445+09:00 (in 59.998529 seconds)
2025-07-28 07:44:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:45:11 KST)" (scheduled at 2025-07-28 16:44:11.748445+09:00)
2025-07-28 07:44:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:44:11.750708
2025-07-28 07:44:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:44:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:44:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:44:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:44:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:44:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:44:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:44:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:45:11 KST)" executed successfully
2025-07-28 07:45:11,515 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:45:11,516 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:45:11.748445+09:00 (in 0.232159 seconds)
2025-07-28 07:45:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:45:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:46:11.748445+09:00 (in 59.998676 seconds)
2025-07-28 07:45:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:46:11 KST)" (scheduled at 2025-07-28 16:45:11.748445+09:00)
2025-07-28 07:45:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:45:11.750767
2025-07-28 07:45:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:45:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:45:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:45:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:45:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:45:11,753 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:45:11,753 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:45:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:46:11 KST)" executed successfully
2025-07-28 07:46:11,502 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:46:11,503 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:46:11.748445+09:00 (in 0.244981 seconds)
2025-07-28 07:46:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:46:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:47:11.748445+09:00 (in 59.998730 seconds)
2025-07-28 07:46:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:47:11 KST)" (scheduled at 2025-07-28 16:46:11.748445+09:00)
2025-07-28 07:46:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:46:11.750624
2025-07-28 07:46:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:46:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:46:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:46:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:46:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:46:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:46:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:46:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:47:11 KST)" executed successfully
2025-07-28 07:47:11,518 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:47:11,518 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:47:11.748445+09:00 (in 0.229907 seconds)
2025-07-28 07:47:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:47:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:48:11.748445+09:00 (in 59.998696 seconds)
2025-07-28 07:47:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:48:11 KST)" (scheduled at 2025-07-28 16:47:11.748445+09:00)
2025-07-28 07:47:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:47:11.750580
2025-07-28 07:47:11,638 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:47:11,638 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:47:11,638 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:47:11,642 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:47:11,642 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:47:11,643 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:47:11,645 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:47:11,645 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:48:11 KST)" executed successfully
2025-07-28 07:48:11,522 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:48:11,523 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:48:11.748445+09:00 (in 0.225260 seconds)
2025-07-28 07:48:11,637 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:48:11,638 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:48:11.748445+09:00 (in 0.110130 seconds)
2025-07-28 07:48:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:48:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:49:11.748445+09:00 (in 59.998758 seconds)
2025-07-28 07:48:11,749 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:49:11 KST)" (scheduled at 2025-07-28 16:48:11.748445+09:00)
2025-07-28 07:48:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:48:11.750515
2025-07-28 07:48:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:48:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:48:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:48:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:48:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:48:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:48:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:48:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:49:11 KST)" executed successfully
2025-07-28 07:49:11,512 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:49:11,513 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:49:11.748445+09:00 (in 0.234898 seconds)
2025-07-28 07:49:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:49:11,750 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:50:11.748445+09:00 (in 59.998275 seconds)
2025-07-28 07:49:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:50:11 KST)" (scheduled at 2025-07-28 16:49:11.748445+09:00)
2025-07-28 07:49:11,751 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:49:11.751166
2025-07-28 07:49:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:49:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:49:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:49:11,755 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:49:11,756 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:49:11,757 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:49:11,758 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:49:11,758 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:50:11 KST)" executed successfully
2025-07-28 07:50:11,509 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:50:11,509 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:50:11.748445+09:00 (in 0.238705 seconds)
2025-07-28 07:50:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:50:11,750 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:51:11.748445+09:00 (in 59.998251 seconds)
2025-07-28 07:50:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:51:11 KST)" (scheduled at 2025-07-28 16:50:11.748445+09:00)
2025-07-28 07:50:11,751 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:50:11.751068
2025-07-28 07:50:11,751 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:50:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:50:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:50:11,754 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:50:11,754 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:50:11,755 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:50:11,755 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:50:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:51:11 KST)" executed successfully
2025-07-28 07:51:11,510 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:51:11,510 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:51:11.748445+09:00 (in 0.237506 seconds)
2025-07-28 07:51:11,749 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:51:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:52:11.748445+09:00 (in 59.998878 seconds)
2025-07-28 07:51:11,749 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:52:11 KST)" (scheduled at 2025-07-28 16:51:11.748445+09:00)
2025-07-28 07:51:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:51:11.750322
2025-07-28 07:51:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:51:11,750 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:51:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:51:11,752 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:51:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:51:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:51:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:51:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:52:11 KST)" executed successfully
2025-07-28 07:52:11,515 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:52:11,516 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:52:11.748445+09:00 (in 0.232292 seconds)
2025-07-28 07:52:11,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:52:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:53:11.748445+09:00 (in 59.998889 seconds)
2025-07-28 07:52:11,749 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:53:11 KST)" (scheduled at 2025-07-28 16:52:11.748445+09:00)
2025-07-28 07:52:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:52:11.750359
2025-07-28 07:52:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:52:11,750 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:52:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:52:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:52:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:52:11,754 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:52:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:52:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:53:11 KST)" executed successfully
2025-07-28 07:53:11,514 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:53:11,515 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:53:11.748445+09:00 (in 0.233401 seconds)
2025-07-28 07:53:11,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:53:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:54:11.748445+09:00 (in 59.998792 seconds)
2025-07-28 07:53:11,750 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:54:11 KST)" (scheduled at 2025-07-28 16:53:11.748445+09:00)
2025-07-28 07:53:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:53:11.750543
2025-07-28 07:53:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:53:11,750 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:53:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:53:11,754 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:53:11,754 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:53:11,755 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:53:11,755 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:53:11,755 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:54:11 KST)" executed successfully
2025-07-28 07:54:11,519 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:54:11,520 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:54:11.748445+09:00 (in 0.228315 seconds)
2025-07-28 07:54:11,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:54:11,749 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:55:11.748445+09:00 (in 59.998738 seconds)
2025-07-28 07:54:11,749 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:55:11 KST)" (scheduled at 2025-07-28 16:54:11.748445+09:00)
2025-07-28 07:54:11,750 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:54:11.750543
2025-07-28 07:54:11,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:54:11,751 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:54:11,751 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:54:11,753 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:54:11,753 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:54:11,753 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:54:11,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:54:11,754 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:55:11 KST)" executed successfully
2025-07-28 07:54:25,253 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 07:54:25,253 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:54:25,253 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 07:54:25,254 - main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 07:55:23,962 - main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 07:55:23,973 - main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 07:55:23,979 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:55:23,980 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:55:23,981 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:55:23,982 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 07:55:24,049 - apscheduler.scheduler - INFO - Added job "update_stock_master_job" to job store "default"
2025-07-28 07:55:24,050 - apscheduler.scheduler - INFO - Added job "update_daily_price_job" to job store "default"
2025-07-28 07:55:24,050 - apscheduler.scheduler - INFO - Added job "check_disclosures_job" to job store "default"
2025-07-28 07:55:24,050 - apscheduler.scheduler - INFO - Added job "check_price_alerts_job" to job store "default"
2025-07-28 07:55:24,051 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 07:55:24,051 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:55:24,051 - main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 07:55:24,052 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:56:23.982022+09:00 (in 59.929889 seconds)
2025-07-28 07:55:24,057 - main - INFO - 등록된 잡 목록:
2025-07-28 07:55:24,058 - main - INFO - - Job ID: check_price_alerts_job, Trigger: interval[0:01:00]
2025-07-28 07:55:24,058 - main - INFO - - Job ID: update_daily_price_job, Trigger: cron[hour='18', minute='0']
2025-07-28 07:55:24,059 - main - INFO - - Job ID: check_disclosures_job, Trigger: interval[4:00:00]
2025-07-28 07:55:24,061 - main - INFO - - Job ID: update_stock_master_job, Trigger: cron[hour='7', minute='0']
2025-07-28 07:56:23,754 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:56:23,755 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:56:23.982022+09:00 (in 0.226710 seconds)
2025-07-28 07:56:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:56:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:57:23 KST)" (scheduled at 2025-07-28 16:56:23.982022+09:00)
2025-07-28 07:56:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:57:23.982022+09:00 (in 59.997591 seconds)
2025-07-28 07:56:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:56:23.984867
2025-07-28 07:56:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:56:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:56:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:56:24,014 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:56:24,015 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:56:24,016 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:56:24,017 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:56:24,017 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:57:23 KST)" executed successfully
2025-07-28 07:57:23,728 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:57:23,729 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:57:23.982022+09:00 (in 0.253034 seconds)
2025-07-28 07:57:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:57:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:58:23.982022+09:00 (in 59.998493 seconds)
2025-07-28 07:57:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:58:23 KST)" (scheduled at 2025-07-28 16:57:23.982022+09:00)
2025-07-28 07:57:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:57:23.984321
2025-07-28 07:57:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:57:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:57:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:57:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:57:23,990 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:57:23,994 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:57:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:57:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:58:23 KST)" executed successfully
2025-07-28 07:58:23,767 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:58:23,767 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:58:23.982022+09:00 (in 0.214285 seconds)
2025-07-28 07:58:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:58:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:59:23.982022+09:00 (in 59.998056 seconds)
2025-07-28 07:58:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:59:23 KST)" (scheduled at 2025-07-28 16:58:23.982022+09:00)
2025-07-28 07:58:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:58:23.984950
2025-07-28 07:58:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:58:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:58:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:58:23,991 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:58:23,991 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:58:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:58:23,993 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:58:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 16:59:23 KST)" executed successfully
2025-07-28 07:59:23,743 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:59:23,744 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 16:59:23.982022+09:00 (in 0.237793 seconds)
2025-07-28 07:59:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 07:59:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:00:23.982022+09:00 (in 59.998848 seconds)
2025-07-28 07:59:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:00:23 KST)" (scheduled at 2025-07-28 16:59:23.982022+09:00)
2025-07-28 07:59:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 07:59:23.984201
2025-07-28 07:59:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 07:59:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 07:59:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 07:59:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 07:59:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 07:59:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 07:59:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 07:59:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:00:23 KST)" executed successfully
2025-07-28 08:00:23,711 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:00:23,711 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:00:23.982022+09:00 (in 0.270242 seconds)
2025-07-28 08:00:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:00:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:01:23.982022+09:00 (in 59.998324 seconds)
2025-07-28 08:00:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:01:23 KST)" (scheduled at 2025-07-28 17:00:23.982022+09:00)
2025-07-28 08:00:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:00:23.984573
2025-07-28 08:00:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:00:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:00:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:00:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:00:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:00:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:00:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:00:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:01:23 KST)" executed successfully
2025-07-28 08:01:23,742 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:01:23,743 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:01:23.982022+09:00 (in 0.238677 seconds)
2025-07-28 08:01:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:01:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:02:23.982022+09:00 (in 59.998424 seconds)
2025-07-28 08:01:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:02:23 KST)" (scheduled at 2025-07-28 17:01:23.982022+09:00)
2025-07-28 08:01:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:01:23.984612
2025-07-28 08:01:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:01:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:01:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:01:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:01:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:01:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:01:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:01:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:02:23 KST)" executed successfully
2025-07-28 08:02:23,735 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:02:23,735 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:02:23.982022+09:00 (in 0.246274 seconds)
2025-07-28 08:02:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:02:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:03:23.982022+09:00 (in 59.998511 seconds)
2025-07-28 08:02:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:03:23 KST)" (scheduled at 2025-07-28 17:02:23.982022+09:00)
2025-07-28 08:02:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:02:23.984467
2025-07-28 08:02:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:02:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:02:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:02:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:02:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:02:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:02:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:02:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:03:23 KST)" executed successfully
2025-07-28 08:03:23,736 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:03:23,737 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:03:23.982022+09:00 (in 0.244913 seconds)
2025-07-28 08:03:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:03:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:04:23.982022+09:00 (in 59.998100 seconds)
2025-07-28 08:03:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:04:23 KST)" (scheduled at 2025-07-28 17:03:23.982022+09:00)
2025-07-28 08:03:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:03:23.984761
2025-07-28 08:03:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:03:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:03:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:03:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:03:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:03:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:03:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:03:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:04:23 KST)" executed successfully
2025-07-28 08:04:23,733 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:04:23,733 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:04:23.982022+09:00 (in 0.248448 seconds)
2025-07-28 08:04:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:04:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:05:23.982022+09:00 (in 59.998005 seconds)
2025-07-28 08:04:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:05:23 KST)" (scheduled at 2025-07-28 17:04:23.982022+09:00)
2025-07-28 08:04:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:04:23.984871
2025-07-28 08:04:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:04:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:04:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:04:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:04:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:04:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:04:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:04:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:05:23 KST)" executed successfully
2025-07-28 08:05:23,748 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:05:23,748 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:05:23.982022+09:00 (in 0.233323 seconds)
2025-07-28 08:05:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:05:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:06:23.982022+09:00 (in 59.996848 seconds)
2025-07-28 08:05:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:06:23 KST)" (scheduled at 2025-07-28 17:05:23.982022+09:00)
2025-07-28 08:05:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:05:23.986047
2025-07-28 08:05:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:05:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:05:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:05:23,990 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:05:23,990 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:05:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:05:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:05:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:06:23 KST)" executed successfully
2025-07-28 08:06:23,708 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:06:23,709 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:06:23.982022+09:00 (in 0.272622 seconds)
2025-07-28 08:06:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:06:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:07:23.982022+09:00 (in 59.998111 seconds)
2025-07-28 08:06:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:07:23 KST)" (scheduled at 2025-07-28 17:06:23.982022+09:00)
2025-07-28 08:06:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:06:23.984909
2025-07-28 08:06:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:06:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:06:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:06:23,990 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:06:23,990 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:06:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:06:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:06:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:07:23 KST)" executed successfully
2025-07-28 08:07:23,743 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:07:23,743 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:07:23.982022+09:00 (in 0.238316 seconds)
2025-07-28 08:07:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:07:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:08:23.982022+09:00 (in 59.998596 seconds)
2025-07-28 08:07:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:08:23 KST)" (scheduled at 2025-07-28 17:07:23.982022+09:00)
2025-07-28 08:07:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:07:23.984490
2025-07-28 08:07:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:07:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:07:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:07:23,999 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:07:23,999 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:07:24,000 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:07:24,000 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:07:24,000 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:08:23 KST)" executed successfully
2025-07-28 08:08:23,742 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:08:23,742 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:08:23.982022+09:00 (in 0.239368 seconds)
2025-07-28 08:08:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:08:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:09:23.982022+09:00 (in 59.998686 seconds)
2025-07-28 08:08:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:09:23 KST)" (scheduled at 2025-07-28 17:08:23.982022+09:00)
2025-07-28 08:08:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:08:23.986404
2025-07-28 08:08:23,987 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:08:23,987 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:08:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:08:23,992 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:08:23,992 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:08:23,993 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:08:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:08:23,995 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:09:23 KST)" executed successfully
2025-07-28 08:09:23,739 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:09:23,740 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:09:23.982022+09:00 (in 0.241761 seconds)
2025-07-28 08:09:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:09:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:10:23.982022+09:00 (in 59.998200 seconds)
2025-07-28 08:09:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:10:23 KST)" (scheduled at 2025-07-28 17:09:23.982022+09:00)
2025-07-28 08:09:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:09:23.984781
2025-07-28 08:09:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:09:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:09:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:09:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:09:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:09:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:09:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:09:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:10:23 KST)" executed successfully
2025-07-28 08:10:23,740 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:10:23,741 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:10:23.982022+09:00 (in 0.240717 seconds)
2025-07-28 08:10:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:10:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:11:23.982022+09:00 (in 59.998690 seconds)
2025-07-28 08:10:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:11:23 KST)" (scheduled at 2025-07-28 17:10:23.982022+09:00)
2025-07-28 08:10:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:10:23.984335
2025-07-28 08:10:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:10:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:10:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:10:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:10:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:10:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:10:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:10:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:11:23 KST)" executed successfully
2025-07-28 08:11:23,707 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:11:23,708 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:11:23.982022+09:00 (in 0.273697 seconds)
2025-07-28 08:11:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:11:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:12:23.982022+09:00 (in 59.998378 seconds)
2025-07-28 08:11:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:12:23 KST)" (scheduled at 2025-07-28 17:11:23.982022+09:00)
2025-07-28 08:11:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:11:23.984475
2025-07-28 08:11:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:11:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:11:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:11:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:11:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:11:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:11:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:11:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:12:23 KST)" executed successfully
2025-07-28 08:12:23,739 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:12:23,740 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:12:23.982022+09:00 (in 0.241945 seconds)
2025-07-28 08:12:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:12:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:13:23.982022+09:00 (in 59.998786 seconds)
2025-07-28 08:12:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:13:23 KST)" (scheduled at 2025-07-28 17:12:23.982022+09:00)
2025-07-28 08:12:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:12:23.984173
2025-07-28 08:12:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:12:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:12:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:12:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:12:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:12:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:12:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:12:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:13:23 KST)" executed successfully
2025-07-28 08:13:23,729 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:13:23,730 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:13:23.982022+09:00 (in 0.251604 seconds)
2025-07-28 08:13:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:13:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:14:23.982022+09:00 (in 59.998792 seconds)
2025-07-28 08:13:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:14:23 KST)" (scheduled at 2025-07-28 17:13:23.982022+09:00)
2025-07-28 08:13:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:13:23.983970
2025-07-28 08:13:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:13:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:13:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:13:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:13:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:13:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:13:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:13:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:14:23 KST)" executed successfully
2025-07-28 08:14:23,736 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:14:23,736 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:14:23.982022+09:00 (in 0.245217 seconds)
2025-07-28 08:14:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:14:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:15:23.982022+09:00 (in 59.998212 seconds)
2025-07-28 08:14:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:15:23 KST)" (scheduled at 2025-07-28 17:14:23.982022+09:00)
2025-07-28 08:14:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:14:23.984809
2025-07-28 08:14:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:14:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:14:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:14:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:14:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:14:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:14:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:14:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:15:23 KST)" executed successfully
2025-07-28 08:15:23,703 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:15:23,704 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:15:23.982022+09:00 (in 0.277576 seconds)
2025-07-28 08:15:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:15:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:16:23.982022+09:00 (in 59.998470 seconds)
2025-07-28 08:15:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:16:23 KST)" (scheduled at 2025-07-28 17:15:23.982022+09:00)
2025-07-28 08:15:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:15:23.984425
2025-07-28 08:15:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:15:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:15:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:15:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:15:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:15:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:15:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:15:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:16:23 KST)" executed successfully
2025-07-28 08:16:23,727 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:16:23,727 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:16:23.982022+09:00 (in 0.254431 seconds)
2025-07-28 08:16:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:16:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:17:23.982022+09:00 (in 59.998388 seconds)
2025-07-28 08:16:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:17:23 KST)" (scheduled at 2025-07-28 17:16:23.982022+09:00)
2025-07-28 08:16:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:16:23.984514
2025-07-28 08:16:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:16:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:16:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:16:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:16:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:16:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:16:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:16:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:17:23 KST)" executed successfully
2025-07-28 08:17:23,705 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:17:23,706 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:17:23.982022+09:00 (in 0.275702 seconds)
2025-07-28 08:17:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:17:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:18:23.982022+09:00 (in 59.996479 seconds)
2025-07-28 08:17:23,986 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:18:23 KST)" (scheduled at 2025-07-28 17:17:23.982022+09:00)
2025-07-28 08:17:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:17:23.986357
2025-07-28 08:17:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:17:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:17:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:17:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:17:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:17:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:17:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:17:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:18:23 KST)" executed successfully
2025-07-28 08:18:23,736 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:18:23,736 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:18:23.982022+09:00 (in 0.245134 seconds)
2025-07-28 08:18:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:18:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:19:23.982022+09:00 (in 59.997646 seconds)
2025-07-28 08:18:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:19:23 KST)" (scheduled at 2025-07-28 17:18:23.982022+09:00)
2025-07-28 08:18:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:18:23.985824
2025-07-28 08:18:23,987 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:18:23,988 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:18:23,988 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:18:23,994 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:18:23,994 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:18:23,996 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:18:23,996 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:18:23,996 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:19:23 KST)" executed successfully
2025-07-28 08:19:23,724 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:19:23,725 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:19:23.982022+09:00 (in 0.256743 seconds)
2025-07-28 08:19:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:19:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:20:23.982022+09:00 (in 59.998424 seconds)
2025-07-28 08:19:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:20:23 KST)" (scheduled at 2025-07-28 17:19:23.982022+09:00)
2025-07-28 08:19:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:19:23.984529
2025-07-28 08:19:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:19:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:19:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:19:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:19:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:19:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:19:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:19:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:20:23 KST)" executed successfully
2025-07-28 08:20:23,694 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:20:23,695 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:20:23.982022+09:00 (in 0.286828 seconds)
2025-07-28 08:20:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:20:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:21:23.982022+09:00 (in 59.998211 seconds)
2025-07-28 08:20:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:21:23 KST)" (scheduled at 2025-07-28 17:20:23.982022+09:00)
2025-07-28 08:20:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:20:23.984926
2025-07-28 08:20:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:20:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:20:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:20:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:20:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:20:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:20:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:20:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:21:23 KST)" executed successfully
2025-07-28 08:21:23,718 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:21:23,719 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:21:23.982022+09:00 (in 0.262884 seconds)
2025-07-28 08:21:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:21:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:22:23.982022+09:00 (in 59.997682 seconds)
2025-07-28 08:21:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:22:23 KST)" (scheduled at 2025-07-28 17:21:23.982022+09:00)
2025-07-28 08:21:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:21:23.985144
2025-07-28 08:21:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:21:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:21:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:21:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:21:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:21:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:21:23,989 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:21:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:22:23 KST)" executed successfully
2025-07-28 08:22:23,705 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:22:23,705 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:22:23.982022+09:00 (in 0.276540 seconds)
2025-07-28 08:22:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:22:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:23:23.982022+09:00 (in 59.998209 seconds)
2025-07-28 08:22:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:23:23 KST)" (scheduled at 2025-07-28 17:22:23.982022+09:00)
2025-07-28 08:22:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:22:23.984710
2025-07-28 08:22:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:22:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:22:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:22:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:22:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:22:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:22:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:22:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:23:23 KST)" executed successfully
2025-07-28 08:23:23,812 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:23:23,813 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:23:23.982022+09:00 (in 0.168718 seconds)
2025-07-28 08:23:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:23:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:24:23.982022+09:00 (in 59.998737 seconds)
2025-07-28 08:23:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:24:23 KST)" (scheduled at 2025-07-28 17:23:23.982022+09:00)
2025-07-28 08:23:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:23:23.985106
2025-07-28 08:23:23,988 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:23:23,989 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:23:23,989 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:23:24,005 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:23:24,007 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:23:24,013 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:23:24,014 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:23:24,015 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:24:23 KST)" executed successfully
2025-07-28 08:24:23,717 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:24:23,718 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:24:23.982022+09:00 (in 0.263640 seconds)
2025-07-28 08:24:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:24:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:25:23.982022+09:00 (in 59.997787 seconds)
2025-07-28 08:24:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:25:23 KST)" (scheduled at 2025-07-28 17:24:23.982022+09:00)
2025-07-28 08:24:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:24:23.985283
2025-07-28 08:24:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:24:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:24:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:24:24,003 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:24:24,003 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:24:24,004 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:24:24,004 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:24:24,004 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:25:23 KST)" executed successfully
2025-07-28 08:25:23,720 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:25:23,721 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:25:23.982022+09:00 (in 0.260892 seconds)
2025-07-28 08:25:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:25:23,982 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:26:23.982022+09:00 (in 59.999042 seconds)
2025-07-28 08:25:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:26:23 KST)" (scheduled at 2025-07-28 17:25:23.982022+09:00)
2025-07-28 08:25:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:25:23.983738
2025-07-28 08:25:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:25:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:25:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:25:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:25:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:25:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:25:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:25:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:26:23 KST)" executed successfully
2025-07-28 08:26:23,683 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:26:23,683 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:26:23.982022+09:00 (in 0.298233 seconds)
2025-07-28 08:26:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:26:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:27:23.982022+09:00 (in 59.998805 seconds)
2025-07-28 08:26:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:27:23 KST)" (scheduled at 2025-07-28 17:26:23.982022+09:00)
2025-07-28 08:26:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:26:23.984094
2025-07-28 08:26:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:26:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:26:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:26:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:26:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:26:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:26:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:26:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:27:23 KST)" executed successfully
2025-07-28 08:27:23,723 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:27:23,723 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:27:23.982022+09:00 (in 0.258386 seconds)
2025-07-28 08:27:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:27:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:28:23.982022+09:00 (in 59.998056 seconds)
2025-07-28 08:27:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:28:23 KST)" (scheduled at 2025-07-28 17:27:23.982022+09:00)
2025-07-28 08:27:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:27:23.984736
2025-07-28 08:27:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:27:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:27:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:27:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:27:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:27:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:27:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:27:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:28:23 KST)" executed successfully
2025-07-28 08:28:23,716 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:28:23,717 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:28:23.982022+09:00 (in 0.264865 seconds)
2025-07-28 08:28:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:28:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:29:23.982022+09:00 (in 59.997082 seconds)
2025-07-28 08:28:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:29:23 KST)" (scheduled at 2025-07-28 17:28:23.982022+09:00)
2025-07-28 08:28:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:28:23.985829
2025-07-28 08:28:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:28:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:28:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:28:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:28:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:28:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:28:23,989 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:28:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:29:23 KST)" executed successfully
2025-07-28 08:29:23,696 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:29:23,697 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:29:23.982022+09:00 (in 0.284626 seconds)
2025-07-28 08:29:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:29:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:30:23.982022+09:00 (in 59.996449 seconds)
2025-07-28 08:29:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:30:23 KST)" (scheduled at 2025-07-28 17:29:23.982022+09:00)
2025-07-28 08:29:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:29:23.986318
2025-07-28 08:29:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:29:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:29:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:29:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:29:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:29:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:29:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:29:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:30:23 KST)" executed successfully
2025-07-28 08:30:23,732 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:30:23,733 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:30:23.982022+09:00 (in 0.248877 seconds)
2025-07-28 08:30:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:30:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:31:23.982022+09:00 (in 59.998201 seconds)
2025-07-28 08:30:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:31:23 KST)" (scheduled at 2025-07-28 17:30:23.982022+09:00)
2025-07-28 08:30:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:30:23.984690
2025-07-28 08:30:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:30:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:30:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:30:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:30:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:30:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:30:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:30:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:31:23 KST)" executed successfully
2025-07-28 08:31:23,680 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:31:23,680 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:31:23.982022+09:00 (in 0.301407 seconds)
2025-07-28 08:31:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:31:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:32:23.982022+09:00 (in 59.998884 seconds)
2025-07-28 08:31:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:32:23 KST)" (scheduled at 2025-07-28 17:31:23.982022+09:00)
2025-07-28 08:31:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:31:23.983804
2025-07-28 08:31:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:31:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:31:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:31:23,985 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:31:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:31:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:31:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:31:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:32:23 KST)" executed successfully
2025-07-28 08:32:23,715 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:32:23,716 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:32:23.982022+09:00 (in 0.265908 seconds)
2025-07-28 08:32:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:32:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:33:23.982022+09:00 (in 59.998815 seconds)
2025-07-28 08:32:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:33:23 KST)" (scheduled at 2025-07-28 17:32:23.982022+09:00)
2025-07-28 08:32:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:32:23.984067
2025-07-28 08:32:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:32:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:32:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:32:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:32:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:32:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:32:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:32:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:33:23 KST)" executed successfully
2025-07-28 08:33:23,710 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:33:23,711 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:33:23.982022+09:00 (in 0.270999 seconds)
2025-07-28 08:33:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:33:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:34:23.982022+09:00 (in 59.998609 seconds)
2025-07-28 08:33:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:34:23 KST)" (scheduled at 2025-07-28 17:33:23.982022+09:00)
2025-07-28 08:33:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:33:23.984141
2025-07-28 08:33:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:33:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:33:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:33:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:33:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:33:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:33:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:33:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:34:23 KST)" executed successfully
2025-07-28 08:34:23,712 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:34:23,713 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:34:23.982022+09:00 (in 0.269018 seconds)
2025-07-28 08:34:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:34:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:35:23.982022+09:00 (in 59.998682 seconds)
2025-07-28 08:34:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:35:23 KST)" (scheduled at 2025-07-28 17:34:23.982022+09:00)
2025-07-28 08:34:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:34:23.984550
2025-07-28 08:34:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:34:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:34:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:34:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:34:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:34:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:34:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:34:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:35:23 KST)" executed successfully
2025-07-28 08:35:23,667 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:35:23,667 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:35:23.982022+09:00 (in 0.314286 seconds)
2025-07-28 08:35:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:35:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:36:23.982022+09:00 (in 59.998537 seconds)
2025-07-28 08:35:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:36:23 KST)" (scheduled at 2025-07-28 17:35:23.982022+09:00)
2025-07-28 08:35:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:35:23.984308
2025-07-28 08:35:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:35:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:35:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:35:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:35:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:35:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:35:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:35:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:36:23 KST)" executed successfully
2025-07-28 08:36:23,709 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:36:23,709 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:36:23.982022+09:00 (in 0.272449 seconds)
2025-07-28 08:36:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:36:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:37:23.982022+09:00 (in 59.998570 seconds)
2025-07-28 08:36:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:37:23 KST)" (scheduled at 2025-07-28 17:36:23.982022+09:00)
2025-07-28 08:36:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:36:23.984106
2025-07-28 08:36:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:36:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:36:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:36:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:36:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:36:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:36:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:36:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:37:23 KST)" executed successfully
2025-07-28 08:36:39,559 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:36:39,804 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:37:23,702 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:37:23,703 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:37:23.982022+09:00 (in 0.278796 seconds)
2025-07-28 08:37:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:37:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:38:23.982022+09:00 (in 59.997880 seconds)
2025-07-28 08:37:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:38:23 KST)" (scheduled at 2025-07-28 17:37:23.982022+09:00)
2025-07-28 08:37:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:37:23.984889
2025-07-28 08:37:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:37:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:37:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:37:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:37:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:37:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:37:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:37:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:38:23 KST)" executed successfully
2025-07-28 08:38:23,697 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:38:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:38:23.982022+09:00 (in 0.283398 seconds)
2025-07-28 08:38:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:38:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:39:23.982022+09:00 (in 59.998953 seconds)
2025-07-28 08:38:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:39:23 KST)" (scheduled at 2025-07-28 17:38:23.982022+09:00)
2025-07-28 08:38:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:38:23.983868
2025-07-28 08:38:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:38:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:38:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:38:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:38:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:38:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:38:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:38:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:39:23 KST)" executed successfully
2025-07-28 08:39:23,683 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:39:23,684 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:39:23.982022+09:00 (in 0.297787 seconds)
2025-07-28 08:39:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:39:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:40:23.982022+09:00 (in 59.996879 seconds)
2025-07-28 08:39:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:40:23 KST)" (scheduled at 2025-07-28 17:39:23.982022+09:00)
2025-07-28 08:39:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:39:23.985866
2025-07-28 08:39:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:39:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:39:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:39:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:39:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:39:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:39:23,989 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:39:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:40:23 KST)" executed successfully
2025-07-28 08:39:30,845 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:39:30,861 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:40:23,698 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:40:23,698 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:40:23.982022+09:00 (in 0.283067 seconds)
2025-07-28 08:40:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:40:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:41:23.982022+09:00 (in 59.998344 seconds)
2025-07-28 08:40:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:41:23 KST)" (scheduled at 2025-07-28 17:40:23.982022+09:00)
2025-07-28 08:40:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:40:23.984537
2025-07-28 08:40:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:40:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:40:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:40:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:40:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:40:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:40:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:40:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:41:23 KST)" executed successfully
2025-07-28 08:41:23,682 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:41:23,682 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:41:23.982022+09:00 (in 0.299487 seconds)
2025-07-28 08:41:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:41:23,988 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:42:23.982022+09:00 (in 59.993719 seconds)
2025-07-28 08:41:23,990 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:42:23 KST)" (scheduled at 2025-07-28 17:41:23.982022+09:00)
2025-07-28 08:41:23,995 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:41:23.995010
2025-07-28 08:41:23,997 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:41:24,001 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:41:24,002 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:41:24,006 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:41:24,006 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:41:24,007 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:41:24,007 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:41:24,007 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:42:23 KST)" executed successfully
2025-07-28 08:42:23,699 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:42:23,700 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:42:23.982022+09:00 (in 0.282009 seconds)
2025-07-28 08:42:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:42:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:43:23.982022+09:00 (in 59.997713 seconds)
2025-07-28 08:42:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:43:23 KST)" (scheduled at 2025-07-28 17:42:23.982022+09:00)
2025-07-28 08:42:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:42:23.985252
2025-07-28 08:42:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:42:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:42:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:42:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:42:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:42:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:42:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:42:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:43:23 KST)" executed successfully
2025-07-28 08:43:23,703 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:43:23,704 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:43:23.982022+09:00 (in 0.277828 seconds)
2025-07-28 08:43:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:43:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:44:23.982022+09:00 (in 59.997998 seconds)
2025-07-28 08:43:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:44:23 KST)" (scheduled at 2025-07-28 17:43:23.982022+09:00)
2025-07-28 08:43:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:43:23.985477
2025-07-28 08:43:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:43:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:43:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:43:23,991 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:43:23,991 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:43:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:43:23,993 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:43:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:44:23 KST)" executed successfully
2025-07-28 08:44:23,664 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:44:23,665 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:44:23.982022+09:00 (in 0.316778 seconds)
2025-07-28 08:44:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:44:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:45:23.982022+09:00 (in 59.998575 seconds)
2025-07-28 08:44:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:45:23 KST)" (scheduled at 2025-07-28 17:44:23.982022+09:00)
2025-07-28 08:44:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:44:23.984428
2025-07-28 08:44:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:44:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:44:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:44:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:44:23,990 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:44:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:44:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:44:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:45:23 KST)" executed successfully
2025-07-28 08:45:23,692 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:45:23,692 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:45:23.982022+09:00 (in 0.289425 seconds)
2025-07-28 08:45:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:45:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:46:23.982022+09:00 (in 59.998766 seconds)
2025-07-28 08:45:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:46:23 KST)" (scheduled at 2025-07-28 17:45:23.982022+09:00)
2025-07-28 08:45:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:45:23.984202
2025-07-28 08:45:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:45:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:45:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:45:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:45:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:45:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:45:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:45:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:46:23 KST)" executed successfully
2025-07-28 08:46:23,666 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:46:23,667 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:46:23.982022+09:00 (in 0.314743 seconds)
2025-07-28 08:46:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:46:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:47:23.982022+09:00 (in 59.998160 seconds)
2025-07-28 08:46:23,989 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:47:23 KST)" (scheduled at 2025-07-28 17:46:23.982022+09:00)
2025-07-28 08:46:23,989 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:46:23.989870
2025-07-28 08:46:23,990 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:46:23,990 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:46:23,990 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:46:23,994 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:46:23,995 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:46:23,996 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:46:23,996 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:46:23,996 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:47:23 KST)" executed successfully
2025-07-28 08:47:23,699 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:47:23,700 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:47:23.982022+09:00 (in 0.281591 seconds)
2025-07-28 08:47:23,985 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:47:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:48:23.982022+09:00 (in 59.996063 seconds)
2025-07-28 08:47:23,986 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:48:23 KST)" (scheduled at 2025-07-28 17:47:23.982022+09:00)
2025-07-28 08:47:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:47:23.986605
2025-07-28 08:47:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:47:23,987 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:47:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:47:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:47:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:47:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:47:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:47:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:48:23 KST)" executed successfully
2025-07-28 08:48:23,021 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:48:23,022 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:48:23.982022+09:00 (in 0.959493 seconds)
2025-07-28 08:48:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:48:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:49:23.982022+09:00 (in 59.998817 seconds)
2025-07-28 08:48:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:49:23 KST)" (scheduled at 2025-07-28 17:48:23.982022+09:00)
2025-07-28 08:48:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:48:23.984324
2025-07-28 08:48:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:48:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:48:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:48:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:48:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:48:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:48:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:48:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:49:23 KST)" executed successfully
2025-07-28 08:49:23,975 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:49:23,976 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:49:23.982022+09:00 (in 0.005549 seconds)
2025-07-28 08:49:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:49:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:50:23.982022+09:00 (in 59.998691 seconds)
2025-07-28 08:49:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:50:23 KST)" (scheduled at 2025-07-28 17:49:23.982022+09:00)
2025-07-28 08:49:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:49:23.984221
2025-07-28 08:49:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:49:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:49:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:49:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:49:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:49:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:49:23,989 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:49:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:50:23 KST)" executed successfully
2025-07-28 08:50:23,701 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:50:23,702 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:50:23.982022+09:00 (in 0.279976 seconds)
2025-07-28 08:50:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:50:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:51:23.982022+09:00 (in 59.997769 seconds)
2025-07-28 08:50:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:51:23 KST)" (scheduled at 2025-07-28 17:50:23.982022+09:00)
2025-07-28 08:50:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:50:23.985065
2025-07-28 08:50:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:50:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:50:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:50:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:50:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:50:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:50:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:50:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:51:23 KST)" executed successfully
2025-07-28 08:51:23,670 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:51:23,671 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:51:23.982022+09:00 (in 0.310634 seconds)
2025-07-28 08:51:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:51:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:52:23.982022+09:00 (in 59.998236 seconds)
2025-07-28 08:51:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:52:23 KST)" (scheduled at 2025-07-28 17:51:23.982022+09:00)
2025-07-28 08:51:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:51:23.984581
2025-07-28 08:51:23,996 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:51:23,996 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:51:23,996 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:51:24,005 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:51:24,005 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:51:24,006 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:51:24,006 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:51:24,007 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:52:23 KST)" executed successfully
2025-07-28 08:52:23,695 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:52:23,695 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:52:23.982022+09:00 (in 0.286442 seconds)
2025-07-28 08:52:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:52:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:53:23.982022+09:00 (in 59.997368 seconds)
2025-07-28 08:52:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:53:23 KST)" (scheduled at 2025-07-28 17:52:23.982022+09:00)
2025-07-28 08:52:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:52:23.985736
2025-07-28 08:52:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:52:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:52:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:52:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:52:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:52:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:52:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:52:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:53:23 KST)" executed successfully
2025-07-28 08:53:23,657 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:53:23,658 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:53:23.982022+09:00 (in 0.323635 seconds)
2025-07-28 08:53:23,837 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:53:23,837 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:53:23.982022+09:00 (in 0.144286 seconds)
2025-07-28 08:53:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:53:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:54:23.982022+09:00 (in 59.998459 seconds)
2025-07-28 08:53:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:54:23 KST)" (scheduled at 2025-07-28 17:53:23.982022+09:00)
2025-07-28 08:53:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:53:23.984623
2025-07-28 08:53:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:53:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:53:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:53:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:53:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:53:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:53:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:53:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:54:23 KST)" executed successfully
2025-07-28 08:54:23,686 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:54:23,686 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:54:23.982022+09:00 (in 0.295529 seconds)
2025-07-28 08:54:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:54:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:55:23.982022+09:00 (in 59.998865 seconds)
2025-07-28 08:54:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:55:23 KST)" (scheduled at 2025-07-28 17:54:23.982022+09:00)
2025-07-28 08:54:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:54:23.984310
2025-07-28 08:54:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:54:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:54:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:54:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:54:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:54:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:54:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:54:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:55:23 KST)" executed successfully
2025-07-28 08:55:23,690 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:55:23,690 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:55:23.982022+09:00 (in 0.291534 seconds)
2025-07-28 08:55:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:55:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:56:23.982022+09:00 (in 59.998849 seconds)
2025-07-28 08:55:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:56:23 KST)" (scheduled at 2025-07-28 17:55:23.982022+09:00)
2025-07-28 08:55:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:55:23.983987
2025-07-28 08:55:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:55:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:55:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:55:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:55:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:55:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:55:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:55:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:56:23 KST)" executed successfully
2025-07-28 08:56:23,637 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:56:23,637 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:56:23.982022+09:00 (in 0.344616 seconds)
2025-07-28 08:56:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:56:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:57:23.982022+09:00 (in 59.998444 seconds)
2025-07-28 08:56:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:57:23 KST)" (scheduled at 2025-07-28 17:56:23.982022+09:00)
2025-07-28 08:56:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:56:23.984379
2025-07-28 08:56:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:56:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:56:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:56:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:56:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:56:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:56:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:56:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:57:23 KST)" executed successfully
2025-07-28 08:57:23,682 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:57:23,683 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:57:23.982022+09:00 (in 0.298936 seconds)
2025-07-28 08:57:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:57:23,982 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:58:23.982022+09:00 (in 59.999047 seconds)
2025-07-28 08:57:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:58:23 KST)" (scheduled at 2025-07-28 17:57:23.982022+09:00)
2025-07-28 08:57:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:57:23.983724
2025-07-28 08:57:23,983 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:57:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:57:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:57:23,985 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:57:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:57:23,986 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:57:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:57:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:58:23 KST)" executed successfully
2025-07-28 08:58:22,871 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:58:22,872 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:58:23.982022+09:00 (in 1.109813 seconds)
2025-07-28 08:58:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:58:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:59:23.982022+09:00 (in 59.998817 seconds)
2025-07-28 08:58:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:59:23 KST)" (scheduled at 2025-07-28 17:58:23.982022+09:00)
2025-07-28 08:58:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:58:23.983851
2025-07-28 08:58:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:58:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:58:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:58:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:58:23,986 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:58:23,986 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:58:23,987 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:58:23,987 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 17:59:23 KST)" executed successfully
2025-07-28 08:59:22,901 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:59:22,902 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 17:59:23.982022+09:00 (in 1.080039 seconds)
2025-07-28 08:59:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:59:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:00:00+09:00 (in 36.016746 seconds)
2025-07-28 08:59:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:00:23 KST)" (scheduled at 2025-07-28 17:59:23.982022+09:00)
2025-07-28 08:59:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 08:59:23.984042
2025-07-28 08:59:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 08:59:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 08:59:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 08:59:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 08:59:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 08:59:23,987 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 08:59:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 08:59:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:00:23 KST)" executed successfully
2025-07-28 08:59:59,459 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 08:59:59,459 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:00:00+09:00 (in 0.540065 seconds)
2025-07-28 09:00:00,001 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:00:00,002 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:00:23.982022+09:00 (in 23.979759 seconds)
2025-07-28 09:00:00,002 - apscheduler.executors.default - INFO - Running job "update_daily_price_job (trigger: cron[hour='18', minute='0'], next run at: 2025-07-29 18:00:00 KST)" (scheduled at 2025-07-28 18:00:00+09:00)
2025-07-28 09:00:00,003 - main - INFO - [APScheduler] 일별시세 갱신 잡 실행: 2025-07-28 09:00:00.003285
2025-07-28 09:00:00,003 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:00:00,003 - main - DEBUG - 일별시세 갱신 시작...
2025-07-28 09:00:00,003 - main - ERROR - 일별시세 갱신 잡 실행 중 오류: 'StockService' object has no attribute 'update_all_daily_prices'
Traceback (most recent call last):
  File "/app/src/api/main.py", line 93, in update_daily_price_job
    stock_service.update_all_daily_prices(db)
AttributeError: 'StockService' object has no attribute 'update_all_daily_prices'. Did you mean: 'update_daily_prices'?
2025-07-28 09:00:00,008 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:00:00,009 - apscheduler.executors.default - INFO - Job "update_daily_price_job (trigger: cron[hour='18', minute='0'], next run at: 2025-07-29 18:00:00 KST)" executed successfully
2025-07-28 09:00:23,440 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:00:23,440 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:00:23.982022+09:00 (in 0.541419 seconds)
2025-07-28 09:00:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:00:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:01:23.982022+09:00 (in 59.998748 seconds)
2025-07-28 09:00:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:01:23 KST)" (scheduled at 2025-07-28 18:00:23.982022+09:00)
2025-07-28 09:00:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:00:23.983936
2025-07-28 09:00:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:00:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:00:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:00:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:00:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:00:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:00:23,989 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:00:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:01:23 KST)" executed successfully
2025-07-28 09:01:22,852 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:01:22,853 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:01:23.982022+09:00 (in 1.128837 seconds)
2025-07-28 09:01:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:01:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:02:23.982022+09:00 (in 59.998605 seconds)
2025-07-28 09:01:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:02:23 KST)" (scheduled at 2025-07-28 18:01:23.982022+09:00)
2025-07-28 09:01:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:01:23.984318
2025-07-28 09:01:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:01:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:01:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:01:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:01:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:01:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:01:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:01:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:02:23 KST)" executed successfully
2025-07-28 09:02:22,705 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:02:22,706 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:02:23.982022+09:00 (in 1.275960 seconds)
2025-07-28 09:02:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:02:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:03:23.982022+09:00 (in 59.997957 seconds)
2025-07-28 09:02:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:03:23 KST)" (scheduled at 2025-07-28 18:02:23.982022+09:00)
2025-07-28 09:02:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:02:23.984940
2025-07-28 09:02:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:02:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:02:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:02:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:02:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:02:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:02:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:02:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:03:23 KST)" executed successfully
2025-07-28 09:03:22,856 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:03:22,856 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:03:23.982022+09:00 (in 1.125138 seconds)
2025-07-28 09:03:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:03:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:04:23.982022+09:00 (in 59.997866 seconds)
2025-07-28 09:03:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:04:23 KST)" (scheduled at 2025-07-28 18:03:23.982022+09:00)
2025-07-28 09:03:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:03:23.985087
2025-07-28 09:03:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:03:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:03:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:03:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:03:23,988 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:03:23,989 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:03:23,989 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:03:23,989 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:04:23 KST)" executed successfully
2025-07-28 09:04:22,806 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:04:22,806 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:04:23.982022+09:00 (in 1.175525 seconds)
2025-07-28 09:04:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:04:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:05:23.982022+09:00 (in 59.997826 seconds)
2025-07-28 09:04:23,988 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:05:23 KST)" (scheduled at 2025-07-28 18:04:23.982022+09:00)
2025-07-28 09:04:23,989 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:04:23.989575
2025-07-28 09:04:23,989 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:04:23,990 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:04:23,990 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:04:23,994 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:04:23,995 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:04:23,996 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:04:23,996 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:04:23,997 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:05:23 KST)" executed successfully
2025-07-28 09:05:22,813 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:05:22,814 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:05:23.982022+09:00 (in 1.167676 seconds)
2025-07-28 09:05:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:05:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:06:23.982022+09:00 (in 59.998644 seconds)
2025-07-28 09:05:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:06:23 KST)" (scheduled at 2025-07-28 18:05:23.982022+09:00)
2025-07-28 09:05:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:05:23.984307
2025-07-28 09:05:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:05:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:05:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:05:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:05:23,987 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:05:23,988 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:05:23,988 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:05:23,988 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:06:23 KST)" executed successfully
2025-07-28 09:06:22,815 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:06:22,815 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:06:23.982022+09:00 (in 1.166255 seconds)
2025-07-28 09:06:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:06:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:07:23.982022+09:00 (in 59.998633 seconds)
2025-07-28 09:06:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:07:23 KST)" (scheduled at 2025-07-28 18:06:23.982022+09:00)
2025-07-28 09:06:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:06:23.984193
2025-07-28 09:06:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:06:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:06:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:06:23,990 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:06:23,991 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:06:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:06:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:06:23,992 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:07:23 KST)" executed successfully
2025-07-28 09:06:28,961 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:06:28,979 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:06:28,993 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:28,993 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:28,995 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:28,995 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:48,396 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:06:48,400 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:06:48,404 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:48,405 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:48,406 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:06:48,406 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:07:22,703 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:07:22,705 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:07:23.982022+09:00 (in 1.277044 seconds)
2025-07-28 09:07:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:07:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:08:23.982022+09:00 (in 59.997101 seconds)
2025-07-28 09:07:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:08:23 KST)" (scheduled at 2025-07-28 18:07:23.982022+09:00)
2025-07-28 09:07:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:07:23.986197
2025-07-28 09:07:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:07:23,987 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:07:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:07:23,997 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:07:23,998 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:07:24,000 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:07:24,001 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:07:24,001 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:08:23 KST)" executed successfully
2025-07-28 09:08:22,770 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:08:22,770 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:08:23.982022+09:00 (in 1.211252 seconds)
2025-07-28 09:08:23,985 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:08:23,986 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:09:23.982022+09:00 (in 59.996019 seconds)
2025-07-28 09:08:23,986 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:09:23 KST)" (scheduled at 2025-07-28 18:08:23.982022+09:00)
2025-07-28 09:08:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:08:23.986934
2025-07-28 09:08:23,987 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:08:23,987 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:08:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:08:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 0개 조회됨.
2025-07-28 09:08:23,989 - main - DEBUG - 활성 알림 수: 0
2025-07-28 09:08:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:08:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:08:23,990 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:09:23 KST)" executed successfully
2025-07-28 09:08:42,733 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:08:42,738 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:08:42,742 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:08:42,742 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:08:42,742 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:08:42,742 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:08:43,565 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2299277719, username=testuser_2299277719
2025-07-28 09:08:43,581 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=2299277719
2025-07-28 09:08:43,699 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:08:43,702 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:08:43,703 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:08:43,707 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 2299277719
2025-07-28 09:08:43,712 - src.api.services.user_service - DEBUG - User not found for telegram_id: 2299277719
2025-07-28 09:08:43,712 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2299277719, username=telegram_user_2299277719
2025-07-28 09:08:43,721 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=2, telegram_id=2299277719
2025-07-28 09:08:43,721 - src.api.services.price_alert_service - DEBUG - 사용자(2)와 종목(AMZN)으로 가격 알림 조회 시도.
2025-07-28 09:08:43,726 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=2, symbol=AMZN
2025-07-28 09:08:43,726 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=2, symbol=AMZN, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:08:43,735 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=2, symbol=AMZN
2025-07-28 09:08:43,737 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:08:43,740 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:09:22,780 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:09:22,780 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:09:23.982022+09:00 (in 1.201413 seconds)
2025-07-28 09:09:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:09:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:10:23.982022+09:00 (in 59.998672 seconds)
2025-07-28 09:09:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:10:23 KST)" (scheduled at 2025-07-28 18:09:23.982022+09:00)
2025-07-28 09:09:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:09:23.984262
2025-07-28 09:09:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:09:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:09:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:09:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 1개 조회됨.
2025-07-28 09:09:23,987 - main - DEBUG - 활성 알림 수: 1
2025-07-28 09:09:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:09:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:09:24,005 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:09:24,005 - main - DEBUG - 종목 AMZN 현재가: 192981
2025-07-28 09:09:24,006 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:09:24,007 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:09:24,007 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:09:24,007 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:09:24,008 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:10:23 KST)" executed successfully
2025-07-28 09:10:22,746 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:10:22,746 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:10:23.982022+09:00 (in 1.235111 seconds)
2025-07-28 09:10:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:10:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:11:23.982022+09:00 (in 59.998656 seconds)
2025-07-28 09:10:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:11:23 KST)" (scheduled at 2025-07-28 18:10:23.982022+09:00)
2025-07-28 09:10:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:10:23.984490
2025-07-28 09:10:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:10:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:10:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:10:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 1개 조회됨.
2025-07-28 09:10:23,988 - main - DEBUG - 활성 알림 수: 1
2025-07-28 09:10:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:10:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:10:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:10:23,990 - main - DEBUG - 종목 AMZN 현재가: 105790
2025-07-28 09:10:23,990 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:10:23,991 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:10:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:10:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:10:23,992 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:11:23 KST)" executed successfully
2025-07-28 09:11:22,621 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:11:22,622 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:11:23.982022+09:00 (in 1.359706 seconds)
2025-07-28 09:11:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:11:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:12:23.982022+09:00 (in 59.998394 seconds)
2025-07-28 09:11:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:12:23 KST)" (scheduled at 2025-07-28 18:11:23.982022+09:00)
2025-07-28 09:11:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:11:23.984379
2025-07-28 09:11:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:11:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:11:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:11:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 1개 조회됨.
2025-07-28 09:11:23,987 - main - DEBUG - 활성 알림 수: 1
2025-07-28 09:11:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:11:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:11:23,989 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:11:23,989 - main - DEBUG - 종목 AMZN 현재가: 158090
2025-07-28 09:11:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:11:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:11:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:11:23,990 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:11:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:12:23 KST)" executed successfully
2025-07-28 09:12:22,720 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:12:22,720 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:12:23.982022+09:00 (in 1.261434 seconds)
2025-07-28 09:12:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:12:23,982 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:13:23.982022+09:00 (in 59.999061 seconds)
2025-07-28 09:12:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:13:23 KST)" (scheduled at 2025-07-28 18:12:23.982022+09:00)
2025-07-28 09:12:23,996 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:12:23.996863
2025-07-28 09:12:23,997 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:12:23,997 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:12:23,997 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:12:24,000 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 1개 조회됨.
2025-07-28 09:12:24,001 - main - DEBUG - 활성 알림 수: 1
2025-07-28 09:12:24,002 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:12:24,009 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:12:24,012 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:12:24,017 - main - DEBUG - 종목 AMZN 현재가: 176654
2025-07-28 09:12:24,017 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:12:24,018 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:12:24,019 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:12:24,019 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:12:24,020 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:13:23 KST)" executed successfully
2025-07-28 09:13:22,649 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:13:22,650 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:13:23.982022+09:00 (in 1.332017 seconds)
2025-07-28 09:13:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:13:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:14:23.982022+09:00 (in 59.998605 seconds)
2025-07-28 09:13:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:14:23 KST)" (scheduled at 2025-07-28 18:13:23.982022+09:00)
2025-07-28 09:13:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:13:23.984601
2025-07-28 09:13:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:13:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:13:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:13:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 1개 조회됨.
2025-07-28 09:13:23,988 - main - DEBUG - 활성 알림 수: 1
2025-07-28 09:13:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:13:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:13:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:13:23,992 - main - DEBUG - 종목 AMZN 현재가: 117142
2025-07-28 09:13:23,993 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:13:23,994 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:13:23,994 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:13:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:13:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:14:23 KST)" executed successfully
2025-07-28 09:14:22,672 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:14:22,672 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:14:23.982022+09:00 (in 1.309368 seconds)
2025-07-28 09:14:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:14:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:15:23.982022+09:00 (in 59.998720 seconds)
2025-07-28 09:14:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:15:23 KST)" (scheduled at 2025-07-28 18:14:23.982022+09:00)
2025-07-28 09:14:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:14:23.984052
2025-07-28 09:14:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:14:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:14:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:14:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 1개 조회됨.
2025-07-28 09:14:23,986 - main - DEBUG - 활성 알림 수: 1
2025-07-28 09:14:23,986 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:14:23,986 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:14:23,988 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:14:23,989 - main - DEBUG - 종목 AMZN 현재가: 105405
2025-07-28 09:14:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:14:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:14:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:14:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:14:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:15:23 KST)" executed successfully
2025-07-28 09:14:46,506 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:14:46,511 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:14:46,515 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:14:46,515 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:14:46,516 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:14:46,516 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:14:47,424 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1823242702, username=testuser_1823242702
2025-07-28 09:14:47,439 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=1823242702
2025-07-28 09:14:47,459 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:14:47,462 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:14:47,463 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:14:47,466 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 1823242702
2025-07-28 09:14:47,470 - src.api.services.user_service - DEBUG - User not found for telegram_id: 1823242702
2025-07-28 09:14:47,471 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1823242702, username=telegram_user_1823242702
2025-07-28 09:14:47,479 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=3, telegram_id=1823242702
2025-07-28 09:14:47,479 - src.api.services.price_alert_service - DEBUG - 사용자(3)와 종목(AMZN)으로 가격 알림 조회 시도.
2025-07-28 09:14:47,482 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=3, symbol=AMZN
2025-07-28 09:14:47,482 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=3, symbol=AMZN, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:14:47,490 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=2, user_id=3, symbol=AMZN
2025-07-28 09:14:47,492 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:14:47,494 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:15:22,679 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:15:22,679 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:15:23.982022+09:00 (in 1.302191 seconds)
2025-07-28 09:15:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:15:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:16:23.982022+09:00 (in 59.998817 seconds)
2025-07-28 09:15:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:16:23 KST)" (scheduled at 2025-07-28 18:15:23.982022+09:00)
2025-07-28 09:15:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:15:23.984112
2025-07-28 09:15:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:15:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:15:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:15:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:15:23,989 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:15:23,989 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:15:23,989 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:15:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:15:23,992 - main - DEBUG - 종목 AMZN 현재가: 158546
2025-07-28 09:15:23,992 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:15:23,992 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:15:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:15:23,994 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:15:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:15:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:16:23 KST)" executed successfully
2025-07-28 09:16:22,650 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:16:22,651 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:16:23.982022+09:00 (in 1.330877 seconds)
2025-07-28 09:16:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:16:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:17:23.982022+09:00 (in 59.998871 seconds)
2025-07-28 09:16:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:17:23 KST)" (scheduled at 2025-07-28 18:16:23.982022+09:00)
2025-07-28 09:16:23,983 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:16:23.983846
2025-07-28 09:16:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:16:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:16:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:16:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:16:23,987 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:16:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:16:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:16:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:16:23,990 - main - DEBUG - 종목 AMZN 현재가: 178038
2025-07-28 09:16:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:16:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:16:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:16:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:16:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:16:23,992 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:17:23 KST)" executed successfully
2025-07-28 09:17:22,551 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:17:22,552 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:17:23.982022+09:00 (in 1.429722 seconds)
2025-07-28 09:17:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:17:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:18:23.982022+09:00 (in 59.998717 seconds)
2025-07-28 09:17:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:18:23 KST)" (scheduled at 2025-07-28 18:17:23.982022+09:00)
2025-07-28 09:17:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:17:23.984170
2025-07-28 09:17:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:17:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:17:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:17:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:17:23,986 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:17:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:17:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:17:23,988 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:17:23,989 - main - DEBUG - 종목 AMZN 현재가: 54003
2025-07-28 09:17:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:17:23,989 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:17:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:17:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:17:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:17:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:18:23 KST)" executed successfully
2025-07-28 09:18:22,620 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:18:22,621 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:18:23.982022+09:00 (in 1.360492 seconds)
2025-07-28 09:18:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:18:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:19:23.982022+09:00 (in 59.998666 seconds)
2025-07-28 09:18:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:19:23 KST)" (scheduled at 2025-07-28 18:18:23.982022+09:00)
2025-07-28 09:18:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:18:23.984120
2025-07-28 09:18:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:18:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:18:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:18:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:18:23,987 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:18:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:18:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:18:23,989 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:18:23,989 - main - DEBUG - 종목 AMZN 현재가: 85908
2025-07-28 09:18:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:18:23,990 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:18:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:18:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:18:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:18:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:19:23 KST)" executed successfully
2025-07-28 09:19:22,630 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:19:22,631 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:19:23.982022+09:00 (in 1.350589 seconds)
2025-07-28 09:19:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:19:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:20:23.982022+09:00 (in 59.998465 seconds)
2025-07-28 09:19:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:20:23 KST)" (scheduled at 2025-07-28 18:19:23.982022+09:00)
2025-07-28 09:19:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:19:23.984533
2025-07-28 09:19:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:19:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:19:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:19:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:19:23,987 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:19:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:19:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:19:23,989 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:19:23,989 - main - DEBUG - 종목 AMZN 현재가: 109844
2025-07-28 09:19:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:19:23,989 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:19:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:19:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:19:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:19:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:20:23 KST)" executed successfully
2025-07-28 09:20:22,572 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:20:22,573 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:20:23.982022+09:00 (in 1.408748 seconds)
2025-07-28 09:20:23,722 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:20:23,722 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:20:23.982022+09:00 (in 0.259462 seconds)
2025-07-28 09:20:23,553 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:20:23,553 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:20:23.982022+09:00 (in 0.428241 seconds)
2025-07-28 09:20:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:20:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:21:23.982022+09:00 (in 59.998545 seconds)
2025-07-28 09:20:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:21:23 KST)" (scheduled at 2025-07-28 18:20:23.982022+09:00)
2025-07-28 09:20:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:20:23.984134
2025-07-28 09:20:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:20:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:20:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:20:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:20:23,988 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:20:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:20:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:20:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:20:23,991 - main - DEBUG - 종목 AMZN 현재가: 85142
2025-07-28 09:20:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:20:23,992 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:20:23,995 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:20:23,995 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:20:23,995 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:20:23,996 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:21:23 KST)" executed successfully
2025-07-28 09:21:22,564 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:21:22,564 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:21:23.982022+09:00 (in 1.417055 seconds)
2025-07-28 09:21:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:21:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:22:23.982022+09:00 (in 59.998479 seconds)
2025-07-28 09:21:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:22:23 KST)" (scheduled at 2025-07-28 18:21:23.982022+09:00)
2025-07-28 09:21:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:21:23.984384
2025-07-28 09:21:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:21:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:21:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:21:23,991 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:21:23,991 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:21:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:21:23,992 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:21:23,996 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:21:23,996 - main - DEBUG - 종목 AMZN 현재가: 152566
2025-07-28 09:21:23,996 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:21:23,997 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:21:23,998 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:21:23,998 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:21:23,998 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:21:23,999 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:22:23 KST)" executed successfully
2025-07-28 09:22:22,573 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:22:22,573 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:22:23.982022+09:00 (in 1.408154 seconds)
2025-07-28 09:22:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:22:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:23:23.982022+09:00 (in 59.997316 seconds)
2025-07-28 09:22:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:23:23 KST)" (scheduled at 2025-07-28 18:22:23.982022+09:00)
2025-07-28 09:22:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:22:23.985644
2025-07-28 09:22:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:22:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:22:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:22:23,991 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:22:23,991 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:22:23,991 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:22:23,992 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:22:23,994 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:22:23,995 - main - DEBUG - 종목 AMZN 현재가: 76081
2025-07-28 09:22:23,995 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:22:23,995 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:22:23,997 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:22:23,999 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:22:24,000 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:22:24,002 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:23:23 KST)" executed successfully
2025-07-28 09:23:22,588 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:23:22,588 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:23:23.982022+09:00 (in 1.393095 seconds)
2025-07-28 09:23:23,985 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:23:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:24:23.982022+09:00 (in 59.996254 seconds)
2025-07-28 09:23:23,986 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:24:23 KST)" (scheduled at 2025-07-28 18:23:23.982022+09:00)
2025-07-28 09:23:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:23:23.986479
2025-07-28 09:23:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:23:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:23:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:23:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 2개 조회됨.
2025-07-28 09:23:23,989 - main - DEBUG - 활성 알림 수: 2
2025-07-28 09:23:23,989 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:23:23,989 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:23:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:23:23,991 - main - DEBUG - 종목 AMZN 현재가: 124788
2025-07-28 09:23:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:23:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:23:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:23:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:23:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:23:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:24:23 KST)" executed successfully
2025-07-28 09:24:12,098 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:24:12,103 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:24:12,106 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:24:12,107 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:24:12,108 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:24:12,108 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:24:12,972 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=4250452131, username=testuser_4250452131
2025-07-28 09:24:12,989 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=4250452131
2025-07-28 09:24:13,008 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:24:13,011 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:24:13,012 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:24:13,016 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 4250452131
2025-07-28 09:24:13,020 - src.api.services.user_service - DEBUG - User not found for telegram_id: 4250452131
2025-07-28 09:24:13,021 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=4250452131, username=telegram_user_4250452131
2025-07-28 09:24:13,028 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=4, telegram_id=4250452131
2025-07-28 09:24:13,029 - src.api.services.price_alert_service - DEBUG - 사용자(4)와 종목(AMZN)으로 가격 알림 조회 시도.
2025-07-28 09:24:13,034 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=4, symbol=AMZN
2025-07-28 09:24:13,035 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=4, symbol=AMZN, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:24:13,042 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=3, user_id=4, symbol=AMZN
2025-07-28 09:24:13,044 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:24:13,046 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:24:22,565 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:24:22,566 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:24:23.982022+09:00 (in 1.416046 seconds)
2025-07-28 09:24:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:24:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:25:23.982022+09:00 (in 59.998584 seconds)
2025-07-28 09:24:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:25:23 KST)" (scheduled at 2025-07-28 18:24:23.982022+09:00)
2025-07-28 09:24:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:24:23.984358
2025-07-28 09:24:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:24:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:24:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:24:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:24:23,988 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:24:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:24:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:24:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:24:23,991 - main - DEBUG - 종목 AMZN 현재가: 145139
2025-07-28 09:24:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:24:23,992 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:24:23,992 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:24:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:24:23,993 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:24:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:24:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:25:23 KST)" executed successfully
2025-07-28 09:25:22,525 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:25:22,525 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:25:23.982022+09:00 (in 1.456228 seconds)
2025-07-28 09:25:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:25:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:26:23.982022+09:00 (in 59.997952 seconds)
2025-07-28 09:25:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:26:23 KST)" (scheduled at 2025-07-28 18:25:23.982022+09:00)
2025-07-28 09:25:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:25:23.984937
2025-07-28 09:25:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:25:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:25:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:25:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:25:23,987 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:25:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:25:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:25:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:25:23,990 - main - DEBUG - 종목 AMZN 현재가: 146338
2025-07-28 09:25:23,990 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:25:23,990 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:25:23,990 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:25:23,991 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:25:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:25:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:25:23,992 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:26:23 KST)" executed successfully
2025-07-28 09:26:22,564 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:26:22,564 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:26:23.982022+09:00 (in 1.417472 seconds)
2025-07-28 09:26:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:26:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:27:23.982022+09:00 (in 59.998760 seconds)
2025-07-28 09:26:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:27:23 KST)" (scheduled at 2025-07-28 18:26:23.982022+09:00)
2025-07-28 09:26:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:26:23.984060
2025-07-28 09:26:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:26:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:26:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:26:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:26:23,986 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:26:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:26:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:26:23,989 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:26:23,989 - main - DEBUG - 종목 AMZN 현재가: 183323
2025-07-28 09:26:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:26:23,989 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:26:23,990 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:26:23,991 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:26:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:26:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:26:23,992 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:27:23 KST)" executed successfully
2025-07-28 09:27:22,564 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:27:22,564 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:27:23.982022+09:00 (in 1.417506 seconds)
2025-07-28 09:27:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:27:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:28:23.982022+09:00 (in 59.998619 seconds)
2025-07-28 09:27:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:28:23 KST)" (scheduled at 2025-07-28 18:27:23.982022+09:00)
2025-07-28 09:27:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:27:23.985248
2025-07-28 09:27:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:27:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:27:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:27:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:27:23,988 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:27:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:27:23,989 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:27:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:27:23,991 - main - DEBUG - 종목 AMZN 현재가: 54874
2025-07-28 09:27:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:27:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:27:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:27:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:27:23,993 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:27:23,993 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:27:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:28:23 KST)" executed successfully
2025-07-28 09:28:22,538 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:28:22,538 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:28:23.982022+09:00 (in 1.443401 seconds)
2025-07-28 09:28:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:28:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:29:23.982022+09:00 (in 59.996642 seconds)
2025-07-28 09:28:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:29:23 KST)" (scheduled at 2025-07-28 18:28:23.982022+09:00)
2025-07-28 09:28:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:28:23.986756
2025-07-28 09:28:23,987 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:28:23,987 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:28:23,987 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:28:23,989 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:28:23,990 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:28:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:28:23,990 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:28:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:28:23,991 - main - DEBUG - 종목 AMZN 현재가: 104473
2025-07-28 09:28:23,992 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:28:23,992 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:28:23,992 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:28:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:28:23,993 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:28:23,993 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:28:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:29:23 KST)" executed successfully
2025-07-28 09:29:22,510 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:29:22,510 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:29:23.982022+09:00 (in 1.471263 seconds)
2025-07-28 09:29:22,710 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:29:22,715 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:29:22,720 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:29:22,720 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:29:22,721 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:29:22,721 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:29:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:29:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:30:23.982022+09:00 (in 59.998814 seconds)
2025-07-28 09:29:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:30:23 KST)" (scheduled at 2025-07-28 18:29:23.982022+09:00)
2025-07-28 09:29:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:29:23.984100
2025-07-28 09:29:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:29:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:29:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:29:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:29:23,987 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:29:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:29:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:29:23,994 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:29:23,995 - main - DEBUG - 종목 AMZN 현재가: 137809
2025-07-28 09:29:23,995 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:29:23,995 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:29:23,996 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:29:23,998 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:29:23,999 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:29:23,999 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:29:24,000 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:30:23 KST)" executed successfully
2025-07-28 09:30:22,543 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:30:22,544 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:30:23.982022+09:00 (in 1.437893 seconds)
2025-07-28 09:30:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:30:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:31:23.982022+09:00 (in 59.998754 seconds)
2025-07-28 09:30:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:31:23 KST)" (scheduled at 2025-07-28 18:30:23.982022+09:00)
2025-07-28 09:30:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:30:23.984069
2025-07-28 09:30:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:30:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:30:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:30:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:30:23,987 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:30:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:30:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:30:23,988 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:30:23,989 - main - DEBUG - 종목 AMZN 현재가: 73612
2025-07-28 09:30:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:30:23,989 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:30:23,989 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:30:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:30:23,990 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:30:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:30:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:31:23 KST)" executed successfully
2025-07-28 09:31:11,144 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:31:11,151 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:31:11,155 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:31:11,155 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:31:11,156 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:31:11,156 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:31:22,517 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:31:22,518 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:31:23.982022+09:00 (in 1.463716 seconds)
2025-07-28 09:31:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:31:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:32:23.982022+09:00 (in 59.997106 seconds)
2025-07-28 09:31:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:32:23 KST)" (scheduled at 2025-07-28 18:31:23.982022+09:00)
2025-07-28 09:31:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:31:23.985747
2025-07-28 09:31:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:31:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:31:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:31:23,991 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:31:23,992 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:31:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:31:23,992 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:31:23,995 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:31:23,995 - main - DEBUG - 종목 AMZN 현재가: 194613
2025-07-28 09:31:23,995 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:31:23,996 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:31:23,996 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:31:23,998 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:31:24,000 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:31:24,000 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:31:24,000 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:32:23 KST)" executed successfully
2025-07-28 09:32:22,464 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:32:22,464 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:32:23.982022+09:00 (in 1.517208 seconds)
2025-07-28 09:32:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:32:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:33:23.982022+09:00 (in 59.998550 seconds)
2025-07-28 09:32:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:33:23 KST)" (scheduled at 2025-07-28 18:32:23.982022+09:00)
2025-07-28 09:32:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:32:23.984245
2025-07-28 09:32:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:32:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:32:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:32:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:32:23,987 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:32:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:32:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:32:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:32:23,991 - main - DEBUG - 종목 AMZN 현재가: 153946
2025-07-28 09:32:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:32:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:32:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:32:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:32:23,994 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:32:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:32:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:33:23 KST)" executed successfully
2025-07-28 09:33:22,531 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:33:22,531 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:33:23.982022+09:00 (in 1.450408 seconds)
2025-07-28 09:33:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:33:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:34:23.982022+09:00 (in 59.997658 seconds)
2025-07-28 09:33:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:34:23 KST)" (scheduled at 2025-07-28 18:33:23.982022+09:00)
2025-07-28 09:33:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:33:23.985368
2025-07-28 09:33:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:33:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:33:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:33:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:33:23,988 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:33:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:33:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:33:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:33:23,991 - main - DEBUG - 종목 AMZN 현재가: 179693
2025-07-28 09:33:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:33:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:33:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:33:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:33:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:33:23,993 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:33:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:34:23 KST)" executed successfully
2025-07-28 09:34:22,524 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:34:22,524 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:34:23.982022+09:00 (in 1.457144 seconds)
2025-07-28 09:34:23,986 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:34:23,987 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:35:23.982022+09:00 (in 59.994269 seconds)
2025-07-28 09:34:23,988 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:35:23 KST)" (scheduled at 2025-07-28 18:34:23.982022+09:00)
2025-07-28 09:34:23,990 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:34:23.990129
2025-07-28 09:34:23,990 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:34:23,990 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:34:23,991 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:34:23,994 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:34:23,994 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:34:23,994 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:34:23,995 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:34:23,997 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:34:23,998 - main - DEBUG - 종목 AMZN 현재가: 199306
2025-07-28 09:34:23,998 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:34:23,998 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:34:23,998 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:34:23,999 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:34:23,999 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:34:24,000 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:34:24,000 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:35:23 KST)" executed successfully
2025-07-28 09:35:22,457 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:35:22,457 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:35:23.982022+09:00 (in 1.524264 seconds)
2025-07-28 09:35:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:35:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:36:23.982022+09:00 (in 59.998009 seconds)
2025-07-28 09:35:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:36:23 KST)" (scheduled at 2025-07-28 18:35:23.982022+09:00)
2025-07-28 09:35:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:35:23.984752
2025-07-28 09:35:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:35:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:35:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:35:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:35:23,988 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:35:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:35:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:35:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:35:23,991 - main - DEBUG - 종목 AMZN 현재가: 61267
2025-07-28 09:35:23,992 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:35:23,992 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:35:23,992 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:35:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:35:23,994 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:35:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:35:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:36:23 KST)" executed successfully
2025-07-28 09:36:22,487 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:36:22,488 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:36:23.982022+09:00 (in 1.493995 seconds)
2025-07-28 09:36:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:36:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:37:23.982022+09:00 (in 59.998081 seconds)
2025-07-28 09:36:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:37:23 KST)" (scheduled at 2025-07-28 18:36:23.982022+09:00)
2025-07-28 09:36:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:36:23.984815
2025-07-28 09:36:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:36:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:36:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:36:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:36:23,987 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:36:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:36:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:36:23,989 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:36:23,989 - main - DEBUG - 종목 AMZN 현재가: 56695
2025-07-28 09:36:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:36:23,990 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:36:23,990 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:36:23,991 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:36:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:36:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:36:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:37:23 KST)" executed successfully
2025-07-28 09:37:22,498 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:37:22,499 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:37:23.982022+09:00 (in 1.482549 seconds)
2025-07-28 09:37:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:37:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:38:23.982022+09:00 (in 59.998501 seconds)
2025-07-28 09:37:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:38:23 KST)" (scheduled at 2025-07-28 18:37:23.982022+09:00)
2025-07-28 09:37:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:37:23.984436
2025-07-28 09:37:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:37:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:37:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:37:23,986 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:37:23,987 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:37:23,987 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:37:23,987 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:37:23,989 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:37:23,989 - main - DEBUG - 종목 AMZN 현재가: 99753
2025-07-28 09:37:23,989 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:37:23,989 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:37:23,990 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:37:23,990 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:37:23,991 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:37:23,991 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:37:23,991 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:38:23 KST)" executed successfully
2025-07-28 09:38:22,478 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:38:22,478 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:38:23.982022+09:00 (in 1.503426 seconds)
2025-07-28 09:38:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:38:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:39:23.982022+09:00 (in 59.997496 seconds)
2025-07-28 09:38:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:39:23 KST)" (scheduled at 2025-07-28 18:38:23.982022+09:00)
2025-07-28 09:38:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:38:23.985368
2025-07-28 09:38:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:38:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:38:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:38:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 3개 조회됨.
2025-07-28 09:38:23,988 - main - DEBUG - 활성 알림 수: 3
2025-07-28 09:38:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 3
2025-07-28 09:38:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:38:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:38:23,990 - main - DEBUG - 종목 AMZN 현재가: 107275
2025-07-28 09:38:23,990 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:38:23,990 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:38:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:38:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:38:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:38:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:38:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:39:23 KST)" executed successfully
2025-07-28 09:38:39,991 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:38:39,997 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:38:40,001 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:38:40,001 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:38:40,002 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:38:40,002 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:38:40,887 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=6801147870, username=testuser_6801147870
2025-07-28 09:38:40,904 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=6801147870
2025-07-28 09:38:40,925 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:38:40,928 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:38:40,929 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:38:40,932 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 6801147870
2025-07-28 09:38:40,938 - src.api.services.user_service - DEBUG - User not found for telegram_id: 6801147870
2025-07-28 09:38:40,938 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=6801147870, username=telegram_user_6801147870
2025-07-28 09:38:40,946 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=5, telegram_id=6801147870
2025-07-28 09:38:40,946 - src.api.services.price_alert_service - DEBUG - 사용자(5)와 종목(AMZN)으로 가격 알림 조회 시도.
2025-07-28 09:38:40,950 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=5, symbol=AMZN
2025-07-28 09:38:40,950 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=5, symbol=AMZN, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:38:40,957 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=4, user_id=5, symbol=AMZN
2025-07-28 09:38:40,959 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:38:40,963 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:39:22,451 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:39:22,451 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:39:23.982022+09:00 (in 1.530160 seconds)
2025-07-28 09:39:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:39:23,985 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:40:23.982022+09:00 (in 59.996990 seconds)
2025-07-28 09:39:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:40:23 KST)" (scheduled at 2025-07-28 18:39:23.982022+09:00)
2025-07-28 09:39:23,986 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:39:23.986225
2025-07-28 09:39:23,986 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:39:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:39:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:39:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 4개 조회됨.
2025-07-28 09:39:23,989 - main - DEBUG - 활성 알림 수: 4
2025-07-28 09:39:23,989 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:39:23,989 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:39:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:39:23,991 - main - DEBUG - 종목 AMZN 현재가: 146789
2025-07-28 09:39:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:39:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:39:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:39:23,991 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:39:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:39:23,993 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:39:23,993 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:39:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:40:23 KST)" executed successfully
2025-07-28 09:40:22,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:40:22,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:40:23.982022+09:00 (in 1.512531 seconds)
2025-07-28 09:40:23,982 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:40:23,983 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:41:23.982022+09:00 (in 59.998614 seconds)
2025-07-28 09:40:23,983 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:41:23 KST)" (scheduled at 2025-07-28 18:40:23.982022+09:00)
2025-07-28 09:40:23,984 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:40:23.984319
2025-07-28 09:40:23,984 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:40:23,984 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:40:23,984 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:40:23,987 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 4개 조회됨.
2025-07-28 09:40:23,988 - main - DEBUG - 활성 알림 수: 4
2025-07-28 09:40:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:40:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:40:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:40:23,990 - main - DEBUG - 종목 AMZN 현재가: 173859
2025-07-28 09:40:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:40:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:40:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:40:23,991 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:40:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:40:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:40:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:40:23,993 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:41:23 KST)" executed successfully
2025-07-28 09:41:22,471 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:41:22,471 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:41:23.982022+09:00 (in 1.510142 seconds)
2025-07-28 09:41:23,210 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:41:23,210 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:41:23.982022+09:00 (in 0.771494 seconds)
2025-07-28 09:41:23,986 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:41:23,987 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:42:23.982022+09:00 (in 59.995014 seconds)
2025-07-28 09:41:23,987 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:42:23 KST)" (scheduled at 2025-07-28 18:41:23.982022+09:00)
2025-07-28 09:41:23,988 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:41:23.988116
2025-07-28 09:41:23,988 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:41:23,988 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:41:23,989 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:41:23,991 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 4개 조회됨.
2025-07-28 09:41:23,991 - main - DEBUG - 활성 알림 수: 4
2025-07-28 09:41:23,992 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:41:23,992 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:41:23,994 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:41:23,995 - main - DEBUG - 종목 AMZN 현재가: 167337
2025-07-28 09:41:23,995 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:41:23,995 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:41:23,995 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:41:23,996 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:41:23,997 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:41:23,997 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:41:23,997 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:41:23,998 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:42:23 KST)" executed successfully
2025-07-28 09:42:22,454 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:42:22,455 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:42:23.982022+09:00 (in 1.526954 seconds)
2025-07-28 09:42:23,984 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:42:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:43:23.982022+09:00 (in 59.997223 seconds)
2025-07-28 09:42:23,985 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:43:23 KST)" (scheduled at 2025-07-28 18:42:23.982022+09:00)
2025-07-28 09:42:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:42:23.985589
2025-07-28 09:42:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:42:23,986 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:42:23,986 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:42:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 4개 조회됨.
2025-07-28 09:42:23,988 - main - DEBUG - 활성 알림 수: 4
2025-07-28 09:42:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:42:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:42:23,990 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:42:23,990 - main - DEBUG - 종목 AMZN 현재가: 75788
2025-07-28 09:42:23,990 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:42:23,990 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:42:23,990 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:42:23,991 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:42:23,991 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:42:23,992 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:42:23,992 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:42:23,992 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:43:23 KST)" executed successfully
2025-07-28 09:42:39,644 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:42:39,652 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:42:39,655 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:42:39,655 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:42:39,656 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:42:39,656 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:42:40,512 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2845696088, username=testuser_2845696088
2025-07-28 09:42:40,527 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=2845696088
2025-07-28 09:42:40,546 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:42:40,550 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:42:40,552 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:42:40,556 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 2845696088
2025-07-28 09:42:40,562 - src.api.services.user_service - DEBUG - User not found for telegram_id: 2845696088
2025-07-28 09:42:40,563 - src.api.services.price_alert_service - DEBUG - 사용자(1)와 종목(AMZN)으로 가격 알림 조회 시도.
2025-07-28 09:42:40,567 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=1, symbol=AMZN
2025-07-28 09:42:40,568 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:42:40,571 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:43:22,443 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:43:22,443 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:43:23.982022+09:00 (in 1.538437 seconds)
2025-07-28 09:43:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:43:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:44:23.982022+09:00 (in 59.998025 seconds)
2025-07-28 09:43:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:44:23 KST)" (scheduled at 2025-07-28 18:43:23.982022+09:00)
2025-07-28 09:43:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:43:23.985228
2025-07-28 09:43:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:43:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:43:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:43:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 4개 조회됨.
2025-07-28 09:43:23,988 - main - DEBUG - 활성 알림 수: 4
2025-07-28 09:43:23,989 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:43:23,989 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:43:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:43:23,991 - main - DEBUG - 종목 AMZN 현재가: 76724
2025-07-28 09:43:23,992 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:43:23,992 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:43:23,992 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:43:23,992 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:43:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:43:23,993 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:43:23,994 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:43:23,994 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:44:23 KST)" executed successfully
2025-07-28 09:43:34,252 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:43:34,260 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:43:34,263 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:43:34,264 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:43:34,264 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:43:34,264 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:43:35,091 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1547279576, username=testuser_1547279576
2025-07-28 09:43:35,109 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=1547279576
2025-07-28 09:43:35,132 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:43:35,137 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:43:35,139 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:43:35,142 - src.api.routers.bot_router - DEBUG - Before toggle: existing_alert.notify_on_disclosure = True
2025-07-28 09:43:35,142 - src.api.routers.bot_router - DEBUG - Calculated new_status: False
2025-07-28 09:43:35,143 - src.api.routers.bot_router - DEBUG - After update_alert call: updated_alert_orm.notify_on_disclosure = False
2025-07-28 09:43:35,144 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:09,766 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:44:09,771 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:44:09,775 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:09,776 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:09,776 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:09,776 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:10,627 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1817769468, username=testuser_1817769468
2025-07-28 09:44:10,643 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=1817769468
2025-07-28 09:44:10,663 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:10,665 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:10,666 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:10,669 - src.api.routers.bot_router - DEBUG - Before toggle: existing_alert.notify_on_disclosure = True
2025-07-28 09:44:10,669 - src.api.routers.bot_router - DEBUG - Calculated new_status: False
2025-07-28 09:44:10,669 - src.api.routers.bot_router - DEBUG - After update_alert call: updated_alert_orm.notify_on_disclosure = False
2025-07-28 09:44:10,671 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:10,672 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:44:20,477 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:44:20,485 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:44:20,489 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:20,489 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:20,490 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:20,490 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:44:21,302 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2920107396, username=testuser_2920107396
2025-07-28 09:44:21,318 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=2920107396
2025-07-28 09:44:21,330 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:21,334 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:21,335 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:21,339 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 2920107396
2025-07-28 09:44:21,344 - src.api.services.user_service - DEBUG - User not found for telegram_id: 2920107396
2025-07-28 09:44:21,344 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2920107396, username=testuser_2920107396
2025-07-28 09:44:21,353 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=6, telegram_id=2920107396
2025-07-28 09:44:21,354 - src.api.services.price_alert_service - DEBUG - 사용자(6)와 종목(GOOG)으로 가격 알림 조회 시도.
2025-07-28 09:44:21,359 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=6, symbol=GOOG
2025-07-28 09:44:21,359 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=6, symbol=GOOG, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:44:21,372 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=5, user_id=6, symbol=GOOG
2025-07-28 09:44:21,374 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:21,377 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:44:21,516 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2991476617, username=testuser_2991476617
2025-07-28 09:44:21,519 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=2991476617
2025-07-28 09:44:21,521 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:21,523 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:21,524 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:21,524 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 2991476617
2025-07-28 09:44:21,526 - src.api.services.user_service - DEBUG - User not found for telegram_id: 2991476617
2025-07-28 09:44:21,527 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2991476617, username=telegram_user_2991476617
2025-07-28 09:44:21,532 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=7, telegram_id=2991476617
2025-07-28 09:44:21,532 - src.api.services.price_alert_service - DEBUG - 사용자(7)와 종목(MSFT)으로 가격 알림 조회 시도.
2025-07-28 09:44:21,534 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=7, symbol=MSFT
2025-07-28 09:44:21,535 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=7, symbol=MSFT, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:44:21,541 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=6, user_id=7, symbol=MSFT
2025-07-28 09:44:21,542 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:21,544 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:44:21,670 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=2646317874, username=testuser_2646317874
2025-07-28 09:44:21,677 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=2646317874
2025-07-28 09:44:21,686 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:21,690 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:21,691 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:21,691 - src.api.routers.bot_router - DEBUG - Before toggle: existing_alert.notify_on_disclosure = True
2025-07-28 09:44:21,692 - src.api.routers.bot_router - DEBUG - Calculated new_status: False
2025-07-28 09:44:21,692 - src.api.routers.bot_router - DEBUG - After update_alert call: updated_alert_orm.notify_on_disclosure = False
2025-07-28 09:44:21,693 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:21,694 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:44:21,841 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=8472173518, username=testuser_8472173518
2025-07-28 09:44:21,845 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=8472173518
2025-07-28 09:44:21,851 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:21,853 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:21,854 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:21,855 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 8472173518
2025-07-28 09:44:21,856 - src.api.services.user_service - DEBUG - User not found for telegram_id: 8472173518
2025-07-28 09:44:21,857 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=8472173518, username=telegram_user_8472173518
2025-07-28 09:44:21,862 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=8, telegram_id=8472173518
2025-07-28 09:44:21,862 - src.api.services.price_alert_service - DEBUG - 사용자(8)와 종목(NFLX)으로 가격 알림 조회 시도.
2025-07-28 09:44:21,864 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=8, symbol=NFLX
2025-07-28 09:44:21,865 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=8, symbol=NFLX, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:44:21,869 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=7, user_id=8, symbol=NFLX
2025-07-28 09:44:21,870 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:21,872 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:44:22,000 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=5213023275, username=testuser_5213023275
2025-07-28 09:44:22,005 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=5213023275
2025-07-28 09:44:22,007 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:22,009 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:22,010 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:22,013 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 5213023275
2025-07-28 09:44:22,018 - src.api.services.user_service - DEBUG - User not found for telegram_id: 5213023275
2025-07-28 09:44:22,018 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=5213023275, username=testuser_5213023275
2025-07-28 09:44:22,023 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=9, telegram_id=5213023275
2025-07-28 09:44:22,024 - src.api.services.price_alert_service - DEBUG - 사용자(9)와 종목(NVDA)으로 가격 알림 조회 시도.
2025-07-28 09:44:22,026 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=9, symbol=NVDA
2025-07-28 09:44:22,026 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=9, symbol=NVDA, target_price=1000.0, condition=below, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:44:22,032 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=8, user_id=9, symbol=NVDA
2025-07-28 09:44:22,034 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:22,036 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:44:22,163 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=6750219810, username=testuser_6750219810
2025-07-28 09:44:22,168 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=6750219810
2025-07-28 09:44:22,174 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:22,176 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:22,177 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:22,178 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 6750219810
2025-07-28 09:44:22,179 - src.api.services.user_service - DEBUG - User not found for telegram_id: 6750219810
2025-07-28 09:44:22,180 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=6750219810, username=telegram_user_6750219810
2025-07-28 09:44:22,186 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=10, telegram_id=6750219810
2025-07-28 09:44:22,187 - src.api.services.price_alert_service - DEBUG - 사용자(10)와 종목(GOOGL)으로 가격 알림 조회 시도.
2025-07-28 09:44:22,188 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=10, symbol=GOOGL
2025-07-28 09:44:22,188 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=10, symbol=GOOGL, target_price=110.0, condition=below, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=weekly
2025-07-28 09:44:22,193 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=9, user_id=10, symbol=GOOGL
2025-07-28 09:44:22,195 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:22,197 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:44:22,329 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=9148301928, username=testuser_9148301928
2025-07-28 09:44:22,333 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=9148301928
2025-07-28 09:44:22,337 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:44:22,339 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:22,341 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:22,341 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 9148301928
2025-07-28 09:44:22,343 - src.api.services.user_service - DEBUG - User not found for telegram_id: 9148301928
2025-07-28 09:44:22,343 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=9148301928, username=telegram_user_9148301928
2025-07-28 09:44:22,350 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=11, telegram_id=9148301928
2025-07-28 09:44:22,350 - src.api.services.price_alert_service - DEBUG - 사용자(11)와 종목(FB)으로 가격 알림 조회 시도.
2025-07-28 09:44:22,351 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=11, symbol=FB
2025-07-28 09:44:22,351 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=11, symbol=FB, target_price=300.0, condition=above, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:44:22,358 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=10, user_id=11, symbol=FB
2025-07-28 09:44:22,360 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:22,362 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:44:22,393 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:44:22,394 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:44:23.982022+09:00 (in 1.587944 seconds)
2025-07-28 09:44:23,983 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:44:23,984 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:45:23.982022+09:00 (in 59.997728 seconds)
2025-07-28 09:44:23,984 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:45:23 KST)" (scheduled at 2025-07-28 18:44:23.982022+09:00)
2025-07-28 09:44:23,985 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:44:23.985020
2025-07-28 09:44:23,985 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:44:23,985 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:44:23,985 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:44:23,988 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 10개 조회됨.
2025-07-28 09:44:23,988 - main - DEBUG - 활성 알림 수: 10
2025-07-28 09:44:23,988 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:44:23,988 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:44:23,991 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:44:23,991 - main - DEBUG - 종목 AMZN 현재가: 151235
2025-07-28 09:44:23,991 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:23,991 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:23,991 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:23,992 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:23,993 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:23,993 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:44:23,993 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:44:23,996 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:44:23,996 - main - DEBUG - 종목 GOOG 현재가: 193192
2025-07-28 09:44:24,017 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:24,018 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:24,018 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:44:24,019 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:44:24,021 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:44:24,022 - main - DEBUG - 종목 MSFT 현재가: 88953
2025-07-28 09:44:24,024 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:24,025 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:24,025 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:44:24,025 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:44:24,028 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:44:24,029 - main - DEBUG - 종목 NFLX 현재가: 53771
2025-07-28 09:44:24,031 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:44:24,033 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:24,033 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:44:24,034 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:44:24,038 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:44:24,039 - main - DEBUG - 종목 NVDA 현재가: 53404
2025-07-28 09:44:24,041 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:44:24,042 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:24,042 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:44:24,045 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:44:24,049 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:44:24,049 - main - DEBUG - 종목 GOOGL 현재가: 145287
2025-07-28 09:44:24,051 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:44:24,053 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:24,053 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:44:24,053 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:44:24,088 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:44:24,088 - main - DEBUG - 종목 FB 현재가: 104371
2025-07-28 09:44:24,090 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:44:24,091 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:44:24,092 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:44:24,092 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:44:24,092 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:45:23 KST)" executed successfully
2025-07-28 09:45:22,458 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:45:22,458 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:45:23.982022+09:00 (in 1.523190 seconds)
2025-07-28 09:45:23,988 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:45:23,989 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:46:23.982022+09:00 (in 59.992369 seconds)
2025-07-28 09:45:23,990 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:46:23 KST)" (scheduled at 2025-07-28 18:45:23.982022+09:00)
2025-07-28 09:45:23,990 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:45:23.990612
2025-07-28 09:45:23,991 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:45:23,991 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:45:23,991 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:45:23,993 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 10개 조회됨.
2025-07-28 09:45:23,993 - main - DEBUG - 활성 알림 수: 10
2025-07-28 09:45:23,994 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:45:23,994 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:45:23,996 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:45:23,996 - main - DEBUG - 종목 AMZN 현재가: 89304
2025-07-28 09:45:23,996 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:23,997 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:23,997 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:23,997 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:23,998 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:23,998 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:45:23,998 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:45:24,000 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:45:24,001 - main - DEBUG - 종목 GOOG 현재가: 116547
2025-07-28 09:45:24,002 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:24,003 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:24,004 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:45:24,004 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:45:24,008 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:45:24,008 - main - DEBUG - 종목 MSFT 현재가: 149021
2025-07-28 09:45:24,011 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:24,012 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:24,012 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:45:24,012 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:45:24,015 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:45:24,015 - main - DEBUG - 종목 NFLX 현재가: 50779
2025-07-28 09:45:24,017 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:45:24,018 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:24,019 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:45:24,019 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:45:24,021 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:45:24,021 - main - DEBUG - 종목 NVDA 현재가: 194611
2025-07-28 09:45:24,023 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:45:24,024 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:24,025 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:45:24,025 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:45:24,028 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:45:24,028 - main - DEBUG - 종목 GOOGL 현재가: 134498
2025-07-28 09:45:24,032 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:45:24,033 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:24,033 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:45:24,033 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:45:24,036 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:45:24,037 - main - DEBUG - 종목 FB 현재가: 102964
2025-07-28 09:45:24,038 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:45:24,039 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:45:24,040 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:45:24,040 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:45:24,040 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:46:23 KST)" executed successfully
2025-07-28 09:46:16,010 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:16,011 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:16,012 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:16,015 - main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:20,439 - main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:46:20,460 - main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:46:20,465 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:20,466 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:20,467 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:20,468 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:20,600 - apscheduler.scheduler - INFO - Added job "update_stock_master_job" to job store "default"
2025-07-28 09:46:20,603 - apscheduler.scheduler - INFO - Added job "update_daily_price_job" to job store "default"
2025-07-28 09:46:20,605 - apscheduler.scheduler - INFO - Added job "check_disclosures_job" to job store "default"
2025-07-28 09:46:20,606 - apscheduler.scheduler - INFO - Added job "check_price_alerts_job" to job store "default"
2025-07-28 09:46:20,606 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:20,610 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:20,610 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:47:20.468083+09:00 (in 59.857356 seconds)
2025-07-28 09:46:20,619 - main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:20,620 - main - INFO - 등록된 잡 목록:
2025-07-28 09:46:20,620 - main - INFO - - Job ID: check_price_alerts_job, Trigger: interval[0:01:00]
2025-07-28 09:46:20,621 - main - INFO - - Job ID: check_disclosures_job, Trigger: interval[4:00:00]
2025-07-28 09:46:20,621 - main - INFO - - Job ID: update_stock_master_job, Trigger: cron[hour='7', minute='0']
2025-07-28 09:46:20,622 - main - INFO - - Job ID: update_daily_price_job, Trigger: cron[hour='18', minute='0']
2025-07-28 09:46:27,307 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:46:27,313 - src.api.main - INFO - DB 테이블이 성공적으로 생성되었거나 이미 존재합니다.
2025-07-28 09:46:27,317 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:27,318 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:27,319 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:27,319 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-07-28 09:46:28,383 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:28,388 - httpx - INFO - HTTP Request: GET http://testserver/health "HTTP/1.1 200 OK"
2025-07-28 09:46:28,392 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:28,396 - httpx - INFO - HTTP Request: GET http://testserver/admin/schedule/status "HTTP/1.1 200 OK"
2025-07-28 09:46:28,399 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:28,404 - httpx - INFO - HTTP Request: GET http://testserver/health "HTTP/1.1 200 OK"
2025-07-28 09:46:28,408 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:28,411 - src.api.routers.admin - ERROR - [trigger_job] 잡을 찾을 수 없습니다: nonexistent_job
2025-07-28 09:46:28,412 - src.api.routers.admin - ERROR - [trigger_job] 잡 실행 실패: nonexistent_job - 404: 잡을 찾을 수 없습니다: nonexistent_job
Traceback (most recent call last):
  File "/app/src/api/routers/admin.py", line 163, in trigger_job
    raise HTTPException(status_code=404, detail=f"잡을 찾을 수 없습니다: {job_id}")
fastapi.exceptions.HTTPException: 404: 잡을 찾을 수 없습니다: nonexistent_job

2025-07-28 09:46:28,414 - httpx - INFO - HTTP Request: POST http://testserver/admin/schedule/trigger/nonexistent_job "HTTP/1.1 500 Internal Server Error"
2025-07-28 09:46:28,561 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:28,565 - apscheduler.scheduler - INFO - Added job "update_stock_master_job" to job store "default"
2025-07-28 09:46:28,565 - apscheduler.scheduler - INFO - Added job "update_daily_price_job" to job store "default"
2025-07-28 09:46:28,565 - apscheduler.scheduler - INFO - Added job "check_disclosures_job" to job store "default"
2025-07-28 09:46:28,565 - apscheduler.scheduler - INFO - Added job "check_price_alerts_job" to job store "default"
2025-07-28 09:46:28,566 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:28,566 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:28,566 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:28,567 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:47:27.319612+09:00 (in 58.752435 seconds)
2025-07-28 09:46:28,567 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:28,567 - src.api.main - INFO - - Job ID: check_price_alerts_job, Trigger: interval[0:01:00]
2025-07-28 09:46:28,568 - src.api.main - INFO - - Job ID: check_disclosures_job, Trigger: interval[4:00:00]
2025-07-28 09:46:28,568 - src.api.main - INFO - - Job ID: update_stock_master_job, Trigger: cron[hour='7', minute='0']
2025-07-28 09:46:28,568 - src.api.main - INFO - - Job ID: update_daily_price_job, Trigger: cron[hour='18', minute='0']
2025-07-28 09:46:28,603 - httpx - INFO - HTTP Request: GET http://testserver/admin/admin_stats "HTTP/1.1 200 OK"
2025-07-28 09:46:28,605 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:28,605 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:28,606 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:28,606 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:28,755 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:28,757 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:28,758 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:28,758 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:28,758 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:28,759 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:28,761 - passlib.handlers.bcrypt - WARNING - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-28 09:46:28,762 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '<unknown>'
2025-07-28 09:46:28,762 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2025-07-28 09:46:29,070 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:29,078 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:29,087 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:29,089 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:29,098 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:29,099 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:29,099 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:29,100 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:29,262 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:29,264 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:29,265 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:29,265 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:29,265 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:29,266 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:29,271 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:29,274 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:29,274 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:29,275 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:29,275 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:29,553 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:29,557 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:29,560 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:29,563 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:29,564 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:29,565 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:29,981 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:29,988 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 422 Unprocessable Entity"
2025-07-28 09:46:29,990 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:29,991 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:29,991 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:29,992 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:30,315 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:30,329 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:30,331 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:30,332 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:30,332 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:30,333 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:30,768 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:30,772 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:30,778 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:30,782 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:30,795 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:30,796 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=035720, target_price=50000.0, condition=lte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:30,803 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=2, user_id=1, symbol=035720
2025-07-28 09:46:30,807 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:30,817 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:30,821 - src.api.services.price_alert_service - DEBUG - 사용자(1)의 가격 알림 조회 시도.
2025-07-28 09:46:30,827 - src.api.services.price_alert_service - DEBUG - 사용자(1)의 가격 알림 2개 조회됨.
2025-07-28 09:46:30,836 - httpx - INFO - HTTP Request: GET http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:30,841 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:30,841 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:30,842 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:30,842 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:31,143 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:31,145 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:31,149 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:31,150 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:31,152 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:31,154 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:31,614 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:31,615 - src.api.services.price_alert_service - DEBUG - 사용자(1)의 가격 알림 조회 시도.
2025-07-28 09:46:31,619 - src.api.services.price_alert_service - DEBUG - 사용자(1)의 가격 알림 0개 조회됨.
2025-07-28 09:46:31,623 - httpx - INFO - HTTP Request: GET http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:31,659 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:31,663 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:31,664 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:31,664 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:31,967 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:31,970 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:31,971 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:31,971 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:31,972 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:31,972 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:31,980 - httpx - INFO - HTTP Request: GET http://testserver/alerts/ "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:31,988 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:31,990 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:31,993 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:31,994 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:32,281 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:32,284 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:32,285 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:32,286 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:32,286 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:32,288 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:32,709 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:32,710 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:32,718 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:32,725 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:32,732 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:32,733 - src.api.services.price_alert_service - DEBUG - 사용자(1)와 종목(005930)으로 가격 알림 조회 시도.
2025-07-28 09:46:32,749 - src.api.services.price_alert_service - DEBUG - 가격 알림 발견: alert_id=1
2025-07-28 09:46:32,758 - httpx - INFO - HTTP Request: GET http://testserver/alerts/user/1/symbol/005930 "HTTP/1.1 200 OK"
2025-07-28 09:46:32,762 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:32,763 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:32,764 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:32,764 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:33,419 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:33,429 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:33,430 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:33,430 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:33,432 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:33,432 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:34,256 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:34,258 - src.api.services.price_alert_service - DEBUG - 사용자(1)와 종목(NONEXISTENT)으로 가격 알림 조회 시도.
2025-07-28 09:46:34,262 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=1, symbol=NONEXISTENT
2025-07-28 09:46:34,266 - httpx - INFO - HTTP Request: GET http://testserver/alerts/user/1/symbol/NONEXISTENT "HTTP/1.1 404 Not Found"
2025-07-28 09:46:34,275 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:34,276 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:34,276 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:34,277 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:34,615 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:34,617 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:34,618 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:34,619 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:34,620 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:34,621 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:35,045 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:35,046 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:35,057 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:35,062 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:35,073 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:35,083 - src.api.services.price_alert_service - DEBUG - 가격 알림(1) 수정 시도: update_data={'target_price': 95000.0, 'condition': 'lte', 'is_active': False}
2025-07-28 09:46:35,087 - src.api.services.price_alert_service - DEBUG - Alert before update: notify_on_disclosure=True, is_active=True
2025-07-28 09:46:35,087 - src.api.services.price_alert_service - DEBUG - Update data: {'target_price': 95000.0, 'condition': 'lte', 'is_active': False}
2025-07-28 09:46:35,087 - src.api.services.price_alert_service - DEBUG - After setattr: alert.notify_on_disclosure = True
2025-07-28 09:46:35,105 - src.api.services.price_alert_service - DEBUG - After db.refresh: alert.notify_on_disclosure = True
2025-07-28 09:46:35,105 - src.api.services.price_alert_service - INFO - 가격 알림(1) 수정 성공.
2025-07-28 09:46:35,111 - httpx - INFO - HTTP Request: PUT http://testserver/alerts/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:35,114 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:35,115 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:35,116 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:35,116 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:35,421 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:35,424 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:35,425 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:35,426 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:35,425 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:35,427 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:36,146 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:36,152 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:36,162 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:36,164 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:36,179 - httpx - INFO - HTTP Request: PUT http://testserver/alerts/1 "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:36,182 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:36,190 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:36,192 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:36,193 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:36,559 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:36,571 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:36,577 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:36,578 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:36,578 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:36,581 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:37,018 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:37,022 - src.api.services.price_alert_service - DEBUG - 가격 알림(99999) 수정 시도: update_data={'target_price': 95000.0}
2025-07-28 09:46:37,025 - src.api.services.price_alert_service - ERROR - Alert not found: 99999
2025-07-28 09:46:37,028 - httpx - INFO - HTTP Request: PUT http://testserver/alerts/99999 "HTTP/1.1 404 Not Found"
2025-07-28 09:46:37,031 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:37,031 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:37,034 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:37,035 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:37,324 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:37,331 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:37,333 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:37,333 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:37,347 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:37,353 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:38,618 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:38,620 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:38,626 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:38,630 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:38,650 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:38,654 - src.api.services.price_alert_service - DEBUG - 가격 알림(1) 수정 시도: update_data={'target_price': 95000.0}
2025-07-28 09:46:38,660 - src.api.services.price_alert_service - DEBUG - Alert before update: notify_on_disclosure=True, is_active=True
2025-07-28 09:46:38,661 - src.api.services.price_alert_service - DEBUG - Update data: {'target_price': 95000.0}
2025-07-28 09:46:38,661 - src.api.services.price_alert_service - DEBUG - After setattr: alert.notify_on_disclosure = True
2025-07-28 09:46:38,670 - src.api.services.price_alert_service - DEBUG - After db.refresh: alert.notify_on_disclosure = True
2025-07-28 09:46:38,671 - src.api.services.price_alert_service - INFO - 가격 알림(1) 수정 성공.
2025-07-28 09:46:38,674 - httpx - INFO - HTTP Request: PUT http://testserver/alerts/1 "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:38,676 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:38,689 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:38,690 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:38,690 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:38,885 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:38,888 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:38,888 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:38,889 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:38,889 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:38,890 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:39,192 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:39,193 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:39,197 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:39,199 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:39,204 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:39,208 - src.api.services.price_alert_service - DEBUG - 가격 알림(1) 삭제 시도.
2025-07-28 09:46:39,214 - src.api.services.price_alert_service - INFO - 가격 알림(1) 삭제 성공.
2025-07-28 09:46:39,215 - httpx - INFO - HTTP Request: DELETE http://testserver/alerts/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:39,218 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:39,219 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:39,219 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:39,219 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:39,374 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:39,377 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:39,378 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:39,379 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:39,379 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:39,380 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:39,634 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:39,634 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:39,638 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:39,640 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:39,643 - httpx - INFO - HTTP Request: DELETE http://testserver/alerts/1 "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:39,645 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:39,646 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:39,646 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:39,646 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:39,794 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:39,796 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:39,797 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:39,797 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:39,797 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:39,797 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:40,043 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:40,046 - src.api.services.price_alert_service - DEBUG - 가격 알림(99999) 삭제 시도.
2025-07-28 09:46:40,047 - src.api.services.price_alert_service - ERROR - Alert not found: 99999
2025-07-28 09:46:40,048 - httpx - INFO - HTTP Request: DELETE http://testserver/alerts/99999 "HTTP/1.1 404 Not Found"
2025-07-28 09:46:40,050 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:40,050 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:40,051 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:40,051 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:40,200 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:40,203 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:40,203 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:40,204 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:40,204 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:40,204 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:40,703 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:40,704 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:40,708 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:40,711 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:40,715 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:40,718 - httpx - INFO - HTTP Request: DELETE http://testserver/alerts/1 "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:40,720 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:40,721 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:40,721 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:40,721 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:40,962 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:40,963 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:40,964 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:40,964 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:40,965 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:40,965 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:40,971 - httpx - INFO - HTTP Request: POST http://testserver/alerts/test_notify "HTTP/1.1 200 OK"
2025-07-28 09:46:40,973 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:40,974 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:40,974 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:40,974 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:41,143 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:41,145 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:41,146 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:41,146 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:41,147 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:41,147 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:41,154 - httpx - INFO - HTTP Request: POST http://testserver/alerts/test_notify "HTTP/1.1 200 OK"
2025-07-28 09:46:41,157 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:41,157 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:41,158 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:41,158 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:41,167 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:41,172 - httpx - INFO - HTTP Request: GET http://testserver/ "HTTP/1.1 200 OK"
2025-07-28 09:46:41,602 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:41,611 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:41,618 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:41,619 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:41,619 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:41,620 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:41,627 - httpx - INFO - HTTP Request: POST http://testserver/predict "HTTP/1.1 307 Temporary Redirect"
2025-07-28 09:46:41,641 - src.api.services.predict_service - DEBUG - predict_stock_movement 호출: symbol=005930
2025-07-28 09:46:41,642 - src.api.services.predict_service - DEBUG - get_recent_prices 호출: symbol=005930, days=40
2025-07-28 09:46:41,657 - src.api.services.predict_service - DEBUG - get_recent_prices 결과: 0개 데이터.
2025-07-28 09:46:41,658 - src.api.services.predict_service - WARNING - 예측 불가: 데이터 부족(0일)
2025-07-28 09:46:41,661 - httpx - INFO - HTTP Request: POST http://testserver/predict/ "HTTP/1.1 200 OK"
2025-07-28 09:46:41,664 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:41,668 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:41,669 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:41,669 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:41,878 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:41,880 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:41,880 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:41,880 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:41,881 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:41,881 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:41,885 - httpx - INFO - HTTP Request: POST http://testserver/predict "HTTP/1.1 307 Temporary Redirect"
2025-07-28 09:46:41,890 - src.api.services.predict_service - DEBUG - predict_stock_movement 호출: symbol=INVALID
2025-07-28 09:46:41,891 - src.api.services.predict_service - DEBUG - get_recent_prices 호출: symbol=INVALID, days=40
2025-07-28 09:46:41,894 - src.api.services.predict_service - DEBUG - get_recent_prices 결과: 0개 데이터.
2025-07-28 09:46:41,895 - src.api.services.predict_service - WARNING - 예측 불가: 데이터 부족(0일)
2025-07-28 09:46:41,897 - httpx - INFO - HTTP Request: POST http://testserver/predict/ "HTTP/1.1 200 OK"
2025-07-28 09:46:41,899 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:41,900 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:41,900 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:41,900 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:42,042 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:42,044 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:42,045 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,045 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:42,045 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,045 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:42,048 - httpx - INFO - HTTP Request: POST http://testserver/predict "HTTP/1.1 307 Temporary Redirect"
2025-07-28 09:46:42,052 - httpx - INFO - HTTP Request: POST http://testserver/predict/ "HTTP/1.1 422 Unprocessable Entity"
2025-07-28 09:46:42,054 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:42,054 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,054 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,055 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:42,203 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:42,205 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:42,206 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,206 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:42,207 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,207 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:42,465 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=1, page_size=10, symbol=None, prediction=None
2025-07-28 09:46:42,471 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 2
2025-07-28 09:46:42,474 - src.api.routers.prediction_history - DEBUG - 예측 이력 2개 조회됨 (페이지 1, 페이지 크기 10).
2025-07-28 09:46:42,475 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:42,477 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:42,477 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,477 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,478 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:42,697 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:42,699 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:42,700 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,700 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:42,700 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,701 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:42,705 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=99999, page=1, page_size=10, symbol=None, prediction=None
2025-07-28 09:46:42,708 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 0
2025-07-28 09:46:42,710 - src.api.routers.prediction_history - DEBUG - 예측 이력 0개 조회됨 (페이지 1, 페이지 크기 10).
2025-07-28 09:46:42,712 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/99999 "HTTP/1.1 200 OK"
2025-07-28 09:46:42,713 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:42,714 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,714 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,714 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:42,859 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:42,861 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:42,861 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:42,861 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:42,862 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:42,862 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:43,109 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=1, page_size=10, symbol=None, prediction=None
2025-07-28 09:46:43,111 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 0
2025-07-28 09:46:43,112 - src.api.routers.prediction_history - DEBUG - 예측 이력 0개 조회됨 (페이지 1, 페이지 크기 10).
2025-07-28 09:46:43,114 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:43,116 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:43,116 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,116 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,116 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:43,278 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:43,280 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:43,281 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,281 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:43,282 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,282 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:43,578 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=1, page_size=5, symbol=None, prediction=None
2025-07-28 09:46:43,581 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 14
2025-07-28 09:46:43,583 - src.api.routers.prediction_history - DEBUG - 예측 이력 5개 조회됨 (페이지 1, 페이지 크기 5).
2025-07-28 09:46:43,585 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1?page=1&page_size=5 "HTTP/1.1 200 OK"
2025-07-28 09:46:43,588 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=2, page_size=5, symbol=None, prediction=None
2025-07-28 09:46:43,592 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 14
2025-07-28 09:46:43,594 - src.api.routers.prediction_history - DEBUG - 예측 이력 5개 조회됨 (페이지 2, 페이지 크기 5).
2025-07-28 09:46:43,597 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1?page=2&page_size=5 "HTTP/1.1 200 OK"
2025-07-28 09:46:43,599 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:43,599 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,600 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,600 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:43,755 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:43,758 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:43,759 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,759 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:43,760 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,760 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:44,023 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=1, page_size=10, symbol=005930, prediction=None
2025-07-28 09:46:44,024 - src.api.routers.prediction_history - DEBUG - 예측 이력 필터 적용: symbol=005930
2025-07-28 09:46:44,029 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 2
2025-07-28 09:46:44,032 - src.api.routers.prediction_history - DEBUG - 예측 이력 2개 조회됨 (페이지 1, 페이지 크기 10).
2025-07-28 09:46:44,035 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1?symbol=005930 "HTTP/1.1 200 OK"
2025-07-28 09:46:44,037 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:44,037 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,038 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,038 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:43,864 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:43,866 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:43,867 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,867 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:43,867 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,867 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:43,668 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=1, page_size=10, symbol=None, prediction=상승
2025-07-28 09:46:43,668 - src.api.routers.prediction_history - DEBUG - 예측 이력 필터 적용: prediction=상승
2025-07-28 09:46:43,672 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 1
2025-07-28 09:46:43,674 - src.api.routers.prediction_history - DEBUG - 예측 이력 1개 조회됨 (페이지 1, 페이지 크기 10).
2025-07-28 09:46:43,675 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1?prediction=%EC%83%81%EC%8A%B9 "HTTP/1.1 200 OK"
2025-07-28 09:46:43,677 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:43,678 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,678 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,678 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:43,817 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:43,820 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:43,821 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:43,822 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:43,822 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:43,823 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:44,078 - src.api.routers.prediction_history - DEBUG - get_prediction_history 호출: user_id=1, page=1, page_size=10, symbol=005930, prediction=유지
2025-07-28 09:46:44,079 - src.api.routers.prediction_history - DEBUG - 예측 이력 필터 적용: symbol=005930
2025-07-28 09:46:44,079 - src.api.routers.prediction_history - DEBUG - 예측 이력 필터 적용: prediction=유지
2025-07-28 09:46:44,083 - src.api.routers.prediction_history - DEBUG - 예측 이력 총 개수: 1
2025-07-28 09:46:44,085 - src.api.routers.prediction_history - DEBUG - 예측 이력 1개 조회됨 (페이지 1, 페이지 크기 10).
2025-07-28 09:46:44,087 - httpx - INFO - HTTP Request: GET http://testserver/prediction/history/1?symbol=005930&prediction=%EC%9C%A0%EC%A7%80 "HTTP/1.1 200 OK"
2025-07-28 09:46:44,088 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:44,089 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,089 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,090 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:44,240 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:44,242 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:44,243 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,243 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:44,244 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,244 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:44,255 - src.api.routers.simulated_trade - DEBUG - simulate_trade 호출: user_id=1, symbol=005930, trade_type=buy
2025-07-28 09:46:44,256 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:46:44,259 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:46:44,260 - src.api.routers.simulated_trade - DEBUG - 종목 005930의 현재가: 74416
2025-07-28 09:46:44,265 - src.api.routers.simulated_trade - INFO - 모의매매 기록 완료: user_id=1, symbol=005930, trade_type=buy
2025-07-28 09:46:44,267 - httpx - INFO - HTTP Request: POST http://testserver/trade/simulate "HTTP/1.1 200 OK"
2025-07-28 09:46:44,272 - src.api.routers.simulated_trade - DEBUG - get_trade_history 호출: user_id=1
2025-07-28 09:46:44,275 - src.api.routers.simulated_trade - DEBUG - 사용자(1)의 모의매매 이력 1건 조회됨.
2025-07-28 09:46:44,276 - src.api.routers.simulated_trade - DEBUG - 모의매매 통계: {'total_trades': 1, 'total_profit_loss': 0, 'profitable_trades': 0, 'win_rate': 0.0}
2025-07-28 09:46:44,277 - httpx - INFO - HTTP Request: GET http://testserver/trade/history/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:44,279 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:44,279 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,279 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,280 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:44,417 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:44,419 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:44,420 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,420 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:44,421 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,421 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:44,437 - httpx - INFO - HTTP Request: GET http://testserver/symbols/ "HTTP/1.1 200 OK"
2025-07-28 09:46:44,440 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:44,440 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,441 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,441 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:44,651 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:44,653 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:44,654 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,654 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:44,654 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,655 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:44,665 - httpx - INFO - HTTP Request: GET http://testserver/symbols/ "HTTP/1.1 200 OK"
2025-07-28 09:46:44,668 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:44,669 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,670 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,670 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:44,863 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:44,865 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:44,866 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,866 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:44,866 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,867 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:44,883 - httpx - INFO - HTTP Request: GET http://testserver/symbols/search?query=%EC%82%BC%EC%84%B1%EC%A0%84%EC%9E%90 "HTTP/1.1 200 OK"
2025-07-28 09:46:44,885 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:44,886 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:44,886 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:44,886 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:45,037 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:45,039 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:45,040 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,040 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:45,041 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,041 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:45,070 - httpx - INFO - HTTP Request: GET http://testserver/symbols/search?query=035720 "HTTP/1.1 200 OK"
2025-07-28 09:46:45,072 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:45,073 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,073 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,074 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:45,249 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:45,252 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:45,252 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,253 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:45,254 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,254 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:45,278 - httpx - INFO - HTTP Request: GET http://testserver/symbols/search?query=sk%ED%95%98%EC%9D%B4%EB%8B%89%EC%8A%A4 "HTTP/1.1 200 OK"
2025-07-28 09:46:45,281 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:45,282 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,282 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,283 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:45,460 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:45,462 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:45,463 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,463 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:45,464 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,464 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:45,478 - httpx - INFO - HTTP Request: GET http://testserver/symbols/search?query=%EC%97%86%EB%8A%94%EC%A2%85%EB%AA%A9 "HTTP/1.1 200 OK"
2025-07-28 09:46:45,480 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:45,480 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,480 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,481 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:45,656 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:45,658 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:45,659 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,660 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:45,660 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,660 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:45,667 - httpx - INFO - HTTP Request: GET http://testserver/symbols/search?query= "HTTP/1.1 422 Unprocessable Entity"
2025-07-28 09:46:45,670 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:45,670 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,671 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,671 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:45,835 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:45,838 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:45,839 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,840 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:45,840 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,841 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:45,849 - httpx - INFO - HTTP Request: GET http://testserver/symbols/005930/current_price_and_change "HTTP/1.1 200 OK"
2025-07-28 09:46:45,852 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:45,853 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:45,853 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:45,853 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:46,023 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:46,025 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:46,026 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:46,026 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:46,026 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:46,027 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:46,035 - httpx - INFO - HTTP Request: GET http://testserver/symbols/NONEXISTENT/current_price_and_change "HTTP/1.1 404 Not Found"
2025-07-28 09:46:46,038 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:46,039 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:46,039 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:46,048 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:46,224 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:46,226 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:46,227 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:46,227 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:46,228 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:46,228 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:46,576 - httpx - INFO - HTTP Request: POST http://testserver/users/register "HTTP/1.1 200 OK"
2025-07-28 09:46:46,585 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:46,586 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:46,586 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:46,586 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:46,894 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:46,897 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:46,899 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:46,899 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:46,900 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:46,900 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:47,417 - httpx - INFO - HTTP Request: POST http://testserver/users/register "HTTP/1.1 400 Bad Request"
2025-07-28 09:46:47,423 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:47,426 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:47,426 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:47,427 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:47,796 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:47,799 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:47,800 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:47,800 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:47,801 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:47,801 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:48,629 - httpx - INFO - HTTP Request: POST http://testserver/users/login "HTTP/1.1 200 OK"
2025-07-28 09:46:48,634 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:48,634 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:48,635 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:48,635 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:48,910 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:48,917 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:48,918 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:48,918 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:48,919 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:48,919 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:48,949 - httpx - INFO - HTTP Request: POST http://testserver/users/login "HTTP/1.1 401 Unauthorized"
2025-07-28 09:46:48,952 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:48,952 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:48,953 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:48,953 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:49,178 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:49,181 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:49,182 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:49,182 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:49,182 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:49,183 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:50,016 - httpx - INFO - HTTP Request: POST http://testserver/users/login "HTTP/1.1 401 Unauthorized"
2025-07-28 09:46:50,019 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:50,019 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:50,020 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:50,021 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:50,331 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:50,334 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:50,335 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:50,335 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:50,336 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:50,336 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:50,763 - httpx - INFO - HTTP Request: GET http://testserver/users/me "HTTP/1.1 200 OK"
2025-07-28 09:46:50,770 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:50,771 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:50,771 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:50,772 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:51,037 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:51,040 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:51,041 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:51,041 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:51,045 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:51,046 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:51,061 - httpx - INFO - HTTP Request: GET http://testserver/users/me "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:51,066 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:51,067 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:51,068 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:51,070 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:51,413 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:51,421 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:51,422 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:51,422 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:51,423 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:51,423 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:51,928 - httpx - INFO - HTTP Request: PUT http://testserver/users/me "HTTP/1.1 200 OK"
2025-07-28 09:46:51,939 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:51,940 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:51,941 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:51,941 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:52,196 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:52,199 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:52,201 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:52,201 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:52,202 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:52,202 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:52,230 - httpx - INFO - HTTP Request: PUT http://testserver/users/telegram_register "HTTP/1.1 200 OK"
2025-07-28 09:46:52,234 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:52,235 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:52,235 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:52,235 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:52,587 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:52,590 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:52,591 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:52,591 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:52,592 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:52,593 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:53,015 - httpx - INFO - HTTP Request: PUT http://testserver/users/telegram_register "HTTP/1.1 200 OK"
2025-07-28 09:46:53,022 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:53,025 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:53,027 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:53,029 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:53,358 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:53,360 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:53,361 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:53,361 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:53,362 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:53,362 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:53,858 - httpx - INFO - HTTP Request: GET http://testserver/users/stats/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:53,862 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:53,862 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:53,863 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:53,863 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:54,170 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:54,173 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:54,174 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:54,174 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:54,175 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:54,175 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:54,188 - httpx - INFO - HTTP Request: GET http://testserver/users/stats/99999 "HTTP/1.1 404 Not Found"
2025-07-28 09:46:54,193 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:54,197 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:54,205 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:54,205 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:54,515 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:54,520 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:54,522 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:54,522 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:54,522 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:54,523 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:55,313 - httpx - INFO - HTTP Request: GET http://testserver/users/ "HTTP/1.1 200 OK"
2025-07-28 09:46:55,316 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:55,316 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:55,316 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:55,317 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:55,554 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:55,556 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:55,557 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:55,557 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:55,558 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:55,558 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:55,828 - httpx - INFO - HTTP Request: GET http://testserver/users/ "HTTP/1.1 403 Forbidden"
2025-07-28 09:46:55,831 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:55,832 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:55,833 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:55,833 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:55,992 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:55,995 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:55,996 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:55,996 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:55,997 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:55,997 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:56,006 - src.api.routers.watchlist - DEBUG - 관심 종목 추가 시도: user_id=1, symbol=005930
2025-07-28 09:46:56,011 - src.api.routers.watchlist - INFO - 관심 종목 추가 성공: user_id=1, symbol=005930
2025-07-28 09:46:56,013 - httpx - INFO - HTTP Request: POST http://testserver/watchlist/add "HTTP/1.1 200 OK"
2025-07-28 09:46:56,017 - src.api.routers.watchlist - DEBUG - 관심 종목 조회 시도: user_id=1
2025-07-28 09:46:56,020 - src.api.routers.watchlist - DEBUG - 관심 종목 조회 성공: user_id=1, 1개 종목.
2025-07-28 09:46:56,021 - httpx - INFO - HTTP Request: GET http://testserver/watchlist/get/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:56,023 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:56,023 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:56,023 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:56,023 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:56,032 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:56,033 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:56,034 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:56,034 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:56,034 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:56,035 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:56,036 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:56,037 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:56,041 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,045 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 12345
2025-07-28 09:46:56,049 - src.api.services.user_service - DEBUG - User not found for telegram_id: 12345
2025-07-28 09:46:56,050 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=12345, username=testuser
2025-07-28 09:46:56,059 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=12, telegram_id=12345
2025-07-28 09:46:56,060 - src.api.services.price_alert_service - DEBUG - 사용자(12)와 종목(005930)으로 가격 알림 조회 시도.
2025-07-28 09:46:56,066 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=12, symbol=005930
2025-07-28 09:46:56,067 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=12, symbol=005930, target_price=75000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=daily
2025-07-28 09:46:56,075 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=11, user_id=12, symbol=005930
2025-07-28 09:46:56,077 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:46:56,084 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:56,084 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:56,087 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,088 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 12346
2025-07-28 09:46:56,090 - src.api.services.user_service - DEBUG - User not found for telegram_id: 12346
2025-07-28 09:46:56,090 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=12346, username=testuser2
2025-07-28 09:46:56,096 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=13, telegram_id=12346
2025-07-28 09:46:56,097 - src.api.services.price_alert_service - DEBUG - 사용자(13)와 종목(005930)으로 가격 알림 조회 시도.
2025-07-28 09:46:56,099 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=13, symbol=005930
2025-07-28 09:46:56,099 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=13, symbol=005930, target_price=70000.0, condition=lte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:56,105 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=12, user_id=13, symbol=005930
2025-07-28 09:46:56,106 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:46:56,109 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,110 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 12346
2025-07-28 09:46:56,112 - src.api.services.user_service - DEBUG - User found by telegram_id: user_id=13, telegram_id=12346
2025-07-28 09:46:56,112 - src.api.services.price_alert_service - DEBUG - 사용자(13)와 종목(005930)으로 가격 알림 조회 시도.
2025-07-28 09:46:56,114 - src.api.services.price_alert_service - DEBUG - 가격 알림 발견: alert_id=12
2025-07-28 09:46:56,114 - src.api.services.price_alert_service - DEBUG - 가격 알림(12) 수정 시도: update_data={'target_price': 76000.0, 'condition': 'gte', 'is_active': True, 'notify_on_disclosure': True, 'repeat_interval': 'weekly'}
2025-07-28 09:46:56,116 - src.api.services.price_alert_service - DEBUG - Alert before update: notify_on_disclosure=True, is_active=True
2025-07-28 09:46:56,116 - src.api.services.price_alert_service - DEBUG - Update data: {'target_price': 76000.0, 'condition': 'gte', 'is_active': True, 'notify_on_disclosure': True, 'repeat_interval': 'weekly'}
2025-07-28 09:46:56,116 - src.api.services.price_alert_service - DEBUG - After setattr: alert.notify_on_disclosure = True
2025-07-28 09:46:56,122 - src.api.services.price_alert_service - DEBUG - After db.refresh: alert.notify_on_disclosure = True
2025-07-28 09:46:56,122 - src.api.services.price_alert_service - INFO - 가격 알림(12) 수정 성공.
2025-07-28 09:46:56,124 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:46:56,130 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:56,130 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:56,131 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:56,131 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:56,277 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=7056334222, username=testuser_7056334222
2025-07-28 09:46:56,281 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=7056334222
2025-07-28 09:46:56,283 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:56,287 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:56,288 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,293 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 7056334222
2025-07-28 09:46:56,296 - src.api.services.user_service - DEBUG - User not found for telegram_id: 7056334222
2025-07-28 09:46:56,297 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=7056334222, username=testuser_7056334222
2025-07-28 09:46:56,304 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=14, telegram_id=7056334222
2025-07-28 09:46:56,305 - src.api.services.price_alert_service - DEBUG - 사용자(14)와 종목(GOOG)으로 가격 알림 조회 시도.
2025-07-28 09:46:56,306 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=14, symbol=GOOG
2025-07-28 09:46:56,307 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=14, symbol=GOOG, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:56,312 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=13, user_id=14, symbol=GOOG
2025-07-28 09:46:56,313 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:56,315 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:46:56,505 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=9042221920, username=testuser_9042221920
2025-07-28 09:46:56,513 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=9042221920
2025-07-28 09:46:56,516 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:56,520 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:56,522 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,526 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 9042221920
2025-07-28 09:46:56,529 - src.api.services.user_service - DEBUG - User not found for telegram_id: 9042221920
2025-07-28 09:46:56,529 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=9042221920, username=telegram_user_9042221920
2025-07-28 09:46:56,538 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=15, telegram_id=9042221920
2025-07-28 09:46:56,539 - src.api.services.price_alert_service - DEBUG - 사용자(15)와 종목(MSFT)으로 가격 알림 조회 시도.
2025-07-28 09:46:56,541 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=15, symbol=MSFT
2025-07-28 09:46:56,541 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=15, symbol=MSFT, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:56,553 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=14, user_id=15, symbol=MSFT
2025-07-28 09:46:56,555 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:56,558 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:46:56,735 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=4293479978, username=testuser_4293479978
2025-07-28 09:46:56,739 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=4293479978
2025-07-28 09:46:56,748 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:56,750 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:56,752 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,753 - src.api.routers.bot_router - DEBUG - Before toggle: existing_alert.notify_on_disclosure = True
2025-07-28 09:46:56,753 - src.api.routers.bot_router - DEBUG - Calculated new_status: False
2025-07-28 09:46:56,753 - src.api.routers.bot_router - DEBUG - After update_alert call: updated_alert_orm.notify_on_disclosure = False
2025-07-28 09:46:56,754 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:56,756 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:46:56,915 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1811715734, username=testuser_1811715734
2025-07-28 09:46:56,921 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=1811715734
2025-07-28 09:46:56,926 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:56,929 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:56,930 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:56,931 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 1811715734
2025-07-28 09:46:56,933 - src.api.services.user_service - DEBUG - User not found for telegram_id: 1811715734
2025-07-28 09:46:56,933 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1811715734, username=telegram_user_1811715734
2025-07-28 09:46:56,940 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=16, telegram_id=1811715734
2025-07-28 09:46:56,940 - src.api.services.price_alert_service - DEBUG - 사용자(16)와 종목(NFLX)으로 가격 알림 조회 시도.
2025-07-28 09:46:56,942 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=16, symbol=NFLX
2025-07-28 09:46:56,942 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=16, symbol=NFLX, target_price=None, condition=None, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:56,948 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=15, user_id=16, symbol=NFLX
2025-07-28 09:46:56,950 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:56,952 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/disclosure-toggle "HTTP/1.1 200 OK"
2025-07-28 09:46:57,108 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1803551662, username=testuser_1803551662
2025-07-28 09:46:57,112 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=1803551662
2025-07-28 09:46:57,114 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:57,116 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:57,117 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:57,118 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 1803551662
2025-07-28 09:46:57,120 - src.api.services.user_service - DEBUG - User not found for telegram_id: 1803551662
2025-07-28 09:46:57,121 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=1803551662, username=testuser_1803551662
2025-07-28 09:46:57,128 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=17, telegram_id=1803551662
2025-07-28 09:46:57,129 - src.api.services.price_alert_service - DEBUG - 사용자(17)와 종목(NVDA)으로 가격 알림 조회 시도.
2025-07-28 09:46:57,130 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=17, symbol=NVDA
2025-07-28 09:46:57,130 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=17, symbol=NVDA, target_price=1000.0, condition=below, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:57,136 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=16, user_id=17, symbol=NVDA
2025-07-28 09:46:57,138 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:57,140 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:46:57,293 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=7780491336, username=testuser_7780491336
2025-07-28 09:46:57,299 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=7780491336
2025-07-28 09:46:57,304 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:57,307 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:57,308 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:57,308 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 7780491336
2025-07-28 09:46:57,312 - src.api.services.user_service - DEBUG - User not found for telegram_id: 7780491336
2025-07-28 09:46:57,312 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=7780491336, username=telegram_user_7780491336
2025-07-28 09:46:57,318 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=18, telegram_id=7780491336
2025-07-28 09:46:57,318 - src.api.services.price_alert_service - DEBUG - 사용자(18)와 종목(GOOGL)으로 가격 알림 조회 시도.
2025-07-28 09:46:57,319 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=18, symbol=GOOGL
2025-07-28 09:46:57,320 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=18, symbol=GOOGL, target_price=110.0, condition=below, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=weekly
2025-07-28 09:46:57,325 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=17, user_id=18, symbol=GOOGL
2025-07-28 09:46:57,327 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:57,330 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:46:57,473 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=9727686054, username=testuser_9727686054
2025-07-28 09:46:57,477 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=1, telegram_id=9727686054
2025-07-28 09:46:57,483 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:57,486 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:46:57,487 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:57,487 - src.api.services.user_service - DEBUG - Attempting to retrieve user by telegram_id: 9727686054
2025-07-28 09:46:57,490 - src.api.services.user_service - DEBUG - User not found for telegram_id: 9727686054
2025-07-28 09:46:57,490 - src.api.services.user_service - DEBUG - Attempting to create user from telegram: telegram_id=9727686054, username=telegram_user_9727686054
2025-07-28 09:46:57,495 - src.api.services.user_service - DEBUG - User created from telegram successfully: user_id=19, telegram_id=9727686054
2025-07-28 09:46:57,495 - src.api.services.price_alert_service - DEBUG - 사용자(19)와 종목(FB)으로 가격 알림 조회 시도.
2025-07-28 09:46:57,497 - src.api.services.price_alert_service - DEBUG - 가격 알림 없음: user_id=19, symbol=FB
2025-07-28 09:46:57,497 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=19, symbol=FB, target_price=300.0, condition=above, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:57,504 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=18, user_id=19, symbol=FB
2025-07-28 09:46:57,506 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:46:57,507 - httpx - INFO - HTTP Request: POST http://testserver/bot/alert/price "HTTP/1.1 200 OK"
2025-07-28 09:46:59,072 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:46:59,074 - apscheduler.scheduler - INFO - Scheduler started
2025-07-28 09:46:59,075 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:59,075 - src.api.main - INFO - APScheduler (startup 이벤트) 시작됨
2025-07-28 09:46:59,076 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:59,076 - src.api.main - INFO - 등록된 잡 목록:
2025-07-28 09:46:59,338 - httpx - INFO - HTTP Request: POST http://testserver/users/register "HTTP/1.1 200 OK"
2025-07-28 09:46:59,587 - httpx - INFO - HTTP Request: POST http://testserver/users/login "HTTP/1.1 200 OK"
2025-07-28 09:46:59,592 - src.api.routers.watchlist - DEBUG - 관심 종목 추가 시도: user_id=1, symbol=005930
2025-07-28 09:46:59,595 - src.api.routers.watchlist - INFO - 관심 종목 추가 성공: user_id=1, symbol=005930
2025-07-28 09:46:59,596 - httpx - INFO - HTTP Request: POST http://testserver/watchlist/add "HTTP/1.1 200 OK"
2025-07-28 09:46:59,599 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:46:59,599 - src.api.services.price_alert_service - DEBUG - 가격 알림 생성 시도: user_id=1, symbol=005930, target_price=90000.0, condition=gte, change_percent=None, change_type=None, notify_on_disclosure=True, repeat_interval=None
2025-07-28 09:46:59,603 - src.api.services.price_alert_service - INFO - 가격 알림 생성 성공: alert_id=1, user_id=1, symbol=005930
2025-07-28 09:46:59,606 - httpx - INFO - HTTP Request: POST http://testserver/alerts/ "HTTP/1.1 200 OK"
2025-07-28 09:46:59,608 - httpx - INFO - HTTP Request: POST http://testserver/predict "HTTP/1.1 307 Temporary Redirect"
2025-07-28 09:46:59,611 - src.api.services.predict_service - DEBUG - predict_stock_movement 호출: symbol=005930
2025-07-28 09:46:59,611 - src.api.services.predict_service - DEBUG - get_recent_prices 호출: symbol=005930, days=40
2025-07-28 09:46:59,613 - src.api.services.predict_service - DEBUG - get_recent_prices 결과: 0개 데이터.
2025-07-28 09:46:59,614 - src.api.services.predict_service - WARNING - 예측 불가: 데이터 부족(0일)
2025-07-28 09:46:59,617 - httpx - INFO - HTTP Request: POST http://testserver/predict/ "HTTP/1.1 200 OK"
2025-07-28 09:46:59,621 - src.api.routers.simulated_trade - DEBUG - simulate_trade 호출: user_id=1, symbol=005930, trade_type=buy
2025-07-28 09:46:59,621 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:46:59,623 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:46:59,624 - src.api.routers.simulated_trade - DEBUG - 종목 005930의 현재가: 141833
2025-07-28 09:46:59,626 - src.api.routers.simulated_trade - INFO - 모의매매 기록 완료: user_id=1, symbol=005930, trade_type=buy
2025-07-28 09:46:59,628 - httpx - INFO - HTTP Request: POST http://testserver/trade/simulate "HTTP/1.1 200 OK"
2025-07-28 09:46:59,630 - src.api.routers.simulated_trade - DEBUG - get_trade_history 호출: user_id=1
2025-07-28 09:46:59,632 - src.api.routers.simulated_trade - DEBUG - 사용자(1)의 모의매매 이력 1건 조회됨.
2025-07-28 09:46:59,632 - src.api.routers.simulated_trade - DEBUG - 모의매매 통계: {'total_trades': 1, 'total_profit_loss': 0, 'profitable_trades': 0, 'win_rate': 0.0}
2025-07-28 09:46:59,633 - httpx - INFO - HTTP Request: GET http://testserver/trade/history/1 "HTTP/1.1 200 OK"
2025-07-28 09:46:59,635 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-07-28 09:46:59,636 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:46:59,636 - apscheduler.scheduler - DEBUG - No jobs; waiting until a job is added
2025-07-28 09:46:59,636 - src.api.main - INFO - APScheduler가 정상적으로 종료되었습니다.
2025-07-28 09:46:59,647 - src.api.main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:46:59.647096
2025-07-28 09:46:59,647 - src.api.main - DEBUG - 활성 알림 수: 3
2025-07-28 09:46:59,647 - src.api.main - DEBUG - 종목 정상종목에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:46:59,648 - src.api.main - DEBUG - 종목 정상종목 현재가: 110
2025-07-28 09:46:59,649 - src.api.main - DEBUG - 알림 ID: <MagicMock name='mock.id' id='140033456569264'>, 목표 가격: 100, 조건: gte, 반복 주기: <MagicMock name='mock.repeat_interval' id='140033456584928'>
2025-07-28 09:46:59,649 - src.api.main - INFO - 가격 알림 트리거됨: 정상종목, 현재가: 110, 목표가: 100
2025-07-28 09:46:59,654 - src.api.main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: <MagicMock name='mock.query().filter().first().telegram_id' id='140033456678768'>)
2025-07-28 09:46:59,655 - src.api.main - DEBUG - 종목 정상종목에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:46:59,656 - src.api.main - DEBUG - 종목 오류종목에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:46:59,656 - src.api.main - ERROR - 가격 알림 확인 중 '오류종목' 처리 오류: 현재가 조회 실패
Traceback (most recent call last):
  File "/app/src/api/main.py", line 135, in check_price_alerts_job
    price_data = stock_service.get_current_price_and_change(symbol, db)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1114, in __call__
    return self._mock_call(*args, **kwargs)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1118, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1179, in _execute_mock_call
    result = effect(*args, **kwargs)
  File "/app/src/api/tests/test_main_jobs.py", line 34, in get_current_price_side_effect
    raise ValueError("현재가 조회 실패")
ValueError: 현재가 조회 실패
2025-07-28 09:46:59,657 - src.api.main - DEBUG - 종목 정상종목2에 대한 알림 확인 시작. 알림 수: 1
2025-07-28 09:46:59,657 - src.api.main - DEBUG - 종목 정상종목2 현재가: 290
2025-07-28 09:46:59,659 - src.api.main - DEBUG - 알림 ID: <MagicMock name='mock.id' id='140033454727440'>, 목표 가격: 300, 조건: lte, 반복 주기: <MagicMock name='mock.repeat_interval' id='140033455005488'>
2025-07-28 09:46:59,659 - src.api.main - INFO - 가격 알림 트리거됨: 정상종목2, 현재가: 290, 목표가: 300
2025-07-28 09:46:59,659 - src.api.main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: <MagicMock name='mock.query().filter().first().telegram_id' id='140033456678768'>)
2025-07-28 09:46:59,660 - src.api.main - DEBUG - 종목 정상종목2에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:46:59,660 - src.api.main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:46:59,663 - src.api.services.stock_service - DEBUG - update_stock_master 호출: use_dart=True
2025-07-28 09:46:59,663 - src.api.services.stock_service - ERROR - DART API 연동 실패: [020] DART API 사용량 초과
Traceback (most recent call last):
  File "/app/src/api/services/stock_service.py", line 241, in update_stock_master
    all_stocks = dart_get_all_stocks()
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1114, in __call__
    return self._mock_call(*args, **kwargs)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1118, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1173, in _execute_mock_call
    raise effect
src.common.exceptions.DartApiError: [020] DART API 사용량 초과
2025-07-28 09:46:59,664 - src.api.services.stock_service - ERROR - 종목마스터 갱신 실패: [020] DART API 사용량 초과
Traceback (most recent call last):
  File "/app/src/api/services/stock_service.py", line 241, in update_stock_master
    all_stocks = dart_get_all_stocks()
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1114, in __call__
    return self._mock_call(*args, **kwargs)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1118, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
  File "/usr/local/lib/python3.10/unittest/mock.py", line 1173, in _execute_mock_call
    raise effect
src.common.exceptions.DartApiError: [020] DART API 사용량 초과
2025-07-28 09:46:59,685 - src.api.services.stock_service - ERROR - 일별시세 갱신 중 '오류종목' 처리에서 오류 발생: DB 저장 실패
2025-07-28 09:47:18,902 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:47:18,903 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:47:20.468083+09:00 (in 1.564958 seconds)
2025-07-28 09:47:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:47:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:48:20 KST)" (scheduled at 2025-07-28 18:47:20.468083+09:00)
2025-07-28 09:47:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:48:20.468083+09:00 (in 59.997946 seconds)
2025-07-28 09:47:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:47:20.470522
2025-07-28 09:47:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:47:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:47:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:47:20,500 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:47:20,501 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:47:20,502 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:47:20,502 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:47:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:47:20,511 - main - DEBUG - 종목 AMZN 현재가: 128925
2025-07-28 09:47:20,511 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,512 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,512 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,512 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,515 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,516 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,516 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:47:20,519 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:47:20,519 - main - DEBUG - 종목 GOOG 현재가: 124875
2025-07-28 09:47:20,735 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,738 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,740 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,740 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,740 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:47:20,744 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:47:20,745 - main - DEBUG - 종목 MSFT 현재가: 149089
2025-07-28 09:47:20,748 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,751 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,754 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,756 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,756 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:47:20,761 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:47:20,762 - main - DEBUG - 종목 NFLX 현재가: 83193
2025-07-28 09:47:20,765 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,771 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:47:20,772 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,772 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,772 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:47:20,777 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:47:20,778 - main - DEBUG - 종목 NVDA 현재가: 174974
2025-07-28 09:47:20,783 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:47:20,791 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:47:20,793 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,793 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,793 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:47:20,796 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:47:20,796 - main - DEBUG - 종목 GOOGL 현재가: 118835
2025-07-28 09:47:20,799 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:47:20,804 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:47:20,805 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,805 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,806 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:47:20,810 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:47:20,810 - main - DEBUG - 종목 FB 현재가: 148163
2025-07-28 09:47:20,812 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:47:20,814 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:47:20,815 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:20,816 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:47:20,816 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:47:20,821 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:47:20,822 - main - DEBUG - 종목 005930 현재가: 110998
2025-07-28 09:47:20,825 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:47:20,825 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 110998, 목표가: 75000.0
2025-07-28 09:47:20,834 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 110998원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:47:20,837 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:47:20,839 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 110998원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:47:20,850 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:47:21,104 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f6e00>
2025-07-28 09:47:21,104 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:47:21,350 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f47f0>
2025-07-28 09:47:21,350 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:47:21,351 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:47:21,352 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:47:21,352 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:47:21,353 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:47:21,944 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:47:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:47:21,946 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:47:21,946 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:47:21,947 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:47:21,947 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:47:21,947 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:47:21,949 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:47:21,954 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:47:21,957 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:47:21,957 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 110998, 목표가: 76000.0
2025-07-28 09:47:21,960 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 110998원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:47:21,960 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:47:21,961 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 110998원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:47:21,963 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:47:21,964 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:47:21,964 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:47:21,965 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:47:21,965 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:47:21,966 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:47:21,966 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:47:21,967 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:47:21,968 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:47:21,971 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:47:21,973 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:47:21,974 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:47:21,974 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:47:21,974 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:48:20 KST)" executed successfully
2025-07-28 09:48:18,911 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:48:18,912 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:48:20.468083+09:00 (in 1.555658 seconds)
2025-07-28 09:48:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:48:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:49:20.468083+09:00 (in 59.997915 seconds)
2025-07-28 09:48:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:49:20 KST)" (scheduled at 2025-07-28 18:48:20.468083+09:00)
2025-07-28 09:48:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:48:20.471294
2025-07-28 09:48:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:48:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:48:20,473 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:48:20,493 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:48:20,493 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:48:20,493 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:48:20,494 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:48:20,498 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:48:20,499 - main - DEBUG - 종목 AMZN 현재가: 189524
2025-07-28 09:48:20,499 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,499 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,500 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,500 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,502 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,504 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,505 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:48:20,509 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:48:20,510 - main - DEBUG - 종목 GOOG 현재가: 66012
2025-07-28 09:48:20,513 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,515 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,517 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,517 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,517 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:48:20,520 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:48:20,521 - main - DEBUG - 종목 MSFT 현재가: 147121
2025-07-28 09:48:20,525 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,529 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,530 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,530 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,530 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:48:20,532 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:48:20,532 - main - DEBUG - 종목 NFLX 현재가: 95185
2025-07-28 09:48:20,534 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,536 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:48:20,537 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,537 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,538 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:48:20,541 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:48:20,541 - main - DEBUG - 종목 NVDA 현재가: 182870
2025-07-28 09:48:20,543 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:48:20,545 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:48:20,546 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,547 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,547 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:48:20,549 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:48:20,551 - main - DEBUG - 종목 GOOGL 현재가: 100305
2025-07-28 09:48:20,553 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:48:20,556 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:48:20,557 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,558 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,558 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:48:20,561 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:48:20,562 - main - DEBUG - 종목 FB 현재가: 123298
2025-07-28 09:48:20,565 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:48:20,567 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:48:20,569 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:20,570 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:48:20,571 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:48:20,574 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:48:20,575 - main - DEBUG - 종목 005930 현재가: 82769
2025-07-28 09:48:20,576 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:48:20,577 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 82769, 목표가: 75000.0
2025-07-28 09:48:20,579 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 82769원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 09:48:20,580 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:48:20,581 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 82769원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:48:20,584 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:48:20,853 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120247f70>
2025-07-28 09:48:20,853 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:48:21,116 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f4ac0>
2025-07-28 09:48:21,118 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:48:21,119 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:48:21,119 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:48:21,120 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:48:21,121 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:48:21,838 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:48:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:48:21,839 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:48:21,840 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:48:21,840 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:48:21,840 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:48:21,841 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:48:21,843 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:48:21,846 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:48:21,848 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:48:21,848 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 82769, 목표가: 76000.0
2025-07-28 09:48:21,850 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 82769원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 09:48:21,851 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:48:21,852 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 82769원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:48:21,854 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:48:21,855 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:48:21,855 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:48:21,856 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:48:21,856 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:48:21,856 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:48:21,857 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:48:21,857 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:48:21,858 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:48:21,859 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:48:21,861 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:48:21,862 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:48:21,862 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:48:21,863 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:49:20 KST)" executed successfully
2025-07-28 09:49:18,898 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:49:18,899 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:49:20.468083+09:00 (in 1.569080 seconds)
2025-07-28 09:49:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:49:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:50:20.468083+09:00 (in 59.998461 seconds)
2025-07-28 09:49:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:50:20 KST)" (scheduled at 2025-07-28 18:49:20.468083+09:00)
2025-07-28 09:49:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:49:20.470908
2025-07-28 09:49:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:49:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:49:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:49:20,487 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:49:20,488 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:49:20,488 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:49:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:49:20,490 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:49:20,505 - main - DEBUG - 종목 AMZN 현재가: 56920
2025-07-28 09:49:20,507 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,507 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,509 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,509 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,510 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,511 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,511 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:49:20,513 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:49:20,514 - main - DEBUG - 종목 GOOG 현재가: 136939
2025-07-28 09:49:20,516 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,518 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,519 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,520 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,521 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:49:20,531 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:49:20,532 - main - DEBUG - 종목 MSFT 현재가: 137757
2025-07-28 09:49:20,534 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,536 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,549 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,550 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,551 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:49:20,557 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:49:20,557 - main - DEBUG - 종목 NFLX 현재가: 56172
2025-07-28 09:49:20,568 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,591 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:49:20,592 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,593 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,593 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:49:20,596 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:49:20,598 - main - DEBUG - 종목 NVDA 현재가: 198053
2025-07-28 09:49:20,601 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:49:20,603 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:49:20,609 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,614 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,614 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:49:20,619 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:49:20,621 - main - DEBUG - 종목 GOOGL 현재가: 78948
2025-07-28 09:49:20,626 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:49:20,632 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:49:20,633 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,633 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,633 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:49:20,643 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:49:20,644 - main - DEBUG - 종목 FB 현재가: 86205
2025-07-28 09:49:20,647 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:49:20,649 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:49:20,651 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:20,651 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:49:20,652 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:49:20,658 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:49:20,659 - main - DEBUG - 종목 005930 현재가: 114391
2025-07-28 09:49:20,668 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:49:20,669 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 114391, 목표가: 75000.0
2025-07-28 09:49:20,672 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 114391원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:49:20,676 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:49:20,678 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 114391원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:49:20,683 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:49:21,016 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120245c00>
2025-07-28 09:49:21,066 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:49:21,352 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120245720>
2025-07-28 09:49:21,353 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:49:21,354 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:49:21,354 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:49:21,355 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:49:21,355 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:49:21,964 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:49:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:49:21,965 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:49:21,966 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:49:21,966 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:49:21,966 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:49:21,967 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:49:21,969 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:49:21,969 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:49:21,983 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:49:21,985 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 114391, 목표가: 76000.0
2025-07-28 09:49:21,989 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 114391원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:49:21,991 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:49:21,992 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 114391원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:49:21,994 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:49:22,011 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:49:22,062 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:49:22,125 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:49:22,126 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:49:22,127 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:49:22,128 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:49:22,129 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:49:22,131 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:49:22,134 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:49:22,136 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:49:22,139 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:49:22,140 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:49:22,141 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:50:20 KST)" executed successfully
2025-07-28 09:50:18,889 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:50:18,889 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:50:20.468083+09:00 (in 1.578443 seconds)
2025-07-28 09:50:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:50:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:51:20.468083+09:00 (in 59.998798 seconds)
2025-07-28 09:50:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:51:20 KST)" (scheduled at 2025-07-28 18:50:20.468083+09:00)
2025-07-28 09:50:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:50:20.470140
2025-07-28 09:50:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:50:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:50:20,470 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:50:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:50:20,473 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:50:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:50:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:50:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:50:20,476 - main - DEBUG - 종목 AMZN 현재가: 59728
2025-07-28 09:50:20,476 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,477 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,478 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:50:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:50:20,481 - main - DEBUG - 종목 GOOG 현재가: 135773
2025-07-28 09:50:20,483 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,486 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,488 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:50:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:50:20,492 - main - DEBUG - 종목 MSFT 현재가: 142616
2025-07-28 09:50:20,496 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,500 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,504 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,504 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,504 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:50:20,507 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:50:20,507 - main - DEBUG - 종목 NFLX 현재가: 82414
2025-07-28 09:50:20,511 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,514 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:50:20,516 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,516 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,516 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:50:20,520 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:50:20,520 - main - DEBUG - 종목 NVDA 현재가: 139488
2025-07-28 09:50:20,522 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:50:20,524 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:50:20,525 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,526 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,526 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:50:20,530 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:50:20,531 - main - DEBUG - 종목 GOOGL 현재가: 144094
2025-07-28 09:50:20,534 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:50:20,536 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:50:20,537 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,537 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,538 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:50:20,540 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:50:20,541 - main - DEBUG - 종목 FB 현재가: 126529
2025-07-28 09:50:20,543 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:50:20,546 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:50:20,547 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:20,547 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:50:20,547 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:50:20,552 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:50:20,552 - main - DEBUG - 종목 005930 현재가: 106134
2025-07-28 09:50:20,554 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:50:20,554 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 106134, 목표가: 75000.0
2025-07-28 09:50:20,557 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 106134원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:50:20,557 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:50:20,558 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 106134원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:50:20,560 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:50:20,816 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f5ab0>
2025-07-28 09:50:20,817 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:50:21,070 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc12137ccd0>
2025-07-28 09:50:21,071 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:50:21,072 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:50:21,073 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:50:21,073 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:50:21,074 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:50:21,660 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:50:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:50:21,661 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:50:21,661 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:50:21,661 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:50:21,662 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:50:21,662 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:50:21,664 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:50:21,664 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:50:21,667 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:50:21,667 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 106134, 목표가: 76000.0
2025-07-28 09:50:21,671 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 106134원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:50:21,671 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:50:21,672 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 106134원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:50:21,674 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:50:21,675 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:50:21,676 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:50:21,677 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:50:21,678 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:50:21,678 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:50:21,678 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:50:21,679 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:50:21,680 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:50:21,682 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:50:21,684 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:50:21,684 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:50:21,684 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:50:21,685 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:51:20 KST)" executed successfully
2025-07-28 09:51:18,881 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:51:18,882 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:51:20.468083+09:00 (in 1.585652 seconds)
2025-07-28 09:51:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:51:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:52:20.468083+09:00 (in 59.998826 seconds)
2025-07-28 09:51:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:52:20 KST)" (scheduled at 2025-07-28 18:51:20.468083+09:00)
2025-07-28 09:51:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:51:20.470186
2025-07-28 09:51:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:51:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:51:20,470 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:51:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:51:20,473 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:51:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:51:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:51:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:51:20,476 - main - DEBUG - 종목 AMZN 현재가: 79478
2025-07-28 09:51:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,481 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,485 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,487 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:51:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:51:20,491 - main - DEBUG - 종목 GOOG 현재가: 147569
2025-07-28 09:51:20,493 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,501 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,505 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,506 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,506 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:51:20,508 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:51:20,508 - main - DEBUG - 종목 MSFT 현재가: 178300
2025-07-28 09:51:20,510 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,513 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,515 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,515 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,515 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:51:20,518 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:51:20,519 - main - DEBUG - 종목 NFLX 현재가: 98870
2025-07-28 09:51:20,521 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,524 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:51:20,525 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,526 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,526 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:51:20,532 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:51:20,534 - main - DEBUG - 종목 NVDA 현재가: 119577
2025-07-28 09:51:20,539 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:51:20,542 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:51:20,545 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,545 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,546 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:51:20,553 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:51:20,555 - main - DEBUG - 종목 GOOGL 현재가: 188657
2025-07-28 09:51:20,560 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:51:20,565 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:51:20,566 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,566 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,566 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:51:20,570 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:51:20,571 - main - DEBUG - 종목 FB 현재가: 100865
2025-07-28 09:51:20,573 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:51:20,576 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:51:20,578 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:20,578 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:51:20,578 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:51:20,581 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:51:20,581 - main - DEBUG - 종목 005930 현재가: 140139
2025-07-28 09:51:20,585 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:51:20,585 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 140139, 목표가: 75000.0
2025-07-28 09:51:20,589 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 140139원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:51:20,590 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:51:20,591 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 140139원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:51:20,593 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:51:20,950 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120096920>
2025-07-28 09:51:20,951 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:51:21,197 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120094310>
2025-07-28 09:51:21,197 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:51:21,198 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:51:21,199 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:51:21,199 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:51:21,199 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:51:21,791 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:51:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:51:21,792 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:51:21,792 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:51:21,793 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:51:21,793 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:51:21,793 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:51:21,795 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:51:21,796 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:51:21,799 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:51:21,799 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 140139, 목표가: 76000.0
2025-07-28 09:51:21,801 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 140139원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:51:21,802 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:51:21,803 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 140139원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:51:21,805 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:51:21,806 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:51:21,807 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:51:21,808 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:51:21,808 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:51:21,808 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:51:21,809 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:51:21,809 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:51:21,810 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:51:21,812 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:51:21,813 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:51:21,814 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:51:21,814 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:51:21,815 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:52:20 KST)" executed successfully
2025-07-28 09:52:18,887 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:52:18,888 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:52:20.468083+09:00 (in 1.579773 seconds)
2025-07-28 09:52:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:52:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:53:20.468083+09:00 (in 59.998541 seconds)
2025-07-28 09:52:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:53:20 KST)" (scheduled at 2025-07-28 18:52:20.468083+09:00)
2025-07-28 09:52:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:52:20.470488
2025-07-28 09:52:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:52:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:52:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:52:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:52:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:52:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:52:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:52:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:52:20,477 - main - DEBUG - 종목 AMZN 현재가: 126187
2025-07-28 09:52:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,478 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,479 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,479 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:52:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:52:20,482 - main - DEBUG - 종목 GOOG 현재가: 164527
2025-07-28 09:52:20,485 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,487 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,488 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,489 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,489 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:52:20,492 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:52:20,493 - main - DEBUG - 종목 MSFT 현재가: 187383
2025-07-28 09:52:20,497 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,504 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,507 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,508 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,508 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:52:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:52:20,511 - main - DEBUG - 종목 NFLX 현재가: 170804
2025-07-28 09:52:20,513 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,516 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:52:20,520 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,520 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,521 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:52:20,524 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:52:20,524 - main - DEBUG - 종목 NVDA 현재가: 143309
2025-07-28 09:52:20,526 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:52:20,529 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:52:20,530 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,531 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,531 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:52:20,537 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:52:20,537 - main - DEBUG - 종목 GOOGL 현재가: 116824
2025-07-28 09:52:20,540 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:52:20,543 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:52:20,545 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,545 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,545 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:52:20,550 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:52:20,551 - main - DEBUG - 종목 FB 현재가: 172359
2025-07-28 09:52:20,553 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:52:20,555 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:52:20,556 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:20,556 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:52:20,556 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:52:20,560 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:52:20,560 - main - DEBUG - 종목 005930 현재가: 192292
2025-07-28 09:52:20,563 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:52:20,564 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 192292, 목표가: 75000.0
2025-07-28 09:52:20,568 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 192292원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:52:20,569 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:52:20,570 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 192292원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:52:20,572 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:52:20,820 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120097580>
2025-07-28 09:52:20,820 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:52:21,071 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120096e30>
2025-07-28 09:52:21,072 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:52:21,072 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:52:21,073 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:52:21,073 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:52:21,073 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:52:21,681 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:52:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:52:21,681 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:52:21,682 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:52:21,682 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:52:21,683 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:52:21,683 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:52:21,685 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:52:21,685 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:52:21,687 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:52:21,688 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 192292, 목표가: 76000.0
2025-07-28 09:52:21,690 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 192292원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:52:21,690 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:52:21,692 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 192292원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:52:21,694 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:52:21,697 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:52:21,697 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:52:21,698 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:52:21,699 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:52:21,700 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:52:21,700 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:52:21,701 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:52:21,701 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:52:21,703 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:52:21,705 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:52:21,706 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:52:21,706 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:52:21,707 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:53:20 KST)" executed successfully
2025-07-28 09:53:18,902 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:53:18,902 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:53:20.468083+09:00 (in 1.565255 seconds)
2025-07-28 09:53:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:53:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:54:20.468083+09:00 (in 59.998765 seconds)
2025-07-28 09:53:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:54:20 KST)" (scheduled at 2025-07-28 18:53:20.468083+09:00)
2025-07-28 09:53:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:53:20.470179
2025-07-28 09:53:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:53:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:53:20,470 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:53:20,472 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:53:20,473 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:53:20,473 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:53:20,473 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:53:20,474 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:53:20,475 - main - DEBUG - 종목 AMZN 현재가: 174054
2025-07-28 09:53:20,475 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,475 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,475 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,476 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,477 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,477 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,477 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:53:20,480 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:53:20,480 - main - DEBUG - 종목 GOOG 현재가: 158038
2025-07-28 09:53:20,482 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,484 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,485 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,486 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,486 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:53:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:53:20,492 - main - DEBUG - 종목 MSFT 현재가: 73298
2025-07-28 09:53:20,494 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,497 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,499 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,499 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,500 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:53:20,503 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:53:20,504 - main - DEBUG - 종목 NFLX 현재가: 117056
2025-07-28 09:53:20,506 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,509 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:53:20,510 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,510 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,510 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:53:20,514 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:53:20,515 - main - DEBUG - 종목 NVDA 현재가: 155828
2025-07-28 09:53:20,517 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:53:20,521 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:53:20,522 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,522 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,523 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:53:20,525 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:53:20,526 - main - DEBUG - 종목 GOOGL 현재가: 149756
2025-07-28 09:53:20,530 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:53:20,535 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:53:20,536 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,537 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,537 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:53:20,540 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:53:20,540 - main - DEBUG - 종목 FB 현재가: 188161
2025-07-28 09:53:20,542 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:53:20,546 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:53:20,547 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:20,547 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:53:20,547 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:53:20,549 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:53:20,550 - main - DEBUG - 종목 005930 현재가: 185757
2025-07-28 09:53:20,552 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:53:20,559 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 185757, 목표가: 75000.0
2025-07-28 09:53:20,562 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 185757원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:53:20,562 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:53:20,563 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 185757원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:53:20,565 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:53:20,910 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200962c0>
2025-07-28 09:53:20,911 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:53:21,158 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120094760>
2025-07-28 09:53:21,159 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:53:21,160 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:53:21,161 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:53:21,171 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:53:21,171 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:53:21,749 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:53:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:53:21,749 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:53:21,750 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:53:21,750 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:53:21,750 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:53:21,751 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:53:21,752 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:53:21,753 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:53:21,755 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:53:21,755 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 185757, 목표가: 76000.0
2025-07-28 09:53:21,758 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 185757원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:53:21,758 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:53:21,759 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 185757원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:53:21,760 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:53:21,761 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:53:21,761 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:53:21,762 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:53:21,762 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:53:21,763 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:53:21,763 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:53:21,764 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:53:21,764 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:53:21,766 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:53:21,767 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:53:21,768 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:53:21,769 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:53:21,769 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:54:20 KST)" executed successfully
2025-07-28 09:54:18,854 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:54:18,855 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:54:20.468083+09:00 (in 1.612460 seconds)
2025-07-28 09:54:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:54:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:55:20.468083+09:00 (in 59.998339 seconds)
2025-07-28 09:54:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:55:20 KST)" (scheduled at 2025-07-28 18:54:20.468083+09:00)
2025-07-28 09:54:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:54:20.470979
2025-07-28 09:54:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:54:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:54:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:54:20,483 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:54:20,484 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:54:20,484 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:54:20,485 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:54:20,488 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:54:20,489 - main - DEBUG - 종목 AMZN 현재가: 116375
2025-07-28 09:54:20,489 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,489 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,489 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,490 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,491 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,492 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,492 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:54:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:54:20,507 - main - DEBUG - 종목 GOOG 현재가: 145727
2025-07-28 09:54:20,516 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,519 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,522 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,522 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,523 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:54:20,526 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:54:20,527 - main - DEBUG - 종목 MSFT 현재가: 178333
2025-07-28 09:54:20,537 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,539 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,541 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,541 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,541 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:54:20,545 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:54:20,545 - main - DEBUG - 종목 NFLX 현재가: 140915
2025-07-28 09:54:20,549 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,552 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:54:20,555 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,556 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,557 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:54:20,560 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:54:20,561 - main - DEBUG - 종목 NVDA 현재가: 196575
2025-07-28 09:54:20,564 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:54:20,570 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:54:20,574 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,575 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,575 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:54:20,579 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:54:20,580 - main - DEBUG - 종목 GOOGL 현재가: 88382
2025-07-28 09:54:20,583 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:54:20,588 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:54:20,589 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,590 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,591 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:54:20,595 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:54:20,596 - main - DEBUG - 종목 FB 현재가: 54189
2025-07-28 09:54:20,599 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:54:20,605 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:54:20,607 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:20,608 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:54:20,608 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:54:20,611 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:54:20,612 - main - DEBUG - 종목 005930 현재가: 145077
2025-07-28 09:54:20,614 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:54:20,614 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 145077, 목표가: 75000.0
2025-07-28 09:54:20,619 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 145077원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:54:20,619 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:54:20,620 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 145077원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:54:20,623 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:54:20,875 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120247970>
2025-07-28 09:54:20,875 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:54:21,119 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120246e90>
2025-07-28 09:54:21,120 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:54:21,121 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:54:21,121 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:54:21,121 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:54:21,122 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:54:21,703 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:54:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:54:21,703 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:54:21,704 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:54:21,704 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:54:21,705 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:54:21,705 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:54:21,706 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:54:21,707 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:54:21,710 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:54:21,710 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 145077, 목표가: 76000.0
2025-07-28 09:54:21,714 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 145077원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:54:21,714 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:54:21,716 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 145077원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:54:21,719 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:54:21,720 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:54:21,720 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:54:21,721 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:54:21,722 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:54:21,722 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:54:21,722 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:54:21,723 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:54:21,724 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:54:21,725 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:54:21,727 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:54:21,727 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:54:21,728 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:54:21,728 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:55:20 KST)" executed successfully
2025-07-28 09:55:18,885 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:55:18,885 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:55:20.468083+09:00 (in 1.582258 seconds)
2025-07-28 09:55:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:55:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:56:20.468083+09:00 (in 59.998616 seconds)
2025-07-28 09:55:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:56:20 KST)" (scheduled at 2025-07-28 18:55:20.468083+09:00)
2025-07-28 09:55:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:55:20.470357
2025-07-28 09:55:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:55:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:55:20,470 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:55:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:55:20,473 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:55:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:55:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:55:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:55:20,479 - main - DEBUG - 종목 AMZN 현재가: 188018
2025-07-28 09:55:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:55:20,485 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:55:20,486 - main - DEBUG - 종목 GOOG 현재가: 99099
2025-07-28 09:55:20,488 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,490 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,491 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,491 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,492 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:55:20,494 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:55:20,494 - main - DEBUG - 종목 MSFT 현재가: 77914
2025-07-28 09:55:20,496 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,500 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,501 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,501 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,501 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:55:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:55:20,506 - main - DEBUG - 종목 NFLX 현재가: 95534
2025-07-28 09:55:20,510 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,512 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:55:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,513 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,514 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:55:20,516 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:55:20,517 - main - DEBUG - 종목 NVDA 현재가: 60589
2025-07-28 09:55:20,519 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:55:20,522 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:55:20,524 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,524 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,525 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:55:20,529 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:55:20,530 - main - DEBUG - 종목 GOOGL 현재가: 116346
2025-07-28 09:55:20,532 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:55:20,534 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:55:20,535 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,535 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,536 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:55:20,540 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:55:20,541 - main - DEBUG - 종목 FB 현재가: 83789
2025-07-28 09:55:20,544 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:55:20,546 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:55:20,547 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:20,547 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:55:20,548 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:55:20,551 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:55:20,551 - main - DEBUG - 종목 005930 현재가: 156616
2025-07-28 09:55:20,554 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:55:20,555 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 156616, 목표가: 75000.0
2025-07-28 09:55:20,559 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 156616원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:55:20,560 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:55:20,560 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 156616원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:55:20,562 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:55:20,812 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200acb20>
2025-07-28 09:55:20,813 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:55:21,063 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120095150>
2025-07-28 09:55:21,066 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:55:21,075 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:55:21,076 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:55:21,085 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:55:21,086 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:55:21,676 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:55:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:55:21,676 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:55:21,677 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:55:21,677 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:55:21,678 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:55:21,678 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:55:21,679 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:55:21,680 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:55:21,683 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:55:21,683 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 156616, 목표가: 76000.0
2025-07-28 09:55:21,686 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 156616원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:55:21,686 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:55:21,687 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 156616원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:55:21,688 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:55:21,689 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:55:21,690 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:55:21,690 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:55:21,691 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:55:21,691 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:55:21,691 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:55:21,692 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:55:21,693 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:55:21,694 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:55:21,695 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:55:21,697 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:55:21,698 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:55:21,698 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:56:20 KST)" executed successfully
2025-07-28 09:56:18,832 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:56:18,832 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:56:20.468083+09:00 (in 1.635226 seconds)
2025-07-28 09:56:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:56:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:57:20.468083+09:00 (in 59.997485 seconds)
2025-07-28 09:56:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:57:20 KST)" (scheduled at 2025-07-28 18:56:20.468083+09:00)
2025-07-28 09:56:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:56:20.471664
2025-07-28 09:56:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:56:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:56:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:56:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:56:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:56:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:56:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:56:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:56:20,478 - main - DEBUG - 종목 AMZN 현재가: 197368
2025-07-28 09:56:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,482 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,482 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:56:20,486 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:56:20,486 - main - DEBUG - 종목 GOOG 현재가: 74519
2025-07-28 09:56:20,490 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,493 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,495 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,495 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,495 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:56:20,499 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:56:20,500 - main - DEBUG - 종목 MSFT 현재가: 57319
2025-07-28 09:56:20,502 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,504 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,506 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,507 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,508 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:56:20,512 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:56:20,512 - main - DEBUG - 종목 NFLX 현재가: 163916
2025-07-28 09:56:20,514 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,515 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:56:20,517 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,517 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,517 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:56:20,521 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:56:20,522 - main - DEBUG - 종목 NVDA 현재가: 173657
2025-07-28 09:56:20,524 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:56:20,527 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:56:20,532 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,533 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,535 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:56:20,540 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:56:20,541 - main - DEBUG - 종목 GOOGL 현재가: 130878
2025-07-28 09:56:20,543 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:56:20,546 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:56:20,548 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,549 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,551 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:56:20,554 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:56:20,555 - main - DEBUG - 종목 FB 현재가: 186647
2025-07-28 09:56:20,558 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:56:20,560 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:56:20,562 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:20,563 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:56:20,564 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:56:20,571 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:56:20,572 - main - DEBUG - 종목 005930 현재가: 195334
2025-07-28 09:56:20,574 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:56:20,574 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 195334, 목표가: 75000.0
2025-07-28 09:56:20,577 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 195334원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:56:20,579 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:56:20,580 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 195334원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:56:20,582 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:56:20,835 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120096320>
2025-07-28 09:56:20,835 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:56:21,080 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120096140>
2025-07-28 09:56:21,082 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:56:21,082 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:56:21,083 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:56:21,083 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:56:21,083 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:56:21,666 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:56:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:56:21,666 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:56:21,667 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:56:21,667 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:56:21,667 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:56:21,668 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:56:21,669 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:56:21,670 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:56:21,672 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:56:21,672 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 195334, 목표가: 76000.0
2025-07-28 09:56:21,674 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 195334원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:56:21,675 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:56:21,675 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 195334원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:56:21,677 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:56:21,678 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:56:21,678 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:56:21,679 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:56:21,679 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:56:21,679 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:56:21,680 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:56:21,680 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:56:21,681 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:56:21,682 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:56:21,684 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:56:21,685 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:56:21,685 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:56:21,686 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:57:20 KST)" executed successfully
2025-07-28 09:57:18,869 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:57:18,869 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:57:20.468083+09:00 (in 1.598176 seconds)
2025-07-28 09:57:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:57:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:58:20.468083+09:00 (in 59.998486 seconds)
2025-07-28 09:57:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:58:20 KST)" (scheduled at 2025-07-28 18:57:20.468083+09:00)
2025-07-28 09:57:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:57:20.470412
2025-07-28 09:57:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:57:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:57:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:57:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:57:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:57:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:57:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:57:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:57:20,478 - main - DEBUG - 종목 AMZN 현재가: 165808
2025-07-28 09:57:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:57:20,484 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:57:20,485 - main - DEBUG - 종목 GOOG 현재가: 50095
2025-07-28 09:57:20,487 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,490 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,491 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,492 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,492 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:57:20,495 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:57:20,496 - main - DEBUG - 종목 MSFT 현재가: 197194
2025-07-28 09:57:20,499 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,503 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,503 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:57:20,508 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:57:20,508 - main - DEBUG - 종목 NFLX 현재가: 85777
2025-07-28 09:57:20,511 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,513 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:57:20,515 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,515 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,516 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:57:20,518 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:57:20,519 - main - DEBUG - 종목 NVDA 현재가: 65668
2025-07-28 09:57:20,523 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:57:20,526 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:57:20,529 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,529 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,529 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:57:20,532 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:57:20,533 - main - DEBUG - 종목 GOOGL 현재가: 185645
2025-07-28 09:57:20,535 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:57:20,538 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:57:20,540 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,540 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,540 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:57:20,544 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:57:20,544 - main - DEBUG - 종목 FB 현재가: 124785
2025-07-28 09:57:20,546 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:57:20,548 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:57:20,551 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:20,551 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:57:20,552 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:57:20,555 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:57:20,556 - main - DEBUG - 종목 005930 현재가: 103168
2025-07-28 09:57:20,560 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:57:20,561 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 103168, 목표가: 75000.0
2025-07-28 09:57:20,564 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 103168원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:57:20,565 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:57:20,566 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 103168원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:57:20,568 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:57:20,830 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1214c1de0>
2025-07-28 09:57:20,831 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:57:21,078 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120096140>
2025-07-28 09:57:21,080 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:57:21,081 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:57:21,081 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:57:21,082 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:57:21,082 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:57:21,671 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:57:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:57:21,672 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:57:21,673 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:57:21,673 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:57:21,673 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:57:21,674 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:57:21,676 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:57:21,677 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:57:21,679 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:57:21,679 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 103168, 목표가: 76000.0
2025-07-28 09:57:21,681 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 103168원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:57:21,682 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:57:21,682 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 103168원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:57:21,685 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:57:21,689 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:57:21,691 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:57:21,692 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:57:21,693 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:57:21,693 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:57:21,693 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:57:21,694 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:57:21,695 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:57:21,696 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:57:21,697 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:57:21,698 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:57:21,698 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:57:21,698 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:58:20 KST)" executed successfully
2025-07-28 09:58:18,848 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:58:18,848 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:58:20.468083+09:00 (in 1.619546 seconds)
2025-07-28 09:58:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:58:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:59:20.468083+09:00 (in 59.998191 seconds)
2025-07-28 09:58:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:59:20 KST)" (scheduled at 2025-07-28 18:58:20.468083+09:00)
2025-07-28 09:58:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:58:20.470766
2025-07-28 09:58:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:58:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:58:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:58:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:58:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:58:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:58:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:58:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:58:20,478 - main - DEBUG - 종목 AMZN 현재가: 162028
2025-07-28 09:58:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,478 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,480 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,480 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:58:20,483 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:58:20,483 - main - DEBUG - 종목 GOOG 현재가: 178747
2025-07-28 09:58:20,486 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,489 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,490 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,491 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,491 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:58:20,495 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:58:20,496 - main - DEBUG - 종목 MSFT 현재가: 103630
2025-07-28 09:58:20,499 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,502 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,504 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,504 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,504 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:58:20,507 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:58:20,507 - main - DEBUG - 종목 NFLX 현재가: 190003
2025-07-28 09:58:20,509 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,514 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:58:20,516 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,516 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,516 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:58:20,520 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:58:20,520 - main - DEBUG - 종목 NVDA 현재가: 181309
2025-07-28 09:58:20,522 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:58:20,525 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:58:20,526 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,527 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,527 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:58:20,531 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:58:20,532 - main - DEBUG - 종목 GOOGL 현재가: 165733
2025-07-28 09:58:20,535 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:58:20,538 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:58:20,539 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,539 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,540 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:58:20,543 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:58:20,544 - main - DEBUG - 종목 FB 현재가: 128974
2025-07-28 09:58:20,549 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:58:20,552 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:58:20,554 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,555 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:58:20,555 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:58:20,560 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:58:20,560 - main - DEBUG - 종목 005930 현재가: 71052
2025-07-28 09:58:20,562 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:58:20,565 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:58:20,567 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:58:20,567 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:58:20,568 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:58:20,568 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 18:59:20 KST)" executed successfully
2025-07-28 09:59:18,849 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:59:18,849 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 18:59:20.468083+09:00 (in 1.618373 seconds)
2025-07-28 09:59:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 09:59:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:00:20.468083+09:00 (in 59.997465 seconds)
2025-07-28 09:59:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:00:20 KST)" (scheduled at 2025-07-28 18:59:20.468083+09:00)
2025-07-28 09:59:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 09:59:20.471533
2025-07-28 09:59:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 09:59:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 09:59:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 09:59:20,476 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 09:59:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 09:59:20,477 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 09:59:20,477 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 09:59:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 09:59:20,480 - main - DEBUG - 종목 AMZN 현재가: 87643
2025-07-28 09:59:20,480 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,480 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,480 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,481 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,482 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,482 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,482 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 09:59:20,484 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 09:59:20,485 - main - DEBUG - 종목 GOOG 현재가: 116991
2025-07-28 09:59:20,487 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,489 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,492 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,492 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,493 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 09:59:20,496 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 09:59:20,496 - main - DEBUG - 종목 MSFT 현재가: 181567
2025-07-28 09:59:20,499 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,503 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,504 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,504 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 09:59:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 09:59:20,507 - main - DEBUG - 종목 NFLX 현재가: 63830
2025-07-28 09:59:20,509 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,511 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 09:59:20,512 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,512 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,512 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 09:59:20,515 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 09:59:20,515 - main - DEBUG - 종목 NVDA 현재가: 54402
2025-07-28 09:59:20,517 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:59:20,519 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 09:59:20,520 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,521 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,521 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 09:59:20,524 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 09:59:20,525 - main - DEBUG - 종목 GOOGL 현재가: 186057
2025-07-28 09:59:20,528 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:59:20,530 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 09:59:20,535 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,536 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,536 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 09:59:20,539 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 09:59:20,540 - main - DEBUG - 종목 FB 현재가: 174281
2025-07-28 09:59:20,543 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:59:20,545 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 09:59:20,554 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:20,555 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 09:59:20,555 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 09:59:20,557 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 09:59:20,558 - main - DEBUG - 종목 005930 현재가: 199373
2025-07-28 09:59:20,560 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 09:59:20,570 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 199373, 목표가: 75000.0
2025-07-28 09:59:20,573 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 199373원이 목표가 75000.0원(gte)에 도달...
2025-07-28 09:59:20,594 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:59:20,596 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 199373원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:59:20,618 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 09:59:20,890 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120247820>
2025-07-28 09:59:20,891 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 09:59:21,135 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc12137c730>
2025-07-28 09:59:21,137 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:59:21,138 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:59:21,138 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:59:21,139 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:59:21,139 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:59:21,722 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 09:59:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 09:59:21,724 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 09:59:21,725 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 09:59:21,725 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 09:59:21,725 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:59:21,726 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 09:59:21,727 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 09:59:21,728 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 09:59:21,731 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 09:59:21,731 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 199373, 목표가: 76000.0
2025-07-28 09:59:21,734 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 199373원이 목표가 76000.0원(gte)에 도달...
2025-07-28 09:59:21,734 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 09:59:21,735 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 199373원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 09:59:21,736 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 09:59:21,737 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 09:59:21,737 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 09:59:21,738 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 09:59:21,738 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 09:59:21,739 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:59:21,739 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 09:59:21,740 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 09:59:21,741 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 09:59:21,744 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 09:59:21,746 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 09:59:21,747 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 09:59:21,747 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 09:59:21,747 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:00:20 KST)" executed successfully
2025-07-28 10:00:18,849 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:00:18,849 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:00:20.468083+09:00 (in 1.618615 seconds)
2025-07-28 10:00:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:00:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:01:20.468083+09:00 (in 59.998465 seconds)
2025-07-28 10:00:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:01:20 KST)" (scheduled at 2025-07-28 19:00:20.468083+09:00)
2025-07-28 10:00:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:00:20.470576
2025-07-28 10:00:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:00:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:00:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:00:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:00:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:00:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:00:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:00:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:00:20,479 - main - DEBUG - 종목 AMZN 현재가: 58871
2025-07-28 10:00:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,480 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,482 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:00:20,487 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:00:20,488 - main - DEBUG - 종목 GOOG 현재가: 114894
2025-07-28 10:00:20,492 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,495 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,497 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,497 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,497 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:00:20,500 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:00:20,501 - main - DEBUG - 종목 MSFT 현재가: 122969
2025-07-28 10:00:20,503 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,505 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,509 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,509 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,509 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:00:20,513 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:00:20,514 - main - DEBUG - 종목 NFLX 현재가: 156218
2025-07-28 10:00:20,516 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,520 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:00:20,522 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,522 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,522 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:00:20,526 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:00:20,527 - main - DEBUG - 종목 NVDA 현재가: 51881
2025-07-28 10:00:20,529 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:00:20,532 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:00:20,534 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,535 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,535 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:00:20,538 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:00:20,539 - main - DEBUG - 종목 GOOGL 현재가: 196567
2025-07-28 10:00:20,543 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:00:20,545 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:00:20,546 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,546 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,546 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:00:20,549 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:00:20,550 - main - DEBUG - 종목 FB 현재가: 130233
2025-07-28 10:00:20,558 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:00:20,561 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:00:20,562 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:20,563 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:00:20,563 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:00:20,566 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:00:20,567 - main - DEBUG - 종목 005930 현재가: 192345
2025-07-28 10:00:20,579 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:00:20,579 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 192345, 목표가: 75000.0
2025-07-28 10:00:20,619 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 192345원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:00:20,619 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:00:20,640 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 192345원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:00:20,653 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:00:20,935 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120097580>
2025-07-28 10:00:20,935 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:00:21,181 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120096890>
2025-07-28 10:00:21,182 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:00:21,183 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:00:21,183 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:00:21,183 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:00:21,184 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:00:21,765 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:00:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:00:21,766 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:00:21,767 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:00:21,767 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:00:21,767 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:00:21,768 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:00:21,771 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:00:21,772 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:00:21,775 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:00:21,776 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 192345, 목표가: 76000.0
2025-07-28 10:00:21,778 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 192345원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:00:21,779 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:00:21,779 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 192345원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:00:21,781 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:00:21,782 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:00:21,782 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:00:21,783 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:00:21,783 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:00:21,784 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:00:21,784 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:00:21,785 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:00:21,787 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:00:21,790 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:00:21,792 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:00:21,794 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:00:21,795 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:00:21,795 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:01:20 KST)" executed successfully
2025-07-28 10:01:18,823 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:01:18,824 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:01:20.468083+09:00 (in 1.643945 seconds)
2025-07-28 10:01:20,097 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:01:20,098 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:01:20.468083+09:00 (in 0.369820 seconds)
2025-07-28 10:01:19,985 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:01:19,986 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:01:20.468083+09:00 (in 0.482083 seconds)
2025-07-28 10:01:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:01:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:02:20.468083+09:00 (in 59.997908 seconds)
2025-07-28 10:01:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:02:20 KST)" (scheduled at 2025-07-28 19:01:20.468083+09:00)
2025-07-28 10:01:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:01:20.471038
2025-07-28 10:01:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:01:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:01:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:01:20,480 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:01:20,480 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:01:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:01:20,480 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:01:20,485 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:01:20,486 - main - DEBUG - 종목 AMZN 현재가: 98992
2025-07-28 10:01:20,486 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,486 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,486 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,486 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,488 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,488 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:01:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:01:20,491 - main - DEBUG - 종목 GOOG 현재가: 71800
2025-07-28 10:01:20,494 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,496 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,499 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,500 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,500 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:01:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:01:20,506 - main - DEBUG - 종목 MSFT 현재가: 163314
2025-07-28 10:01:20,509 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,511 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,513 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,513 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:01:20,516 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:01:20,516 - main - DEBUG - 종목 NFLX 현재가: 90578
2025-07-28 10:01:20,519 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,522 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:01:20,523 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,524 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,524 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:01:20,528 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:01:20,529 - main - DEBUG - 종목 NVDA 현재가: 88933
2025-07-28 10:01:20,535 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:01:20,539 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:01:20,540 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,541 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,541 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:01:20,543 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:01:20,544 - main - DEBUG - 종목 GOOGL 현재가: 174875
2025-07-28 10:01:20,547 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:01:20,557 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:01:20,560 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,561 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,561 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:01:20,565 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:01:20,567 - main - DEBUG - 종목 FB 현재가: 101791
2025-07-28 10:01:20,573 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:01:20,577 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:01:20,579 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,579 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:01:20,580 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:01:20,586 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:01:20,587 - main - DEBUG - 종목 005930 현재가: 73781
2025-07-28 10:01:20,591 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:01:20,594 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:01:20,596 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:01:20,597 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:01:20,598 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:01:20,598 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:02:20 KST)" executed successfully
2025-07-28 10:02:18,843 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:02:18,843 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:02:20.468083+09:00 (in 1.624328 seconds)
2025-07-28 10:02:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:02:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:03:20.468083+09:00 (in 59.998380 seconds)
2025-07-28 10:02:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:03:20 KST)" (scheduled at 2025-07-28 19:02:20.468083+09:00)
2025-07-28 10:02:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:02:20.470557
2025-07-28 10:02:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:02:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:02:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:02:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:02:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:02:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:02:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:02:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:02:20,482 - main - DEBUG - 종목 AMZN 현재가: 178765
2025-07-28 10:02:20,483 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,483 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,484 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,484 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,485 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,486 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,486 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:02:20,488 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:02:20,489 - main - DEBUG - 종목 GOOG 현재가: 118660
2025-07-28 10:02:20,491 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,493 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,494 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,494 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,494 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:02:20,497 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:02:20,497 - main - DEBUG - 종목 MSFT 현재가: 130126
2025-07-28 10:02:20,499 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,503 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,503 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:02:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:02:20,507 - main - DEBUG - 종목 NFLX 현재가: 99589
2025-07-28 10:02:20,508 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,513 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:02:20,515 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,515 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,515 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:02:20,518 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:02:20,518 - main - DEBUG - 종목 NVDA 현재가: 52629
2025-07-28 10:02:20,520 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:02:20,523 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:02:20,526 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,528 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,528 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:02:20,536 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:02:20,536 - main - DEBUG - 종목 GOOGL 현재가: 141118
2025-07-28 10:02:20,617 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:02:20,619 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:02:20,621 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,621 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,621 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:02:20,625 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:02:20,625 - main - DEBUG - 종목 FB 현재가: 186394
2025-07-28 10:02:20,628 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:02:20,632 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:02:20,639 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:20,640 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:02:20,640 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:02:20,643 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:02:20,643 - main - DEBUG - 종목 005930 현재가: 145867
2025-07-28 10:02:20,645 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:02:20,646 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 145867, 목표가: 75000.0
2025-07-28 10:02:20,659 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 145867원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:02:20,659 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:02:20,661 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 145867원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:02:20,663 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:02:20,943 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120097160>
2025-07-28 10:02:20,943 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:02:21,188 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1202469e0>
2025-07-28 10:02:21,188 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:02:21,189 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:02:21,190 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:02:21,190 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:02:21,191 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:02:21,784 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:02:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:02:21,786 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:02:21,787 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:02:21,787 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:02:21,787 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:02:21,788 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:02:21,789 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:02:21,790 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:02:21,793 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:02:21,794 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 145867, 목표가: 76000.0
2025-07-28 10:02:21,797 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 145867원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:02:21,797 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:02:21,798 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 145867원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:02:21,801 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:02:21,803 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:02:21,803 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:02:21,803 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:02:21,805 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:02:21,806 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:02:21,807 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:02:21,808 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:02:21,809 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:02:21,810 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:02:21,812 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:02:21,812 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:02:21,813 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:02:21,813 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:03:20 KST)" executed successfully
2025-07-28 10:03:18,816 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:03:18,816 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:03:20.468083+09:00 (in 1.651451 seconds)
2025-07-28 10:03:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:03:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:04:20.468083+09:00 (in 59.998066 seconds)
2025-07-28 10:03:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:04:20 KST)" (scheduled at 2025-07-28 19:03:20.468083+09:00)
2025-07-28 10:03:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:03:20.470835
2025-07-28 10:03:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:03:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:03:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:03:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:03:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:03:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:03:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:03:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:03:20,476 - main - DEBUG - 종목 AMZN 현재가: 121165
2025-07-28 10:03:20,476 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,476 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,478 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:03:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:03:20,481 - main - DEBUG - 종목 GOOG 현재가: 197160
2025-07-28 10:03:20,484 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,486 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,487 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:03:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:03:20,492 - main - DEBUG - 종목 MSFT 현재가: 189083
2025-07-28 10:03:20,496 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,502 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,503 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,503 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:03:20,507 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:03:20,508 - main - DEBUG - 종목 NFLX 현재가: 159570
2025-07-28 10:03:20,512 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,517 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:03:20,519 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,519 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,519 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:03:20,523 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:03:20,524 - main - DEBUG - 종목 NVDA 현재가: 164549
2025-07-28 10:03:20,526 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:03:20,528 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:03:20,530 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,531 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,531 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:03:20,534 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:03:20,535 - main - DEBUG - 종목 GOOGL 현재가: 101306
2025-07-28 10:03:20,537 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:03:20,539 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:03:20,541 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,541 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,541 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:03:20,544 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:03:20,544 - main - DEBUG - 종목 FB 현재가: 138895
2025-07-28 10:03:20,547 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:03:20,555 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:03:20,558 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:20,558 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:03:20,558 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:03:20,561 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:03:20,562 - main - DEBUG - 종목 005930 현재가: 135642
2025-07-28 10:03:20,564 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:03:20,564 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 135642, 목표가: 75000.0
2025-07-28 10:03:20,567 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 135642원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:03:20,567 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:03:20,568 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 135642원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:03:20,570 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:03:20,828 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f5210>
2025-07-28 10:03:20,829 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:03:21,073 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f5360>
2025-07-28 10:03:21,074 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:03:21,074 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:03:21,075 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:03:21,075 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:03:21,075 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:03:21,757 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:03:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:03:21,758 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:03:21,758 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:03:21,759 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:03:21,759 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:03:21,759 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:03:21,761 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:03:21,762 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:03:21,764 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:03:21,765 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 135642, 목표가: 76000.0
2025-07-28 10:03:21,767 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 135642원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:03:21,767 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:03:21,771 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 135642원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:03:21,772 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:03:21,774 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:03:21,775 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:03:21,776 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:03:21,776 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:03:21,777 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:03:21,777 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:03:21,777 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:03:21,778 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:03:21,779 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:03:21,787 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:03:21,788 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:03:21,789 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:03:21,789 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:04:20 KST)" executed successfully
2025-07-28 10:04:18,821 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:04:18,822 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:04:20.468083+09:00 (in 1.645706 seconds)
2025-07-28 10:04:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:04:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:05:20.468083+09:00 (in 59.998522 seconds)
2025-07-28 10:04:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:05:20 KST)" (scheduled at 2025-07-28 19:04:20.468083+09:00)
2025-07-28 10:04:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:04:20.470345
2025-07-28 10:04:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:04:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:04:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:04:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:04:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:04:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:04:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:04:20,480 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:04:20,481 - main - DEBUG - 종목 AMZN 현재가: 183377
2025-07-28 10:04:20,481 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,481 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,481 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,482 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,483 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,484 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,484 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:04:20,487 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:04:20,487 - main - DEBUG - 종목 GOOG 현재가: 139446
2025-07-28 10:04:20,489 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,491 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,493 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,493 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,493 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:04:20,499 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:04:20,500 - main - DEBUG - 종목 MSFT 현재가: 173163
2025-07-28 10:04:20,503 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,506 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,507 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,507 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,508 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:04:20,510 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:04:20,511 - main - DEBUG - 종목 NFLX 현재가: 184516
2025-07-28 10:04:20,515 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,518 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:04:20,519 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,519 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,520 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:04:20,524 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:04:20,525 - main - DEBUG - 종목 NVDA 현재가: 157599
2025-07-28 10:04:20,528 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:04:20,534 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:04:20,537 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,537 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,537 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:04:20,541 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:04:20,542 - main - DEBUG - 종목 GOOGL 현재가: 114217
2025-07-28 10:04:20,544 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:04:20,548 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:04:20,550 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,551 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,552 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:04:20,563 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:04:20,564 - main - DEBUG - 종목 FB 현재가: 106520
2025-07-28 10:04:20,568 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:04:20,571 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:04:20,572 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:20,572 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:04:20,573 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:04:20,579 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:04:20,579 - main - DEBUG - 종목 005930 현재가: 109360
2025-07-28 10:04:20,583 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:04:20,584 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 109360, 목표가: 75000.0
2025-07-28 10:04:20,588 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 109360원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:04:20,588 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:04:20,589 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 109360원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:04:20,590 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:04:20,847 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c4190>
2025-07-28 10:04:20,848 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:04:21,101 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc120095c00>
2025-07-28 10:04:21,101 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:04:21,102 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:04:21,102 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:04:21,103 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:04:21,103 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:04:21,828 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:04:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:04:21,829 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:04:21,830 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:04:21,830 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:04:21,830 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:04:21,831 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:04:21,833 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:04:21,834 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:04:21,837 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:04:21,837 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 109360, 목표가: 76000.0
2025-07-28 10:04:21,840 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 109360원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:04:21,840 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:04:21,841 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 109360원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:04:21,842 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:04:21,843 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:04:21,844 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:04:21,844 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:04:21,845 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:04:21,845 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:04:21,845 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:04:21,846 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:04:21,848 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:04:21,851 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:04:21,852 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:04:21,853 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:04:21,854 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:04:21,855 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:05:20 KST)" executed successfully
2025-07-28 10:05:18,816 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:05:18,816 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:05:20.468083+09:00 (in 1.651589 seconds)
2025-07-28 10:05:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:05:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:06:20.468083+09:00 (in 59.997594 seconds)
2025-07-28 10:05:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:06:20 KST)" (scheduled at 2025-07-28 19:05:20.468083+09:00)
2025-07-28 10:05:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:05:20.471435
2025-07-28 10:05:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:05:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:05:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:05:20,476 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:05:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:05:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:05:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:05:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:05:20,479 - main - DEBUG - 종목 AMZN 현재가: 195925
2025-07-28 10:05:20,480 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,480 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,480 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,480 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,482 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,482 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:05:20,488 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:05:20,489 - main - DEBUG - 종목 GOOG 현재가: 138904
2025-07-28 10:05:20,491 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,493 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,494 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,494 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,495 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:05:20,498 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:05:20,498 - main - DEBUG - 종목 MSFT 현재가: 105444
2025-07-28 10:05:20,503 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,505 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,507 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,507 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,507 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:05:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:05:20,511 - main - DEBUG - 종목 NFLX 현재가: 59292
2025-07-28 10:05:20,513 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,516 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:05:20,517 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,517 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,518 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:05:20,520 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:05:20,520 - main - DEBUG - 종목 NVDA 현재가: 83598
2025-07-28 10:05:20,522 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:05:20,524 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:05:20,526 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,526 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,526 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:05:20,529 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:05:20,529 - main - DEBUG - 종목 GOOGL 현재가: 162426
2025-07-28 10:05:20,531 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:05:20,536 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:05:20,537 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,537 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,537 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:05:20,540 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:05:20,541 - main - DEBUG - 종목 FB 현재가: 70997
2025-07-28 10:05:20,543 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:05:20,545 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:05:20,547 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,547 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:05:20,550 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:05:20,554 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:05:20,556 - main - DEBUG - 종목 005930 현재가: 61786
2025-07-28 10:05:20,558 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:05:20,561 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:05:20,562 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:05:20,562 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:05:20,563 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:05:20,563 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:06:20 KST)" executed successfully
2025-07-28 10:06:18,798 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:06:18,798 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:06:20.468083+09:00 (in 1.669183 seconds)
2025-07-28 10:06:20,473 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:06:20,474 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:07:20.468083+09:00 (in 59.993924 seconds)
2025-07-28 10:06:20,474 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:07:20 KST)" (scheduled at 2025-07-28 19:06:20.468083+09:00)
2025-07-28 10:06:20,475 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:06:20.475096
2025-07-28 10:06:20,475 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:06:20,475 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:06:20,476 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:06:20,480 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:06:20,480 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:06:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:06:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:06:20,484 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:06:20,484 - main - DEBUG - 종목 AMZN 현재가: 96882
2025-07-28 10:06:20,485 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,485 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,485 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,485 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,486 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,486 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,487 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:06:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:06:20,492 - main - DEBUG - 종목 GOOG 현재가: 100250
2025-07-28 10:06:20,495 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,498 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,499 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,499 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,499 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:06:20,502 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:06:20,502 - main - DEBUG - 종목 MSFT 현재가: 117367
2025-07-28 10:06:20,505 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,509 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,513 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,513 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:06:20,517 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:06:20,517 - main - DEBUG - 종목 NFLX 현재가: 54084
2025-07-28 10:06:20,520 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,522 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:06:20,524 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,524 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,525 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:06:20,528 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:06:20,528 - main - DEBUG - 종목 NVDA 현재가: 137015
2025-07-28 10:06:20,531 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:06:20,533 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:06:20,535 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,535 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,535 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:06:20,539 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:06:20,539 - main - DEBUG - 종목 GOOGL 현재가: 65934
2025-07-28 10:06:20,543 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:06:20,547 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:06:20,548 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,549 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,549 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:06:20,552 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:06:20,552 - main - DEBUG - 종목 FB 현재가: 148372
2025-07-28 10:06:20,555 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:06:20,559 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:06:20,561 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:20,561 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:06:20,562 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:06:20,564 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:06:20,565 - main - DEBUG - 종목 005930 현재가: 76568
2025-07-28 10:06:20,567 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:06:20,567 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 76568, 목표가: 75000.0
2025-07-28 10:06:20,570 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 76568원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 10:06:20,570 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:06:20,571 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 76568원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:06:20,573 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:06:20,847 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200adf00>
2025-07-28 10:06:20,847 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:06:21,098 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200ae4d0>
2025-07-28 10:06:21,099 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:06:21,100 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:06:21,100 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:06:21,101 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:06:21,101 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:06:21,692 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:06:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:06:21,693 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:06:21,693 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:06:21,694 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:06:21,694 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:06:21,694 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:06:21,696 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:06:21,697 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:06:21,699 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:06:21,699 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 76568, 목표가: 76000.0
2025-07-28 10:06:21,701 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 76568원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 10:06:21,701 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:06:21,702 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 76568원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:06:21,703 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:06:21,704 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:06:21,705 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:06:21,705 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:06:21,706 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:06:21,707 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:06:21,708 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:06:21,709 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:06:21,710 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:06:21,713 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:06:21,714 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:06:21,715 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:06:21,716 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:06:21,716 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:07:20 KST)" executed successfully
2025-07-28 10:07:18,775 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:07:18,776 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:07:20.468083+09:00 (in 1.692066 seconds)
2025-07-28 10:07:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:07:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:08:20.468083+09:00 (in 59.997846 seconds)
2025-07-28 10:07:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:08:20 KST)" (scheduled at 2025-07-28 19:07:20.468083+09:00)
2025-07-28 10:07:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:07:20.471265
2025-07-28 10:07:20,473 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:07:20,473 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:07:20,473 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:07:20,478 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:07:20,478 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:07:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:07:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:07:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:07:20,482 - main - DEBUG - 종목 AMZN 현재가: 100861
2025-07-28 10:07:20,482 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,482 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,482 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,483 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,484 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,484 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,484 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:07:20,487 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:07:20,488 - main - DEBUG - 종목 GOOG 현재가: 155537
2025-07-28 10:07:20,491 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,494 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,496 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,496 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,496 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:07:20,500 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:07:20,501 - main - DEBUG - 종목 MSFT 현재가: 114441
2025-07-28 10:07:20,506 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,508 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,510 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,510 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,511 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:07:20,513 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:07:20,514 - main - DEBUG - 종목 NFLX 현재가: 194049
2025-07-28 10:07:20,516 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,518 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:07:20,519 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,520 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,520 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:07:20,522 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:07:20,522 - main - DEBUG - 종목 NVDA 현재가: 198977
2025-07-28 10:07:20,524 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:07:20,536 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:07:20,538 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,538 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,538 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:07:20,541 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:07:20,541 - main - DEBUG - 종목 GOOGL 현재가: 190895
2025-07-28 10:07:20,543 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:07:20,546 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:07:20,548 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,549 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,550 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:07:20,559 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:07:20,560 - main - DEBUG - 종목 FB 현재가: 72747
2025-07-28 10:07:20,563 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:07:20,565 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:07:20,569 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,570 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:07:20,571 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:07:20,574 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:07:20,575 - main - DEBUG - 종목 005930 현재가: 67590
2025-07-28 10:07:20,577 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:07:20,579 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:07:20,580 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:07:20,580 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:07:20,581 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:07:20,581 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:08:20 KST)" executed successfully
2025-07-28 10:08:18,798 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:08:18,799 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:08:20.468083+09:00 (in 1.668406 seconds)
2025-07-28 10:08:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:08:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:09:20.468083+09:00 (in 59.998414 seconds)
2025-07-28 10:08:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:09:20 KST)" (scheduled at 2025-07-28 19:08:20.468083+09:00)
2025-07-28 10:08:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:08:20.470455
2025-07-28 10:08:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:08:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:08:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:08:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:08:20,473 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:08:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:08:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:08:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:08:20,476 - main - DEBUG - 종목 AMZN 현재가: 105212
2025-07-28 10:08:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,477 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,479 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:08:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:08:20,483 - main - DEBUG - 종목 GOOG 현재가: 150425
2025-07-28 10:08:20,484 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,490 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,492 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,493 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,493 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:08:20,496 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:08:20,496 - main - DEBUG - 종목 MSFT 현재가: 69524
2025-07-28 10:08:20,498 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,500 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,501 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,502 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,502 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:08:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:08:20,512 - main - DEBUG - 종목 NFLX 현재가: 155385
2025-07-28 10:08:20,518 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,523 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:08:20,524 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,525 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,525 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:08:20,529 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:08:20,529 - main - DEBUG - 종목 NVDA 현재가: 181158
2025-07-28 10:08:20,535 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:08:20,538 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:08:20,539 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,539 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,539 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:08:20,543 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:08:20,544 - main - DEBUG - 종목 GOOGL 현재가: 187358
2025-07-28 10:08:20,547 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:08:20,550 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:08:20,552 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,552 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,552 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:08:20,555 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:08:20,556 - main - DEBUG - 종목 FB 현재가: 66435
2025-07-28 10:08:20,562 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:08:20,568 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:08:20,570 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:20,571 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:08:20,571 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:08:20,574 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:08:20,575 - main - DEBUG - 종목 005930 현재가: 143448
2025-07-28 10:08:20,579 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:08:20,579 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 143448, 목표가: 75000.0
2025-07-28 10:08:20,584 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 143448원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:08:20,585 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:08:20,586 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 143448원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:08:20,590 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:08:20,864 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c6170>
2025-07-28 10:08:20,864 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:08:21,111 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200ac640>
2025-07-28 10:08:21,112 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:08:21,113 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:08:21,113 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:08:21,114 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:08:21,114 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:08:21,707 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:08:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:08:21,708 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:08:21,708 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:08:21,709 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:08:21,709 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:08:21,710 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:08:21,711 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:08:21,712 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:08:21,715 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:08:21,716 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 143448, 목표가: 76000.0
2025-07-28 10:08:21,719 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 143448원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:08:21,724 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:08:21,725 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 143448원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:08:21,726 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:08:21,728 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:08:21,728 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:08:21,729 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:08:21,729 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:08:21,729 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:08:21,730 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:08:21,730 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:08:21,731 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:08:21,732 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:08:21,734 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:08:21,734 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:08:21,735 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:08:21,735 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:09:20 KST)" executed successfully
2025-07-28 10:09:18,809 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:09:18,809 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:09:20.468083+09:00 (in 1.658514 seconds)
2025-07-28 10:09:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:09:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:10:20.468083+09:00 (in 59.998688 seconds)
2025-07-28 10:09:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:10:20 KST)" (scheduled at 2025-07-28 19:09:20.468083+09:00)
2025-07-28 10:09:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:09:20.470395
2025-07-28 10:09:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:09:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:09:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:09:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:09:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:09:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:09:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:09:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:09:20,479 - main - DEBUG - 종목 AMZN 현재가: 199213
2025-07-28 10:09:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:09:20,484 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:09:20,485 - main - DEBUG - 종목 GOOG 현재가: 141698
2025-07-28 10:09:20,489 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,495 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,497 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,497 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,498 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:09:20,500 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:09:20,501 - main - DEBUG - 종목 MSFT 현재가: 122549
2025-07-28 10:09:20,506 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,509 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,511 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,511 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,511 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:09:20,514 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:09:20,514 - main - DEBUG - 종목 NFLX 현재가: 196808
2025-07-28 10:09:20,516 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,518 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:09:20,519 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,520 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,520 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:09:20,522 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:09:20,523 - main - DEBUG - 종목 NVDA 현재가: 51447
2025-07-28 10:09:20,525 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:09:20,527 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:09:20,528 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,529 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,529 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:09:20,532 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:09:20,532 - main - DEBUG - 종목 GOOGL 현재가: 197445
2025-07-28 10:09:20,535 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:09:20,540 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:09:20,542 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,542 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,542 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:09:20,544 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:09:20,545 - main - DEBUG - 종목 FB 현재가: 83117
2025-07-28 10:09:20,549 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:09:20,552 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:09:20,555 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:20,555 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:09:20,555 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:09:20,558 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:09:20,559 - main - DEBUG - 종목 005930 현재가: 191651
2025-07-28 10:09:20,561 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:09:20,562 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 191651, 목표가: 75000.0
2025-07-28 10:09:20,564 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 191651원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:09:20,565 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:09:20,565 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 191651원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:09:20,567 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:09:20,903 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c4b80>
2025-07-28 10:09:20,904 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:09:21,148 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200ad2d0>
2025-07-28 10:09:21,149 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:09:21,149 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:09:21,150 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:09:21,150 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:09:21,150 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:09:21,916 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:09:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:09:21,917 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:09:21,917 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:09:21,917 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:09:21,918 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:09:21,918 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:09:21,920 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:09:21,920 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:09:21,923 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:09:21,923 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 191651, 목표가: 76000.0
2025-07-28 10:09:21,925 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 191651원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:09:21,926 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:09:21,926 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 191651원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:09:21,928 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:09:21,928 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:09:21,929 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:09:21,930 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:09:21,930 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:09:21,930 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:09:21,936 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:09:21,938 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:09:21,939 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:09:21,941 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:09:21,942 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:09:21,943 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:09:21,943 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:09:21,944 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:10:20 KST)" executed successfully
2025-07-28 10:10:18,787 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:10:18,787 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:10:20.468083+09:00 (in 1.680589 seconds)
2025-07-28 10:10:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:10:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:11:20.468083+09:00 (in 59.997196 seconds)
2025-07-28 10:10:20,471 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:11:20 KST)" (scheduled at 2025-07-28 19:10:20.468083+09:00)
2025-07-28 10:10:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:10:20.471718
2025-07-28 10:10:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:10:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:10:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:10:20,476 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:10:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:10:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:10:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:10:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:10:20,479 - main - DEBUG - 종목 AMZN 현재가: 103505
2025-07-28 10:10:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,480 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:10:20,485 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:10:20,485 - main - DEBUG - 종목 GOOG 현재가: 110437
2025-07-28 10:10:20,487 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,490 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,491 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,492 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,492 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:10:20,495 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:10:20,496 - main - DEBUG - 종목 MSFT 현재가: 158206
2025-07-28 10:10:20,498 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,500 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,501 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,502 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,502 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:10:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:10:20,506 - main - DEBUG - 종목 NFLX 현재가: 120158
2025-07-28 10:10:20,509 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,511 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:10:20,512 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,513 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,513 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:10:20,516 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:10:20,516 - main - DEBUG - 종목 NVDA 현재가: 100311
2025-07-28 10:10:20,519 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:10:20,521 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:10:20,522 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,522 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,522 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:10:20,525 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:10:20,525 - main - DEBUG - 종목 GOOGL 현재가: 74217
2025-07-28 10:10:20,529 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:10:20,532 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:10:20,533 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,533 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,534 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:10:20,539 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:10:20,542 - main - DEBUG - 종목 FB 현재가: 126531
2025-07-28 10:10:20,545 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:10:20,548 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:10:20,550 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,551 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:10:20,551 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:10:20,554 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:10:20,555 - main - DEBUG - 종목 005930 현재가: 56197
2025-07-28 10:10:20,557 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:10:20,560 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:10:20,562 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:10:20,563 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:10:20,563 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:10:20,564 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:11:20 KST)" executed successfully
2025-07-28 10:11:18,722 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:11:18,723 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:11:20.468083+09:00 (in 1.744813 seconds)
2025-07-28 10:11:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:11:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:12:20.468083+09:00 (in 59.998488 seconds)
2025-07-28 10:11:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:12:20 KST)" (scheduled at 2025-07-28 19:11:20.468083+09:00)
2025-07-28 10:11:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:11:20.470470
2025-07-28 10:11:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:11:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:11:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:11:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:11:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:11:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:11:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:11:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:11:20,476 - main - DEBUG - 종목 AMZN 현재가: 87521
2025-07-28 10:11:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,477 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,479 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:11:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:11:20,482 - main - DEBUG - 종목 GOOG 현재가: 75939
2025-07-28 10:11:20,484 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,487 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,491 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,492 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,492 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:11:20,496 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:11:20,497 - main - DEBUG - 종목 MSFT 현재가: 109094
2025-07-28 10:11:20,503 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,509 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,512 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,513 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:11:20,517 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:11:20,520 - main - DEBUG - 종목 NFLX 현재가: 85511
2025-07-28 10:11:20,534 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,541 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:11:20,544 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,545 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,545 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:11:20,551 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:11:20,553 - main - DEBUG - 종목 NVDA 현재가: 166973
2025-07-28 10:11:20,560 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:11:20,570 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:11:20,575 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,575 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,575 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:11:20,580 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:11:20,580 - main - DEBUG - 종목 GOOGL 현재가: 151012
2025-07-28 10:11:20,583 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:11:20,586 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:11:20,591 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,592 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,592 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:11:20,606 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:11:20,606 - main - DEBUG - 종목 FB 현재가: 154309
2025-07-28 10:11:20,610 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:11:20,614 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:11:20,618 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:20,621 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:11:20,621 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:11:20,631 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:11:20,637 - main - DEBUG - 종목 005930 현재가: 101398
2025-07-28 10:11:20,639 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:11:20,640 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 101398, 목표가: 75000.0
2025-07-28 10:11:20,642 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 101398원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:11:20,667 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:11:20,685 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 101398원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:11:20,714 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:11:21,045 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc12136e4d0>
2025-07-28 10:11:21,045 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:11:21,295 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc12137c730>
2025-07-28 10:11:21,296 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:11:21,297 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:11:21,297 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:11:21,298 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:11:21,298 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:11:21,892 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:11:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:11:21,893 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:11:21,894 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:11:21,894 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:11:21,895 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:11:21,895 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:11:21,897 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:11:21,898 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:11:21,901 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:11:21,902 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 101398, 목표가: 76000.0
2025-07-28 10:11:21,905 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 101398원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:11:21,905 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:11:21,909 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 101398원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:11:21,910 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:11:21,911 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:11:21,911 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:11:21,912 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:11:21,912 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:11:21,913 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:11:21,913 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:11:21,914 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:11:21,915 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:11:21,916 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:11:21,917 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:11:21,918 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:11:21,918 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:11:21,918 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:12:20 KST)" executed successfully
2025-07-28 10:12:18,797 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:12:18,797 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:12:20.468083+09:00 (in 1.670179 seconds)
2025-07-28 10:12:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:12:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:13:20.468083+09:00 (in 59.998549 seconds)
2025-07-28 10:12:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:13:20 KST)" (scheduled at 2025-07-28 19:12:20.468083+09:00)
2025-07-28 10:12:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:12:20.470440
2025-07-28 10:12:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:12:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:12:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:12:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:12:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:12:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:12:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:12:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:12:20,479 - main - DEBUG - 종목 AMZN 현재가: 129563
2025-07-28 10:12:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:12:20,484 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:12:20,485 - main - DEBUG - 종목 GOOG 현재가: 129020
2025-07-28 10:12:20,488 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,494 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,496 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,497 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,498 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:12:20,501 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:12:20,502 - main - DEBUG - 종목 MSFT 현재가: 159549
2025-07-28 10:12:20,509 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,511 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,513 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,513 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:12:20,516 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:12:20,516 - main - DEBUG - 종목 NFLX 현재가: 94527
2025-07-28 10:12:20,518 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,520 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:12:20,524 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,526 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,526 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:12:20,531 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:12:20,531 - main - DEBUG - 종목 NVDA 현재가: 188541
2025-07-28 10:12:20,535 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:12:20,539 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:12:20,542 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,542 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,543 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:12:20,552 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:12:20,553 - main - DEBUG - 종목 GOOGL 현재가: 153183
2025-07-28 10:12:20,560 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:12:20,567 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:12:20,570 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,570 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,570 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:12:20,578 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:12:20,579 - main - DEBUG - 종목 FB 현재가: 151972
2025-07-28 10:12:20,583 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:12:20,587 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:12:20,588 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:20,589 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:12:20,589 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:12:20,593 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:12:20,593 - main - DEBUG - 종목 005930 현재가: 86241
2025-07-28 10:12:20,605 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:12:20,606 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 86241, 목표가: 75000.0
2025-07-28 10:12:20,608 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 86241원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 10:12:20,609 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:12:20,609 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 86241원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:12:20,611 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:12:20,943 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c81c0>
2025-07-28 10:12:20,943 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:12:21,187 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c6410>
2025-07-28 10:12:21,188 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:12:21,189 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:12:21,189 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:12:21,190 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:12:21,190 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:12:21,778 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:12:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:12:21,780 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:12:21,780 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:12:21,780 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:12:21,781 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:12:21,781 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:12:21,783 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:12:21,783 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:12:21,785 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:12:21,786 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 86241, 목표가: 76000.0
2025-07-28 10:12:21,788 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 86241원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 10:12:21,789 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:12:21,790 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 86241원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:12:21,792 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:12:21,798 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:12:21,800 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:12:21,801 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:12:21,801 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:12:21,801 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:12:21,802 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:12:21,802 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:12:21,803 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:12:21,804 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:12:21,805 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:12:21,806 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:12:21,806 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:12:21,806 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:13:20 KST)" executed successfully
2025-07-28 10:13:18,776 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:13:18,776 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:13:20.468083+09:00 (in 1.691246 seconds)
2025-07-28 10:13:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:13:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:14:20.468083+09:00 (in 59.997899 seconds)
2025-07-28 10:13:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:14:20 KST)" (scheduled at 2025-07-28 19:13:20.468083+09:00)
2025-07-28 10:13:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:13:20.471369
2025-07-28 10:13:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:13:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:13:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:13:20,478 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:13:20,478 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:13:20,479 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:13:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:13:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:13:20,482 - main - DEBUG - 종목 AMZN 현재가: 174938
2025-07-28 10:13:20,482 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,482 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,482 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,482 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,484 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,484 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,484 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:13:20,489 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:13:20,489 - main - DEBUG - 종목 GOOG 현재가: 63360
2025-07-28 10:13:20,493 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,495 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,496 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,497 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,498 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:13:20,500 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:13:20,500 - main - DEBUG - 종목 MSFT 현재가: 76704
2025-07-28 10:13:20,503 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,505 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,506 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,507 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,507 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:13:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:13:20,512 - main - DEBUG - 종목 NFLX 현재가: 170279
2025-07-28 10:13:20,515 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,519 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:13:20,521 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,521 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,522 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:13:20,526 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:13:20,526 - main - DEBUG - 종목 NVDA 현재가: 188519
2025-07-28 10:13:20,528 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:13:20,530 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:13:20,532 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,533 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,533 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:13:20,538 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:13:20,539 - main - DEBUG - 종목 GOOGL 현재가: 157862
2025-07-28 10:13:20,543 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:13:20,546 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:13:20,548 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,548 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,548 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:13:20,551 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:13:20,551 - main - DEBUG - 종목 FB 현재가: 147080
2025-07-28 10:13:20,555 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:13:20,558 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:13:20,560 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:20,560 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:13:20,560 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:13:20,563 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:13:20,563 - main - DEBUG - 종목 005930 현재가: 191046
2025-07-28 10:13:20,567 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:13:20,567 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 191046, 목표가: 75000.0
2025-07-28 10:13:20,570 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 191046원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:13:20,570 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:13:20,572 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 191046원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:13:20,576 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:13:20,840 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c47c0>
2025-07-28 10:13:20,840 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:13:21,085 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c5c90>
2025-07-28 10:13:21,086 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:13:21,087 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:13:21,087 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:13:21,088 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:13:21,089 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:13:21,700 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:13:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:13:21,701 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:13:21,701 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:13:21,701 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:13:21,702 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:13:21,702 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:13:21,704 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:13:21,705 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:13:21,708 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:13:21,708 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 191046, 목표가: 76000.0
2025-07-28 10:13:21,711 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 191046원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:13:21,711 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:13:21,712 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 191046원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:13:21,713 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:13:21,714 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:13:21,714 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:13:21,715 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:13:21,716 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:13:21,716 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:13:21,716 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:13:21,717 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:13:21,719 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:13:21,721 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:13:21,722 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:13:21,722 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:13:21,723 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:13:21,723 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:14:20 KST)" executed successfully
2025-07-28 10:14:18,776 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:14:18,776 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:14:20.468083+09:00 (in 1.691642 seconds)
2025-07-28 10:14:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:14:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:15:20.468083+09:00 (in 59.997677 seconds)
2025-07-28 10:14:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:15:20 KST)" (scheduled at 2025-07-28 19:14:20.468083+09:00)
2025-07-28 10:14:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:14:20.471586
2025-07-28 10:14:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:14:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:14:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:14:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:14:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:14:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:14:20,477 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:14:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:14:20,480 - main - DEBUG - 종목 AMZN 현재가: 182655
2025-07-28 10:14:20,480 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,480 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,480 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,480 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,482 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,482 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:14:20,485 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:14:20,485 - main - DEBUG - 종목 GOOG 현재가: 93441
2025-07-28 10:14:20,487 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,490 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,494 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,495 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,495 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:14:20,499 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:14:20,499 - main - DEBUG - 종목 MSFT 현재가: 55391
2025-07-28 10:14:20,501 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,503 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,504 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,505 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,505 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:14:20,515 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:14:20,517 - main - DEBUG - 종목 NFLX 현재가: 55717
2025-07-28 10:14:20,522 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,529 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:14:20,535 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,536 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,536 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:14:20,539 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:14:20,539 - main - DEBUG - 종목 NVDA 현재가: 72104
2025-07-28 10:14:20,541 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:14:20,548 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:14:20,552 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,552 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,553 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:14:20,561 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:14:20,564 - main - DEBUG - 종목 GOOGL 현재가: 144627
2025-07-28 10:14:20,568 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:14:20,571 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:14:20,573 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,573 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,573 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:14:20,582 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:14:20,582 - main - DEBUG - 종목 FB 현재가: 163608
2025-07-28 10:14:20,586 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:14:20,588 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:14:20,589 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,590 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:14:20,590 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:14:20,593 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:14:20,593 - main - DEBUG - 종목 005930 현재가: 52876
2025-07-28 10:14:20,598 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:14:20,603 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:14:20,606 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:14:20,607 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:14:20,607 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:14:20,608 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:15:20 KST)" executed successfully
2025-07-28 10:15:18,776 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:15:18,777 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:15:20.468083+09:00 (in 1.690719 seconds)
2025-07-28 10:15:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:15:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:16:20.468083+09:00 (in 59.998315 seconds)
2025-07-28 10:15:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:16:20 KST)" (scheduled at 2025-07-28 19:15:20.468083+09:00)
2025-07-28 10:15:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:15:20.470703
2025-07-28 10:15:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:15:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:15:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:15:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:15:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:15:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:15:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:15:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:15:20,479 - main - DEBUG - 종목 AMZN 현재가: 96732
2025-07-28 10:15:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:15:20,487 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:15:20,487 - main - DEBUG - 종목 GOOG 현재가: 153885
2025-07-28 10:15:20,489 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,492 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,493 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,494 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,494 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:15:20,497 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:15:20,497 - main - DEBUG - 종목 MSFT 현재가: 128653
2025-07-28 10:15:20,501 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,505 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,507 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,508 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,509 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:15:20,514 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:15:20,515 - main - DEBUG - 종목 NFLX 현재가: 94134
2025-07-28 10:15:20,517 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,519 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:15:20,521 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,522 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,522 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:15:20,525 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:15:20,525 - main - DEBUG - 종목 NVDA 현재가: 111671
2025-07-28 10:15:20,527 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:15:20,531 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:15:20,532 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,533 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,533 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:15:20,537 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:15:20,538 - main - DEBUG - 종목 GOOGL 현재가: 147976
2025-07-28 10:15:20,539 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:15:20,543 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:15:20,546 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,547 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,547 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:15:20,553 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:15:20,554 - main - DEBUG - 종목 FB 현재가: 154197
2025-07-28 10:15:20,558 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:15:20,561 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:15:20,562 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:20,562 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:15:20,562 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:15:20,564 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:15:20,565 - main - DEBUG - 종목 005930 현재가: 147949
2025-07-28 10:15:20,568 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:15:20,568 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 147949, 목표가: 75000.0
2025-07-28 10:15:20,571 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 147949원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:15:20,571 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:15:20,599 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 147949원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:15:20,607 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:15:20,929 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c5ed0>
2025-07-28 10:15:20,929 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:15:21,174 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c57b0>
2025-07-28 10:15:21,174 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:15:21,175 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:15:21,175 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:15:21,176 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:15:21,176 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:15:21,766 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:15:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:15:21,767 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:15:21,767 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:15:21,768 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:15:21,768 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:15:21,768 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:15:21,771 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:15:21,772 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:15:21,774 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:15:21,774 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 147949, 목표가: 76000.0
2025-07-28 10:15:21,777 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 147949원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:15:21,777 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:15:21,778 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 147949원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:15:21,779 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:15:21,781 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:15:21,782 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:15:21,783 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:15:21,783 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:15:21,784 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:15:21,784 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:15:21,784 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:15:21,785 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:15:21,787 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:15:21,789 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:15:21,789 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:15:21,790 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:15:21,790 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:16:20 KST)" executed successfully
2025-07-28 10:16:18,706 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:16:18,707 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:16:20.468083+09:00 (in 1.760920 seconds)
2025-07-28 10:16:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:16:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:17:20.468083+09:00 (in 59.997896 seconds)
2025-07-28 10:16:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:17:20 KST)" (scheduled at 2025-07-28 19:16:20.468083+09:00)
2025-07-28 10:16:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:16:20.471147
2025-07-28 10:16:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:16:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:16:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:16:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:16:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:16:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:16:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:16:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:16:20,478 - main - DEBUG - 종목 AMZN 현재가: 128711
2025-07-28 10:16:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,478 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,480 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,480 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:16:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:16:20,483 - main - DEBUG - 종목 GOOG 현재가: 127167
2025-07-28 10:16:20,484 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,486 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,487 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:16:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:16:20,492 - main - DEBUG - 종목 MSFT 현재가: 132178
2025-07-28 10:16:20,495 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,497 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,500 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,501 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,501 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:16:20,505 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:16:20,505 - main - DEBUG - 종목 NFLX 현재가: 126165
2025-07-28 10:16:20,507 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,509 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:16:20,511 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,511 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,511 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:16:20,515 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:16:20,515 - main - DEBUG - 종목 NVDA 현재가: 150098
2025-07-28 10:16:20,517 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:16:20,520 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:16:20,521 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,522 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,522 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:16:20,525 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:16:20,525 - main - DEBUG - 종목 GOOGL 현재가: 121347
2025-07-28 10:16:20,534 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:16:20,537 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:16:20,538 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,539 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,539 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:16:20,542 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:16:20,543 - main - DEBUG - 종목 FB 현재가: 117163
2025-07-28 10:16:20,545 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:16:20,548 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:16:20,549 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:20,550 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:16:20,550 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:16:20,553 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:16:20,555 - main - DEBUG - 종목 005930 현재가: 180057
2025-07-28 10:16:20,558 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:16:20,558 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 180057, 목표가: 75000.0
2025-07-28 10:16:20,563 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 180057원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:16:20,565 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:16:20,567 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 180057원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:16:20,569 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:16:20,825 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc12136e4d0>
2025-07-28 10:16:20,825 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:16:21,073 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200978b0>
2025-07-28 10:16:21,074 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:16:21,075 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:16:21,076 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:16:21,076 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:16:21,077 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:16:21,671 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:16:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:16:21,673 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:16:21,674 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:16:21,674 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:16:21,675 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:16:21,675 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:16:21,677 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:16:21,678 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:16:21,683 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:16:21,683 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 180057, 목표가: 76000.0
2025-07-28 10:16:21,687 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 180057원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:16:21,687 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:16:21,688 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 180057원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:16:21,691 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:16:21,693 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:16:21,693 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:16:21,694 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:16:21,694 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:16:21,695 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:16:21,695 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:16:21,696 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:16:21,697 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:16:21,698 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:16:21,700 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:16:21,701 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:16:21,701 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:16:21,702 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:17:20 KST)" executed successfully
2025-07-28 10:17:18,768 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:17:18,769 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:17:20.468083+09:00 (in 1.698784 seconds)
2025-07-28 10:17:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:17:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:18:20.468083+09:00 (in 59.998540 seconds)
2025-07-28 10:17:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:18:20 KST)" (scheduled at 2025-07-28 19:17:20.468083+09:00)
2025-07-28 10:17:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:17:20.470456
2025-07-28 10:17:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:17:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:17:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:17:20,481 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:17:20,482 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:17:20,482 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:17:20,483 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:17:20,486 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:17:20,487 - main - DEBUG - 종목 AMZN 현재가: 93141
2025-07-28 10:17:20,487 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,488 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,488 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,488 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,490 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,490 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,490 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:17:20,493 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:17:20,493 - main - DEBUG - 종목 GOOG 현재가: 132777
2025-07-28 10:17:20,498 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,502 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,504 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,505 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,505 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:17:20,509 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:17:20,510 - main - DEBUG - 종목 MSFT 현재가: 56833
2025-07-28 10:17:20,512 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,516 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,517 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,518 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,518 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:17:20,522 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:17:20,522 - main - DEBUG - 종목 NFLX 현재가: 83574
2025-07-28 10:17:20,524 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,526 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:17:20,528 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,528 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,528 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:17:20,530 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:17:20,531 - main - DEBUG - 종목 NVDA 현재가: 128883
2025-07-28 10:17:20,535 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:17:20,539 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:17:20,548 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,548 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,549 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:17:20,554 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:17:20,555 - main - DEBUG - 종목 GOOGL 현재가: 51136
2025-07-28 10:17:20,557 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:17:20,560 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:17:20,562 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,562 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,562 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:17:20,565 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:17:20,565 - main - DEBUG - 종목 FB 현재가: 167441
2025-07-28 10:17:20,567 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:17:20,571 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:17:20,573 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:20,573 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:17:20,573 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:17:20,578 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:17:20,578 - main - DEBUG - 종목 005930 현재가: 166844
2025-07-28 10:17:20,581 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:17:20,581 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 166844, 목표가: 75000.0
2025-07-28 10:17:20,584 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 166844원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:17:20,585 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:17:20,586 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 166844원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:17:20,587 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:17:20,854 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c8a60>
2025-07-28 10:17:20,854 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:17:21,110 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c88b0>
2025-07-28 10:17:21,111 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:17:21,112 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:17:21,112 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:17:21,113 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:17:21,113 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:17:21,713 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:17:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:17:21,714 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:17:21,714 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:17:21,714 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:17:21,715 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:17:21,715 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:17:21,716 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:17:21,717 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:17:21,719 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:17:21,719 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 166844, 목표가: 76000.0
2025-07-28 10:17:21,722 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 166844원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:17:21,722 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:17:21,723 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 166844원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:17:21,724 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:17:21,725 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:17:21,726 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:17:21,727 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:17:21,728 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:17:21,728 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:17:21,728 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:17:21,729 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:17:21,730 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:17:21,732 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:17:21,733 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:17:21,734 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:17:21,734 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:17:21,735 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:18:20 KST)" executed successfully
2025-07-28 10:18:18,741 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:18:18,741 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:18:20.468083+09:00 (in 1.726222 seconds)
2025-07-28 10:18:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:18:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:19:20.468083+09:00 (in 59.997406 seconds)
2025-07-28 10:18:20,471 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:19:20 KST)" (scheduled at 2025-07-28 19:18:20.468083+09:00)
2025-07-28 10:18:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:18:20.471742
2025-07-28 10:18:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:18:20,473 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:18:20,473 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:18:20,477 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:18:20,478 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:18:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:18:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:18:20,480 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:18:20,481 - main - DEBUG - 종목 AMZN 현재가: 105506
2025-07-28 10:18:20,481 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,482 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,482 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,482 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,483 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,483 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,484 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:18:20,486 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:18:20,487 - main - DEBUG - 종목 GOOG 현재가: 191713
2025-07-28 10:18:20,489 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,491 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,493 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,493 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,493 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:18:20,496 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:18:20,496 - main - DEBUG - 종목 MSFT 현재가: 196706
2025-07-28 10:18:20,499 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,503 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,504 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:18:20,507 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:18:20,507 - main - DEBUG - 종목 NFLX 현재가: 100541
2025-07-28 10:18:20,509 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,512 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:18:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,514 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,514 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:18:20,518 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:18:20,518 - main - DEBUG - 종목 NVDA 현재가: 85697
2025-07-28 10:18:20,520 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:18:20,522 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:18:20,523 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,523 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,524 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:18:20,526 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:18:20,526 - main - DEBUG - 종목 GOOGL 현재가: 120365
2025-07-28 10:18:20,528 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:18:20,530 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:18:20,531 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,531 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,531 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:18:20,534 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:18:20,534 - main - DEBUG - 종목 FB 현재가: 95896
2025-07-28 10:18:20,537 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:18:20,540 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:18:20,541 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,541 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:18:20,542 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:18:20,545 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:18:20,546 - main - DEBUG - 종목 005930 현재가: 59923
2025-07-28 10:18:20,548 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:18:20,551 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:18:20,552 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:18:20,553 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:18:20,553 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:18:20,553 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:19:20 KST)" executed successfully
2025-07-28 10:19:18,751 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:19:18,752 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:19:20.468083+09:00 (in 1.715656 seconds)
2025-07-28 10:19:19,611 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:19:19,611 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:19:20.468083+09:00 (in 0.856495 seconds)
2025-07-28 10:19:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:19:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:20:20.468083+09:00 (in 59.997531 seconds)
2025-07-28 10:19:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:20:20 KST)" (scheduled at 2025-07-28 19:19:20.468083+09:00)
2025-07-28 10:19:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:19:20.471708
2025-07-28 10:19:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:19:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:19:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:19:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:19:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:19:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:19:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:19:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:19:20,477 - main - DEBUG - 종목 AMZN 현재가: 64875
2025-07-28 10:19:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,478 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,479 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,479 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:19:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:19:20,482 - main - DEBUG - 종목 GOOG 현재가: 187773
2025-07-28 10:19:20,485 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,488 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,489 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,490 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,490 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:19:20,492 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:19:20,493 - main - DEBUG - 종목 MSFT 현재가: 63878
2025-07-28 10:19:20,496 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,498 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,499 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,500 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,500 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:19:20,502 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:19:20,502 - main - DEBUG - 종목 NFLX 현재가: 194453
2025-07-28 10:19:20,505 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,507 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:19:20,509 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,509 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,509 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:19:20,512 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:19:20,512 - main - DEBUG - 종목 NVDA 현재가: 89188
2025-07-28 10:19:20,516 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:19:20,518 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:19:20,520 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,520 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,520 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:19:20,523 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:19:20,523 - main - DEBUG - 종목 GOOGL 현재가: 90776
2025-07-28 10:19:20,525 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:19:20,528 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:19:20,530 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,531 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,531 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:19:20,533 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:19:20,534 - main - DEBUG - 종목 FB 현재가: 193997
2025-07-28 10:19:20,537 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:19:20,539 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:19:20,540 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:20,540 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:19:20,540 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:19:20,543 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:19:20,543 - main - DEBUG - 종목 005930 현재가: 155729
2025-07-28 10:19:20,545 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:19:20,545 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 155729, 목표가: 75000.0
2025-07-28 10:19:20,548 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 155729원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:19:20,548 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:19:20,549 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 155729원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:19:20,551 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:19:20,807 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cb310>
2025-07-28 10:19:20,807 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:19:21,056 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200ca980>
2025-07-28 10:19:21,057 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:19:21,058 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:19:21,059 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:19:21,059 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:19:21,059 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:19:21,651 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:19:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:19:21,652 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:19:21,653 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:19:21,653 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:19:21,653 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:19:21,654 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:19:21,655 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:19:21,656 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:19:21,660 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:19:21,661 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 155729, 목표가: 76000.0
2025-07-28 10:19:21,664 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 155729원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:19:21,664 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:19:21,665 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 155729원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:19:21,667 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:19:21,668 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:19:21,668 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:19:21,669 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:19:21,669 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:19:21,670 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:19:21,671 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:19:21,671 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:19:21,672 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:19:21,673 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:19:21,678 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:19:21,679 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:19:21,679 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:19:21,679 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:20:20 KST)" executed successfully
2025-07-28 10:20:18,718 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:20:18,718 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:20:20.468083+09:00 (in 1.749183 seconds)
2025-07-28 10:20:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:20:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:21:20.468083+09:00 (in 59.998143 seconds)
2025-07-28 10:20:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:21:20 KST)" (scheduled at 2025-07-28 19:20:20.468083+09:00)
2025-07-28 10:20:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:20:20.470637
2025-07-28 10:20:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:20:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:20:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:20:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:20:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:20:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:20:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:20:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:20:20,478 - main - DEBUG - 종목 AMZN 현재가: 152993
2025-07-28 10:20:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,480 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,480 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:20:20,483 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:20:20,483 - main - DEBUG - 종목 GOOG 현재가: 154614
2025-07-28 10:20:20,487 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,492 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,495 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,495 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,495 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:20:20,502 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:20:20,502 - main - DEBUG - 종목 MSFT 현재가: 179680
2025-07-28 10:20:20,505 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,509 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,514 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,514 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,514 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:20:20,518 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:20:20,518 - main - DEBUG - 종목 NFLX 현재가: 173000
2025-07-28 10:20:20,521 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,523 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:20:20,527 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,530 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,530 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:20:20,536 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:20:20,537 - main - DEBUG - 종목 NVDA 현재가: 59885
2025-07-28 10:20:20,541 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:20:20,546 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:20:20,548 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,549 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,550 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:20:20,554 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:20:20,554 - main - DEBUG - 종목 GOOGL 현재가: 173818
2025-07-28 10:20:20,557 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:20:20,561 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:20:20,564 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,565 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,565 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:20:20,572 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:20:20,572 - main - DEBUG - 종목 FB 현재가: 190601
2025-07-28 10:20:20,575 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:20:20,580 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:20:20,582 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:20,582 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:20:20,583 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:20:20,589 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:20:20,590 - main - DEBUG - 종목 005930 현재가: 119192
2025-07-28 10:20:20,592 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:20:20,593 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 119192, 목표가: 75000.0
2025-07-28 10:20:20,596 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 119192원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:20:20,596 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:20:20,597 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 119192원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:20:20,602 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:20:20,851 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200ca8f0>
2025-07-28 10:20:20,852 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:20:21,099 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200ca500>
2025-07-28 10:20:21,100 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:20:21,101 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:20:21,101 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:20:21,102 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:20:21,102 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:20:21,811 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:20:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:20:21,811 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:20:21,812 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:20:21,813 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:20:21,813 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:20:21,813 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:20:21,815 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:20:21,816 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:20:21,818 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:20:21,818 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 119192, 목표가: 76000.0
2025-07-28 10:20:21,820 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 119192원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:20:21,821 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:20:21,821 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 119192원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:20:21,823 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:20:21,824 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:20:21,824 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:20:21,825 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:20:21,825 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:20:21,826 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:20:21,826 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:20:21,827 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:20:21,828 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:20:21,829 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:20:21,840 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:20:21,841 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:20:21,841 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:20:21,842 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:21:20 KST)" executed successfully
2025-07-28 10:21:18,704 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:21:18,705 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:21:20.468083+09:00 (in 1.762423 seconds)
2025-07-28 10:21:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:21:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:22:20.468083+09:00 (in 59.998568 seconds)
2025-07-28 10:21:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:22:20 KST)" (scheduled at 2025-07-28 19:21:20.468083+09:00)
2025-07-28 10:21:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:21:20.471388
2025-07-28 10:21:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:21:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:21:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:21:20,476 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:21:20,477 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:21:20,477 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:21:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:21:20,483 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:21:20,484 - main - DEBUG - 종목 AMZN 현재가: 167602
2025-07-28 10:21:20,484 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,484 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,485 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,485 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,486 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,487 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:21:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:21:20,492 - main - DEBUG - 종목 GOOG 현재가: 126115
2025-07-28 10:21:20,497 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,498 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,499 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,500 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,500 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:21:20,503 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:21:20,504 - main - DEBUG - 종목 MSFT 현재가: 95535
2025-07-28 10:21:20,506 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,510 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,512 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,512 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,512 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:21:20,515 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:21:20,516 - main - DEBUG - 종목 NFLX 현재가: 106110
2025-07-28 10:21:20,518 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,520 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:21:20,521 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,521 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,521 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:21:20,527 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:21:20,528 - main - DEBUG - 종목 NVDA 현재가: 62962
2025-07-28 10:21:20,529 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:21:20,531 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:21:20,532 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,532 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,532 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:21:20,541 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:21:20,541 - main - DEBUG - 종목 GOOGL 현재가: 66307
2025-07-28 10:21:20,545 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:21:20,548 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:21:20,549 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,550 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,550 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:21:20,553 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:21:20,553 - main - DEBUG - 종목 FB 현재가: 90413
2025-07-28 10:21:20,557 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:21:20,561 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:21:20,563 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,563 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:21:20,563 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:21:20,565 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:21:20,566 - main - DEBUG - 종목 005930 현재가: 59303
2025-07-28 10:21:20,567 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:21:20,570 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:21:20,571 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:21:20,573 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:21:20,574 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:21:20,574 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:22:20 KST)" executed successfully
2025-07-28 10:22:18,732 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:22:18,734 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:22:20.468083+09:00 (in 1.734070 seconds)
2025-07-28 10:22:20,470 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:22:20,474 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:23:20.468083+09:00 (in 59.994085 seconds)
2025-07-28 10:22:20,474 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:23:20 KST)" (scheduled at 2025-07-28 19:22:20.468083+09:00)
2025-07-28 10:22:20,479 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:22:20.479073
2025-07-28 10:22:20,479 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:22:20,479 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:22:20,479 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:22:20,493 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:22:20,494 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:22:20,494 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:22:20,495 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:22:20,498 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:22:20,499 - main - DEBUG - 종목 AMZN 현재가: 78767
2025-07-28 10:22:20,499 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,499 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,499 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,499 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,500 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,501 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,501 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:22:20,503 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:22:20,504 - main - DEBUG - 종목 GOOG 현재가: 147422
2025-07-28 10:22:20,509 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,516 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,527 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,528 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,528 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:22:20,534 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:22:20,535 - main - DEBUG - 종목 MSFT 현재가: 197722
2025-07-28 10:22:20,537 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,549 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,550 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,550 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,550 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:22:20,553 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:22:20,554 - main - DEBUG - 종목 NFLX 현재가: 181672
2025-07-28 10:22:20,556 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,559 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:22:20,563 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,564 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,564 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:22:20,568 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:22:20,569 - main - DEBUG - 종목 NVDA 현재가: 178191
2025-07-28 10:22:20,573 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:22:20,584 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:22:20,586 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,586 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,587 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:22:20,592 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:22:20,592 - main - DEBUG - 종목 GOOGL 현재가: 188486
2025-07-28 10:22:20,597 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:22:20,610 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:22:20,628 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,629 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,629 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:22:20,636 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:22:20,638 - main - DEBUG - 종목 FB 현재가: 181584
2025-07-28 10:22:20,646 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:22:20,649 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:22:20,652 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:20,653 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:22:20,653 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:22:20,657 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:22:20,657 - main - DEBUG - 종목 005930 현재가: 76601
2025-07-28 10:22:20,660 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:22:20,660 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 76601, 목표가: 75000.0
2025-07-28 10:22:20,665 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 76601원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 10:22:20,670 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:22:20,672 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 76601원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:22:20,679 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:22:20,951 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200aff70>
2025-07-28 10:22:20,952 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:22:21,196 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1213f4dc0>
2025-07-28 10:22:21,196 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:22:21,197 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:22:21,198 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:22:21,198 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:22:21,198 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:22:21,882 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:22:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:22:21,883 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:22:21,884 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:22:21,884 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:22:21,884 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:22:21,885 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:22:21,886 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:22:21,887 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:22:21,890 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:22:21,891 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 76601, 목표가: 76000.0
2025-07-28 10:22:21,894 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 76601원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 10:22:21,895 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:22:21,896 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 76601원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:22:21,899 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:22:21,899 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:22:21,900 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:22:21,900 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:22:21,900 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:22:21,901 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:22:21,901 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:22:21,901 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:22:21,902 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:22:21,904 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:22:21,905 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:22:21,906 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:22:21,906 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:22:21,907 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:23:20 KST)" executed successfully
2025-07-28 10:23:18,730 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:23:18,730 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:23:20.468083+09:00 (in 1.737553 seconds)
2025-07-28 10:23:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:23:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:24:20.468083+09:00 (in 59.998199 seconds)
2025-07-28 10:23:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:24:20 KST)" (scheduled at 2025-07-28 19:23:20.468083+09:00)
2025-07-28 10:23:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:23:20.470981
2025-07-28 10:23:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:23:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:23:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:23:20,476 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:23:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:23:20,477 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:23:20,477 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:23:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:23:20,480 - main - DEBUG - 종목 AMZN 현재가: 147390
2025-07-28 10:23:20,480 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,480 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,481 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,481 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,482 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,483 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,483 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:23:20,486 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:23:20,487 - main - DEBUG - 종목 GOOG 현재가: 82216
2025-07-28 10:23:20,491 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,493 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,494 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,495 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,495 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:23:20,497 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:23:20,497 - main - DEBUG - 종목 MSFT 현재가: 79105
2025-07-28 10:23:20,500 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,503 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,503 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:23:20,506 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:23:20,506 - main - DEBUG - 종목 NFLX 현재가: 67486
2025-07-28 10:23:20,508 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,510 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:23:20,512 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,512 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,512 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:23:20,515 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:23:20,516 - main - DEBUG - 종목 NVDA 현재가: 156913
2025-07-28 10:23:20,519 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:23:20,522 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:23:20,523 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,524 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,524 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:23:20,527 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:23:20,527 - main - DEBUG - 종목 GOOGL 현재가: 60751
2025-07-28 10:23:20,529 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:23:20,532 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:23:20,533 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,533 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,534 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:23:20,537 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:23:20,538 - main - DEBUG - 종목 FB 현재가: 86687
2025-07-28 10:23:20,540 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:23:20,542 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:23:20,543 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:20,544 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:23:20,544 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:23:20,546 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:23:20,547 - main - DEBUG - 종목 005930 현재가: 80378
2025-07-28 10:23:20,549 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:23:20,550 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 80378, 목표가: 75000.0
2025-07-28 10:23:20,553 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 80378원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 10:23:20,554 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:23:20,554 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 80378원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:23:20,556 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:23:20,808 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cc280>
2025-07-28 10:23:20,809 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:23:21,063 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cae00>
2025-07-28 10:23:21,064 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:23:21,065 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:23:21,066 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:23:21,066 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:23:21,066 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:23:21,673 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:23:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:23:21,674 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:23:21,674 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:23:21,675 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:23:21,675 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:23:21,676 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:23:21,677 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:23:21,678 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:23:21,680 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:23:21,680 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 80378, 목표가: 76000.0
2025-07-28 10:23:21,693 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 80378원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 10:23:21,693 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:23:21,695 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 80378원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:23:21,696 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:23:21,698 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:23:21,707 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:23:21,708 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:23:21,709 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:23:21,709 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:23:21,709 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:23:21,710 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:23:21,710 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:23:21,711 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:23:21,712 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:23:21,713 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:23:21,713 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:23:21,714 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:24:20 KST)" executed successfully
2025-07-28 10:24:18,690 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:24:18,691 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:24:20.468083+09:00 (in 1.776679 seconds)
2025-07-28 10:24:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:24:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:25:20.468083+09:00 (in 59.997674 seconds)
2025-07-28 10:24:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:25:20 KST)" (scheduled at 2025-07-28 19:24:20.468083+09:00)
2025-07-28 10:24:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:24:20.471400
2025-07-28 10:24:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:24:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:24:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:24:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:24:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:24:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:24:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:24:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:24:20,479 - main - DEBUG - 종목 AMZN 현재가: 130541
2025-07-28 10:24:20,479 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,479 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,480 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,480 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,482 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,482 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,483 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:24:20,487 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:24:20,487 - main - DEBUG - 종목 GOOG 현재가: 65336
2025-07-28 10:24:20,489 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,491 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,492 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,492 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,493 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:24:20,496 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:24:20,496 - main - DEBUG - 종목 MSFT 현재가: 110351
2025-07-28 10:24:20,499 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,502 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,503 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:24:20,505 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:24:20,506 - main - DEBUG - 종목 NFLX 현재가: 79394
2025-07-28 10:24:20,508 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,511 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:24:20,512 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,512 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,512 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:24:20,515 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:24:20,515 - main - DEBUG - 종목 NVDA 현재가: 85191
2025-07-28 10:24:20,518 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:24:20,521 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:24:20,523 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,524 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,524 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:24:20,527 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:24:20,527 - main - DEBUG - 종목 GOOGL 현재가: 74931
2025-07-28 10:24:20,530 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:24:20,532 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:24:20,533 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,533 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,533 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:24:20,537 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:24:20,537 - main - DEBUG - 종목 FB 현재가: 164392
2025-07-28 10:24:20,539 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:24:20,541 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:24:20,543 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,544 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:24:20,544 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:24:20,547 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:24:20,547 - main - DEBUG - 종목 005930 현재가: 72061
2025-07-28 10:24:20,549 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:24:20,552 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:24:20,554 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:24:20,554 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:24:20,555 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:24:20,555 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:25:20 KST)" executed successfully
2025-07-28 10:25:18,699 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:25:18,701 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:25:20.468083+09:00 (in 1.766921 seconds)
2025-07-28 10:25:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:25:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:26:20.468083+09:00 (in 59.998306 seconds)
2025-07-28 10:25:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:26:20 KST)" (scheduled at 2025-07-28 19:25:20.468083+09:00)
2025-07-28 10:25:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:25:20.470993
2025-07-28 10:25:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:25:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:25:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:25:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:25:20,476 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:25:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:25:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:25:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:25:20,480 - main - DEBUG - 종목 AMZN 현재가: 164224
2025-07-28 10:25:20,481 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,481 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,484 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,485 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,487 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,487 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:25:20,490 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:25:20,490 - main - DEBUG - 종목 GOOG 현재가: 83815
2025-07-28 10:25:20,492 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,505 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,507 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,507 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,508 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:25:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:25:20,512 - main - DEBUG - 종목 MSFT 현재가: 98055
2025-07-28 10:25:20,517 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,519 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,522 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,522 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,522 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:25:20,525 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:25:20,526 - main - DEBUG - 종목 NFLX 현재가: 133466
2025-07-28 10:25:20,528 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,530 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:25:20,532 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,532 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,532 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:25:20,535 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:25:20,535 - main - DEBUG - 종목 NVDA 현재가: 183560
2025-07-28 10:25:20,537 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:25:20,540 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:25:20,542 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,542 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,542 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:25:20,546 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:25:20,547 - main - DEBUG - 종목 GOOGL 현재가: 114849
2025-07-28 10:25:20,550 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:25:20,554 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:25:20,557 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,558 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,558 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:25:20,562 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:25:20,562 - main - DEBUG - 종목 FB 현재가: 57052
2025-07-28 10:25:20,565 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:25:20,568 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:25:20,570 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,570 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:25:20,571 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:25:20,574 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:25:20,575 - main - DEBUG - 종목 005930 현재가: 68827
2025-07-28 10:25:20,579 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:25:20,582 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:25:20,583 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:25:20,584 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:25:20,585 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:25:20,585 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:26:20 KST)" executed successfully
2025-07-28 10:26:18,704 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:26:18,705 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:26:20.468083+09:00 (in 1.762980 seconds)
2025-07-28 10:26:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:26:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:27:20.468083+09:00 (in 59.997902 seconds)
2025-07-28 10:26:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:27:20 KST)" (scheduled at 2025-07-28 19:26:20.468083+09:00)
2025-07-28 10:26:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:26:20.470999
2025-07-28 10:26:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:26:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:26:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:26:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:26:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:26:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:26:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:26:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:26:20,476 - main - DEBUG - 종목 AMZN 현재가: 128216
2025-07-28 10:26:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,477 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,478 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:26:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:26:20,482 - main - DEBUG - 종목 GOOG 현재가: 115227
2025-07-28 10:26:20,487 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,489 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,490 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,491 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,491 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:26:20,494 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:26:20,494 - main - DEBUG - 종목 MSFT 현재가: 154639
2025-07-28 10:26:20,496 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,498 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,500 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,500 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,500 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:26:20,503 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:26:20,503 - main - DEBUG - 종목 NFLX 현재가: 193532
2025-07-28 10:26:20,506 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,509 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:26:20,510 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,510 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,511 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:26:20,513 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:26:20,513 - main - DEBUG - 종목 NVDA 현재가: 113290
2025-07-28 10:26:20,515 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:26:20,518 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:26:20,519 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,520 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,520 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:26:20,524 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:26:20,525 - main - DEBUG - 종목 GOOGL 현재가: 73677
2025-07-28 10:26:20,528 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:26:20,532 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:26:20,535 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,536 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,538 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:26:20,544 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:26:20,545 - main - DEBUG - 종목 FB 현재가: 154884
2025-07-28 10:26:20,556 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:26:20,559 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:26:20,560 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,560 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:26:20,560 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:26:20,563 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:26:20,564 - main - DEBUG - 종목 005930 현재가: 68883
2025-07-28 10:26:20,568 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:26:20,572 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:26:20,573 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:26:20,574 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:26:20,574 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:26:20,575 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:27:20 KST)" executed successfully
2025-07-28 10:27:18,703 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:27:18,703 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:27:20.468083+09:00 (in 1.764211 seconds)
2025-07-28 10:27:20,470 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:27:20,471 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:28:20.468083+09:00 (in 59.996978 seconds)
2025-07-28 10:27:20,471 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:28:20 KST)" (scheduled at 2025-07-28 19:27:20.468083+09:00)
2025-07-28 10:27:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:27:20.471958
2025-07-28 10:27:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:27:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:27:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:27:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:27:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:27:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:27:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:27:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:27:20,477 - main - DEBUG - 종목 AMZN 현재가: 104461
2025-07-28 10:27:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,478 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,479 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,479 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,479 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:27:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:27:20,482 - main - DEBUG - 종목 GOOG 현재가: 161329
2025-07-28 10:27:20,485 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,489 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,493 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,493 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,493 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:27:20,498 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:27:20,498 - main - DEBUG - 종목 MSFT 현재가: 141224
2025-07-28 10:27:20,502 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,505 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,508 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,509 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,509 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:27:20,516 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:27:20,516 - main - DEBUG - 종목 NFLX 현재가: 101734
2025-07-28 10:27:20,519 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,522 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:27:20,523 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,524 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,525 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:27:20,532 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:27:20,533 - main - DEBUG - 종목 NVDA 현재가: 119403
2025-07-28 10:27:20,537 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:27:20,542 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:27:20,544 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,545 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,545 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:27:20,551 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:27:20,551 - main - DEBUG - 종목 GOOGL 현재가: 199499
2025-07-28 10:27:20,555 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:27:20,559 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:27:20,562 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,563 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,563 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:27:20,567 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:27:20,568 - main - DEBUG - 종목 FB 현재가: 168861
2025-07-28 10:27:20,571 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:27:20,574 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:27:20,576 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,577 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:27:20,577 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:27:20,587 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:27:20,587 - main - DEBUG - 종목 005930 현재가: 74117
2025-07-28 10:27:20,591 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:27:20,595 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:27:20,597 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:27:20,599 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:27:20,600 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:27:20,600 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:28:20 KST)" executed successfully
2025-07-28 10:28:18,666 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:28:18,666 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:28:20.468083+09:00 (in 1.801518 seconds)
2025-07-28 10:28:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:28:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:29:20.468083+09:00 (in 59.998955 seconds)
2025-07-28 10:28:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:29:20 KST)" (scheduled at 2025-07-28 19:28:20.468083+09:00)
2025-07-28 10:28:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:28:20.470097
2025-07-28 10:28:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:28:20,470 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:28:20,470 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:28:20,473 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:28:20,473 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:28:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:28:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:28:20,476 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:28:20,476 - main - DEBUG - 종목 AMZN 현재가: 154072
2025-07-28 10:28:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,477 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,478 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:28:20,481 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:28:20,481 - main - DEBUG - 종목 GOOG 현재가: 161661
2025-07-28 10:28:20,486 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,489 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,490 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,491 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,491 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:28:20,495 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:28:20,496 - main - DEBUG - 종목 MSFT 현재가: 161340
2025-07-28 10:28:20,498 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,501 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,502 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,503 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,503 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:28:20,505 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:28:20,506 - main - DEBUG - 종목 NFLX 현재가: 162594
2025-07-28 10:28:20,509 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,511 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:28:20,513 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,514 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,515 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:28:20,521 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:28:20,522 - main - DEBUG - 종목 NVDA 현재가: 159774
2025-07-28 10:28:20,525 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:28:20,527 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:28:20,528 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,528 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,529 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:28:20,531 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:28:20,532 - main - DEBUG - 종목 GOOGL 현재가: 66009
2025-07-28 10:28:20,534 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:28:20,536 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:28:20,538 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,538 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,539 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:28:20,541 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:28:20,542 - main - DEBUG - 종목 FB 현재가: 139307
2025-07-28 10:28:20,544 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:28:20,547 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:28:20,551 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:20,551 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:28:20,552 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:28:20,557 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:28:20,558 - main - DEBUG - 종목 005930 현재가: 86503
2025-07-28 10:28:20,560 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:28:20,561 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 86503, 목표가: 75000.0
2025-07-28 10:28:20,564 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 86503원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 10:28:20,564 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:28:20,566 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 86503원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:28:20,568 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:28:20,834 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cdd50>
2025-07-28 10:28:20,834 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:28:21,079 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cdde0>
2025-07-28 10:28:21,080 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:28:21,081 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:28:21,082 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:28:21,082 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:28:21,083 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:28:21,717 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:28:21 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:28:21,718 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:28:21,719 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:28:21,719 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:28:21,720 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:28:21,720 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:28:21,722 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:28:21,723 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:28:21,727 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:28:21,727 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 86503, 목표가: 76000.0
2025-07-28 10:28:21,729 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 86503원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 10:28:21,730 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:28:21,730 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 86503원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:28:21,732 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:28:21,733 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:28:21,733 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:28:21,734 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:28:21,734 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:28:21,735 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:28:21,735 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:28:21,736 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:28:21,738 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:28:21,739 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:28:21,740 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:28:21,741 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:28:21,742 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:28:21,742 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:29:20 KST)" executed successfully
2025-07-28 10:29:18,668 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:29:18,668 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:29:20.468083+09:00 (in 1.799682 seconds)
2025-07-28 10:29:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:29:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:30:20.468083+09:00 (in 59.997687 seconds)
2025-07-28 10:29:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:30:20 KST)" (scheduled at 2025-07-28 19:29:20.468083+09:00)
2025-07-28 10:29:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:29:20.471318
2025-07-28 10:29:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:29:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:29:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:29:20,475 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:29:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:29:20,476 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:29:20,476 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:29:20,478 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:29:20,478 - main - DEBUG - 종목 AMZN 현재가: 140452
2025-07-28 10:29:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,479 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,479 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,480 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,480 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,480 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:29:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:29:20,483 - main - DEBUG - 종목 GOOG 현재가: 198917
2025-07-28 10:29:20,485 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,488 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,489 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,490 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,490 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:29:20,494 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:29:20,494 - main - DEBUG - 종목 MSFT 현재가: 72104
2025-07-28 10:29:20,498 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,500 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,501 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,501 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,501 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:29:20,505 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:29:20,506 - main - DEBUG - 종목 NFLX 현재가: 181228
2025-07-28 10:29:20,510 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,512 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:29:20,514 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,514 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,514 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:29:20,517 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:29:20,517 - main - DEBUG - 종목 NVDA 현재가: 147911
2025-07-28 10:29:20,519 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:29:20,521 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:29:20,523 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,524 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,525 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:29:20,528 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:29:20,528 - main - DEBUG - 종목 GOOGL 현재가: 128475
2025-07-28 10:29:20,531 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:29:20,533 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:29:20,534 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,535 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,535 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:29:20,537 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:29:20,537 - main - DEBUG - 종목 FB 현재가: 95248
2025-07-28 10:29:20,540 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:29:20,542 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:29:20,543 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:20,543 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:29:20,543 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:29:20,546 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:29:20,546 - main - DEBUG - 종목 005930 현재가: 185034
2025-07-28 10:29:20,548 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:29:20,549 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 185034, 목표가: 75000.0
2025-07-28 10:29:20,552 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 185034원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:29:20,553 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:29:20,553 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 185034원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:29:20,555 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:29:20,806 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cc100>
2025-07-28 10:29:20,807 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:29:21,053 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cd360>
2025-07-28 10:29:21,054 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:29:21,055 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:29:21,055 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:29:21,056 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:29:21,056 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:29:21,643 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:29:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:29:21,643 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:29:21,644 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:29:21,644 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:29:21,645 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:29:21,645 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:29:21,647 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:29:21,647 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:29:21,649 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:29:21,649 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 185034, 목표가: 76000.0
2025-07-28 10:29:21,651 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 185034원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:29:21,652 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:29:21,652 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 185034원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:29:21,654 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:29:21,655 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:29:21,656 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:29:21,658 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:29:21,659 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:29:21,660 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:29:21,660 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:29:21,660 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:29:21,661 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:29:21,663 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:29:21,664 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:29:21,664 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:29:21,665 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:29:21,665 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:30:20 KST)" executed successfully
2025-07-28 10:30:18,693 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:30:18,694 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:30:20.468083+09:00 (in 1.773916 seconds)
2025-07-28 10:30:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:30:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:31:20.468083+09:00 (in 59.998547 seconds)
2025-07-28 10:30:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:31:20 KST)" (scheduled at 2025-07-28 19:30:20.468083+09:00)
2025-07-28 10:30:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:30:20.470473
2025-07-28 10:30:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:30:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:30:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:30:20,477 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:30:20,478 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:30:20,478 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:30:20,478 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:30:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:30:20,483 - main - DEBUG - 종목 AMZN 현재가: 51516
2025-07-28 10:30:20,483 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,483 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,483 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,484 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,485 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,485 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,485 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:30:20,488 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:30:20,488 - main - DEBUG - 종목 GOOG 현재가: 133069
2025-07-28 10:30:20,492 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,495 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,497 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,497 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,497 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:30:20,500 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:30:20,500 - main - DEBUG - 종목 MSFT 현재가: 115520
2025-07-28 10:30:20,502 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,505 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,507 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,507 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,508 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:30:20,511 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:30:20,511 - main - DEBUG - 종목 NFLX 현재가: 119326
2025-07-28 10:30:20,513 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,515 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:30:20,516 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,517 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,517 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:30:20,520 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:30:20,520 - main - DEBUG - 종목 NVDA 현재가: 73738
2025-07-28 10:30:20,522 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:30:20,524 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:30:20,526 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,526 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,527 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:30:20,530 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:30:20,530 - main - DEBUG - 종목 GOOGL 현재가: 59332
2025-07-28 10:30:20,537 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:30:20,540 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:30:20,541 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,542 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,542 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:30:20,551 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:30:20,551 - main - DEBUG - 종목 FB 현재가: 120324
2025-07-28 10:30:20,554 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:30:20,556 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:30:20,558 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:20,559 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:30:20,559 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:30:20,564 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:30:20,565 - main - DEBUG - 종목 005930 현재가: 160421
2025-07-28 10:30:20,569 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:30:20,570 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 160421, 목표가: 75000.0
2025-07-28 10:30:20,574 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 160421원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:30:20,575 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:30:20,576 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 160421원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:30:20,579 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:30:20,900 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cafb0>
2025-07-28 10:30:20,900 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:30:21,154 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200c85b0>
2025-07-28 10:30:21,155 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:30:21,156 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:30:21,156 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:30:21,157 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:30:21,157 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:30:21,759 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:30:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:30:21,760 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:30:21,760 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:30:21,760 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:30:21,761 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:30:21,761 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:30:21,762 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:30:21,763 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:30:21,765 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:30:21,765 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 160421, 목표가: 76000.0
2025-07-28 10:30:21,768 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 160421원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:30:21,768 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:30:21,769 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 160421원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:30:21,770 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:30:21,771 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:30:21,772 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:30:21,772 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:30:21,773 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:30:21,773 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:30:21,773 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:30:21,774 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:30:21,776 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:30:21,778 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:30:21,780 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:30:21,781 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:30:21,781 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:30:21,781 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:31:20 KST)" executed successfully
2025-07-28 10:31:18,680 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:31:18,680 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:31:20.468083+09:00 (in 1.787378 seconds)
2025-07-28 10:31:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:31:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:32:20.468083+09:00 (in 59.997762 seconds)
2025-07-28 10:31:20,470 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:32:20 KST)" (scheduled at 2025-07-28 19:31:20.468083+09:00)
2025-07-28 10:31:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:31:20.471489
2025-07-28 10:31:20,471 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:31:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:31:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:31:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:31:20,475 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:31:20,475 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:31:20,475 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:31:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:31:20,477 - main - DEBUG - 종목 AMZN 현재가: 151959
2025-07-28 10:31:20,478 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,478 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,478 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,478 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,479 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,479 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,480 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:31:20,482 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:31:20,482 - main - DEBUG - 종목 GOOG 현재가: 187131
2025-07-28 10:31:20,484 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,486 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,487 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,488 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:31:20,492 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:31:20,492 - main - DEBUG - 종목 MSFT 현재가: 141134
2025-07-28 10:31:20,495 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,496 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,497 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,498 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,498 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:31:20,500 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:31:20,500 - main - DEBUG - 종목 NFLX 현재가: 66977
2025-07-28 10:31:20,502 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,506 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:31:20,507 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,508 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,508 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:31:20,512 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:31:20,512 - main - DEBUG - 종목 NVDA 현재가: 167289
2025-07-28 10:31:20,515 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:31:20,517 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:31:20,518 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,519 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,519 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:31:20,523 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:31:20,523 - main - DEBUG - 종목 GOOGL 현재가: 86799
2025-07-28 10:31:20,526 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:31:20,528 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:31:20,529 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,529 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,529 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:31:20,532 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:31:20,532 - main - DEBUG - 종목 FB 현재가: 153644
2025-07-28 10:31:20,535 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:31:20,537 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:31:20,540 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:20,540 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:31:20,540 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:31:20,543 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:31:20,543 - main - DEBUG - 종목 005930 현재가: 84519
2025-07-28 10:31:20,546 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:31:20,546 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 84519, 목표가: 75000.0
2025-07-28 10:31:20,548 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 84519원이 목표가 75000.0원(gte)에 도달했...
2025-07-28 10:31:20,549 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:31:20,549 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 84519원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:31:20,551 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:31:20,817 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200d84c0>
2025-07-28 10:31:20,817 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:31:21,067 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cc910>
2025-07-28 10:31:21,068 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:31:21,069 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:31:21,069 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:31:21,070 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:31:21,070 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:31:21,660 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:31:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:31:21,661 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:31:21,661 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:31:21,662 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:31:21,662 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:31:21,662 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:31:21,663 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:31:21,664 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:31:21,666 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:31:21,666 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 84519, 목표가: 76000.0
2025-07-28 10:31:21,667 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 84519원이 목표가 76000.0원(gte)에 도달했...
2025-07-28 10:31:21,668 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:31:21,668 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 84519원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:31:21,670 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:31:21,671 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:31:21,671 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:31:21,672 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:31:21,672 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:31:21,673 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:31:21,673 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:31:21,674 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:31:21,674 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:31:21,676 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:31:21,677 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:31:21,679 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:31:21,679 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:31:21,679 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:32:20 KST)" executed successfully
2025-07-28 10:32:18,195 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:32:18,195 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:32:20.468083+09:00 (in 2.272515 seconds)
2025-07-28 10:32:20,469 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:32:20,470 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:33:20.468083+09:00 (in 59.997404 seconds)
2025-07-28 10:32:20,471 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:33:20 KST)" (scheduled at 2025-07-28 19:32:20.468083+09:00)
2025-07-28 10:32:20,471 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:32:20.471732
2025-07-28 10:32:20,472 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:32:20,472 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:32:20,472 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:32:20,476 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:32:20,477 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:32:20,477 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:32:20,477 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:32:20,479 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:32:20,480 - main - DEBUG - 종목 AMZN 현재가: 86695
2025-07-28 10:32:20,480 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,480 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,480 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,481 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,482 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,482 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:32:20,484 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:32:20,484 - main - DEBUG - 종목 GOOG 현재가: 148612
2025-07-28 10:32:20,485 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,487 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,488 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,488 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,488 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:32:20,491 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:32:20,491 - main - DEBUG - 종목 MSFT 현재가: 108315
2025-07-28 10:32:20,494 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,497 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,498 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,498 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,499 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:32:20,501 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:32:20,501 - main - DEBUG - 종목 NFLX 현재가: 70593
2025-07-28 10:32:20,506 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,508 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:32:20,510 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,510 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,510 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:32:20,513 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:32:20,514 - main - DEBUG - 종목 NVDA 현재가: 199044
2025-07-28 10:32:20,516 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:32:20,519 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:32:20,531 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,531 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,532 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:32:20,535 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:32:20,536 - main - DEBUG - 종목 GOOGL 현재가: 83984
2025-07-28 10:32:20,538 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:32:20,544 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:32:20,558 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,558 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,558 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:32:20,562 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:32:20,563 - main - DEBUG - 종목 FB 현재가: 136824
2025-07-28 10:32:20,565 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:32:20,568 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:32:20,569 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,570 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:32:20,570 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:32:20,576 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:32:20,577 - main - DEBUG - 종목 005930 현재가: 50878
2025-07-28 10:32:20,580 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:32:20,583 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:32:20,584 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:32:20,586 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:32:20,587 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:32:20,587 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:33:20 KST)" executed successfully
2025-07-28 10:33:19,140 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:33:19,141 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:33:20.468083+09:00 (in 1.326847 seconds)
2025-07-28 10:33:20,468 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-07-28 10:33:20,469 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-07-28 19:34:20.468083+09:00 (in 59.998706 seconds)
2025-07-28 10:33:20,469 - apscheduler.executors.default - INFO - Running job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:34:20 KST)" (scheduled at 2025-07-28 19:33:20.468083+09:00)
2025-07-28 10:33:20,470 - main - INFO - [APScheduler] 가격 알림 체크 잡 실행: 2025-07-28 10:33:20.470298
2025-07-28 10:33:20,470 - src.common.db_connector - DEBUG - DB 세션 시작.
2025-07-28 10:33:20,471 - src.api.services.price_alert_service - DEBUG - PriceAlertService 초기화.
2025-07-28 10:33:20,471 - src.api.services.price_alert_service - DEBUG - 모든 활성화된 가격 알림 조회 시도.
2025-07-28 10:33:20,474 - src.api.services.price_alert_service - DEBUG - 활성화된 가격 알림 18개 조회됨.
2025-07-28 10:33:20,474 - main - DEBUG - 활성 알림 수: 18
2025-07-28 10:33:20,474 - main - DEBUG - 종목 AMZN에 대한 알림 확인 시작. 알림 수: 4
2025-07-28 10:33:20,474 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=AMZN
2025-07-28 10:33:20,477 - src.api.services.stock_service - WARNING - 현재가 없음: AMZN. 임시 가격 생성.
2025-07-28 10:33:20,477 - main - DEBUG - 종목 AMZN 현재가: 129193
2025-07-28 10:33:20,477 - main - DEBUG - 알림 ID: 1, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,477 - main - DEBUG - 알림 ID: 2, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,477 - main - DEBUG - 알림 ID: 3, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,477 - main - DEBUG - 알림 ID: 4, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,481 - main - DEBUG - 종목 AMZN에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,481 - main - DEBUG - 종목 GOOG에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,481 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOG
2025-07-28 10:33:20,498 - src.api.services.stock_service - WARNING - 현재가 없음: GOOG. 임시 가격 생성.
2025-07-28 10:33:20,499 - main - DEBUG - 종목 GOOG 현재가: 153281
2025-07-28 10:33:20,504 - main - DEBUG - 알림 ID: 5, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,506 - main - DEBUG - 알림 ID: 13, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,509 - main - DEBUG - 종목 GOOG에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,509 - main - DEBUG - 종목 MSFT에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,509 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=MSFT
2025-07-28 10:33:20,516 - src.api.services.stock_service - WARNING - 현재가 없음: MSFT. 임시 가격 생성.
2025-07-28 10:33:20,517 - main - DEBUG - 종목 MSFT 현재가: 122763
2025-07-28 10:33:20,520 - main - DEBUG - 알림 ID: 6, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,523 - main - DEBUG - 알림 ID: 14, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,524 - main - DEBUG - 종목 MSFT에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,525 - main - DEBUG - 종목 NFLX에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,525 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NFLX
2025-07-28 10:33:20,533 - src.api.services.stock_service - WARNING - 현재가 없음: NFLX. 임시 가격 생성.
2025-07-28 10:33:20,533 - main - DEBUG - 종목 NFLX 현재가: 80100
2025-07-28 10:33:20,536 - main - DEBUG - 알림 ID: 7, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,541 - main - DEBUG - 알림 ID: 15, 목표 가격: None, 조건: None, 반복 주기: None
2025-07-28 10:33:20,542 - main - DEBUG - 종목 NFLX에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,543 - main - DEBUG - 종목 NVDA에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,543 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=NVDA
2025-07-28 10:33:20,546 - src.api.services.stock_service - WARNING - 현재가 없음: NVDA. 임시 가격 생성.
2025-07-28 10:33:20,546 - main - DEBUG - 종목 NVDA 현재가: 85590
2025-07-28 10:33:20,554 - main - DEBUG - 알림 ID: 8, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:33:20,557 - main - DEBUG - 알림 ID: 16, 목표 가격: 1000.0, 조건: below, 반복 주기: None
2025-07-28 10:33:20,559 - main - DEBUG - 종목 NVDA에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,560 - main - DEBUG - 종목 GOOGL에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,562 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=GOOGL
2025-07-28 10:33:20,565 - src.api.services.stock_service - WARNING - 현재가 없음: GOOGL. 임시 가격 생성.
2025-07-28 10:33:20,565 - main - DEBUG - 종목 GOOGL 현재가: 130026
2025-07-28 10:33:20,569 - main - DEBUG - 알림 ID: 9, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:33:20,571 - main - DEBUG - 알림 ID: 17, 목표 가격: 110.0, 조건: below, 반복 주기: weekly
2025-07-28 10:33:20,573 - main - DEBUG - 종목 GOOGL에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,573 - main - DEBUG - 종목 FB에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,574 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=FB
2025-07-28 10:33:20,576 - src.api.services.stock_service - WARNING - 현재가 없음: FB. 임시 가격 생성.
2025-07-28 10:33:20,577 - main - DEBUG - 종목 FB 현재가: 113392
2025-07-28 10:33:20,579 - main - DEBUG - 알림 ID: 10, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:33:20,581 - main - DEBUG - 알림 ID: 18, 목표 가격: 300.0, 조건: above, 반복 주기: None
2025-07-28 10:33:20,582 - main - DEBUG - 종목 FB에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:20,583 - main - DEBUG - 종목 005930에 대한 알림 확인 시작. 알림 수: 2
2025-07-28 10:33:20,583 - src.api.services.stock_service - DEBUG - get_current_price_and_change 호출: symbol=005930
2025-07-28 10:33:20,585 - src.api.services.stock_service - WARNING - 현재가 없음: 005930. 임시 가격 생성.
2025-07-28 10:33:20,586 - main - DEBUG - 종목 005930 현재가: 106422
2025-07-28 10:33:20,589 - main - DEBUG - 알림 ID: 11, 목표 가격: 75000.0, 조건: gte, 반복 주기: daily
2025-07-28 10:33:20,590 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 106422, 목표가: 75000.0
2025-07-28 10:33:20,592 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12345, text: 🔔 가격 알림: 005930
현재가 106422원이 목표가 75000.0원(gte)에 도달...
2025-07-28 10:33:20,593 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:33:20,593 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12345, 'text': '🔔 가격 알림: 005930\n현재가 106422원이 목표가 75000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:33:20,595 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-07-28 10:33:20,865 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cd510>
2025-07-28 10:33:20,866 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fc139959a40> server_hostname='api.telegram.org' timeout=5.0
2025-07-28 10:33:21,112 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fc1200cf880>
2025-07-28 10:33:21,113 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:33:21,114 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:33:21,114 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:33:21,114 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:33:21,114 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:33:21,812 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Mon, 28 Jul 2025 10:33:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'73'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-07-28 10:33:21,813 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot8067228135:AAFVhUKTZXosDAm4SvoKAKtuzBrm2kcPdlI/sendMessage "HTTP/1.1 400 Bad Request"
2025-07-28 10:33:21,813 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-07-28 10:33:21,813 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-07-28 10:33:21,814 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:33:21,814 - httpcore.http11 - DEBUG - response_closed.complete
2025-07-28 10:33:21,816 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12345, error: Chat not found
Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 374, in _request_wrapper
    raise exception
telegram.error.BadRequest: Chat not found
2025-07-28 10:33:21,817 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12345)
2025-07-28 10:33:21,818 - main - DEBUG - 알림 ID: 12, 목표 가격: 76000.0, 조건: gte, 반복 주기: weekly
2025-07-28 10:33:21,819 - main - INFO - 가격 알림 트리거됨: 005930, 현재가: 106422, 목표가: 76000.0
2025-07-28 10:33:21,821 - src.common.notify_service - DEBUG - Attempting to send message to chat_id: 12346, text: 🔔 가격 알림: 005930
현재가 106422원이 목표가 76000.0원(gte)에 도달...
2025-07-28 10:33:21,821 - asyncio - DEBUG - Using selector: EpollSelector
2025-07-28 10:33:21,822 - telegram.Bot - DEBUG - Calling Bot API endpoint `sendMessage` with parameters `{'chat_id': 12346, 'text': '🔔 가격 알림: 005930\n현재가 106422원이 목표가 76000.0원(gte)에 도달했습니다.'}`
2025-07-28 10:33:21,823 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-07-28 10:33:21,825 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-07-28 10:33:21,829 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-07-28 10:33:21,830 - httpcore.http11 - DEBUG - send_request_body.complete
2025-07-28 10:33:21,830 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-07-28 10:33:21,831 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:33:21,831 - httpcore.http11 - DEBUG - response_closed.started
2025-07-28 10:33:21,832 - httpcore.http11 - DEBUG - response_closed.failed exception=RuntimeError('Event loop is closed')
2025-07-28 10:33:21,833 - src.common.notify_service - ERROR - [텔레그램 알림 전송 실패] chat_id: 12346, error: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 304, in _request_wrapper
    code, payload = await self.do_request(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_httpxrequest.py", line 273, in do_request
    res = await self._client.request(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1540, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1629, in send
    response = await self._send_handling_auth(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    response = await self._send_handling_redirects(
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    response = await self._send_single_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_client.py", line 1730, in _send_single_request
    response = await transport.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    resp = await self._pool.handle_async_request(req)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 256, in handle_async_request
    raise exc from None
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection_pool.py", line 236, in handle_async_request
    response = await connection.handle_async_request(
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/connection.py", line 103, in handle_async_request
    return await self._connection.handle_async_request(request)
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 135, in handle_async_request
    await self._response_closed()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 250, in _response_closed
    await self.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_async/http11.py", line 258, in aclose
    await self._network_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/httpcore/_backends/anyio.py", line 53, in aclose
    await self._stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/tls.py", line 216, in aclose
    await self.transport_stream.aclose()
  File "/usr/local/lib/python3.10/site-packages/anyio/_backends/_asyncio.py", line 1314, in aclose
    self._transport.close()
  File "/usr/local/lib/python3.10/asyncio/selector_events.py", line 706, in close
    self._loop.call_soon(self._call_connection_lost, None)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/src/common/notify_service.py", line 15, in send_telegram_message
    message = asyncio.run(bot.send_message(chat_id=chat_id, text=text))
  File "/usr/local/lib/python3.10/asyncio/runners.py", line 44, in run
    return loop.run_until_complete(main)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 1100, in send_message
    return await self._send_message(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 810, in _send_message
    result = await self._post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 698, in _post
    return await self._do_post(
  File "/usr/local/lib/python3.10/site-packages/telegram/_bot.py", line 727, in _do_post
    result = await request.post(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 197, in post
    result = await self._request_wrapper(
  File "/usr/local/lib/python3.10/site-packages/telegram/request/_baserequest.py", line 316, in _request_wrapper
    raise NetworkError(f"Unknown error in HTTP implementation: {exc!r}") from exc
telegram.error.NetworkError: Unknown error in HTTP implementation: RuntimeError('Event loop is closed')
2025-07-28 10:33:21,834 - main - DEBUG - 텔레그램 메시지 전송 완료 (chat_id: 12346)
2025-07-28 10:33:21,835 - main - DEBUG - 종목 005930에 대한 알림 처리 완료 및 DB 커밋.
2025-07-28 10:33:21,836 - main - DEBUG - 모든 가격 알림 체크 및 DB 커밋 완료.
2025-07-28 10:33:21,836 - src.common.db_connector - DEBUG - DB 세션 종료.
2025-07-28 10:33:21,836 - apscheduler.executors.default - INFO - Job "check_price_alerts_job (trigger: interval[0:01:00], next run at: 2025-07-28 19:34:20 KST)" executed successfully
