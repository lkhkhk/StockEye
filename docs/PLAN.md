# 프로젝트 PLAN (2025-07-21 기준)

## 진행 현황
- Alembic 기반 마이그레이션: **현재 미사용 (보류)**
- DB 스키마 관리: 수동(SQL/ORM) + 전체 테스트로 검증
- 주요 서비스(api, bot) 정상 기동 및 테스트 가능

## TODO (기능별 상세/단계별)
| 기능 | 단계/세부 항목 | 상태 |
|------|----------------|------|
| 실시간 공시 알림 | 공시 API 연동 | [ ] |
| 실시간 공시 알림 | 텔레그램 알림 연동 | [ ] |
| 실시간 공시 알림 | 테스트/운영 적용 | [ ] |
| 공시 이력/수동 갱신 | 이력 저장 로직 구현 | [ ] |
| 공시 이력/수동 갱신 | 수동 갱신 명령어 추가 | [ ] |
| 공시 이력/수동 갱신 | 테스트/운영 적용 | [ ] |
| 데이터 수집/크롤링 | 외부 데이터 API/크롤러 구현 | [ ] |
| 데이터 수집/크롤링 | DB 저장/연동 | [ ] |
| 데이터 수집/크롤링 | 테스트/운영 적용 | [ ] |
| 챗봇 | 챗봇 인터페이스 설계 | [ ] |
| 챗봇 | 자연어 처리/응답 로직 구현 | [ ] |
| 챗봇 | 테스트/운영 적용 | [ ] |
| 가격 알림 | 조건 확장/사용자별 설정 | [ ] |
| 가격 알림 | 테스트/운영 적용 | [x] |
| 종목마스터/시세 갱신 | 스케줄 관리 UI | [ ] |
| 종목마스터/시세 갱신 | 장애 대응 자동화 | [ ] |
| 종목마스터/시세 갱신 | 테스트/운영 적용 | [x] |
| 모의매매/수익률 | 실거래 연동 | [ ] |
| 모의매매/수익률 | 통계 고도화 | [ ] |
| 모의매매/수익률 | 테스트/운영 적용 | [x] |
| 예측/뉴스/챗봇 | 자연어 처리 고도화 | [ ] |
| 예측/뉴스/챗봇 | 테스트/운영 적용 | [x] |
| 사용자/관리자 관리 | 권한/로그인 고도화 | [ ] |
| 사용자/관리자 관리 | 테스트/운영 적용 | [x] |
| 알림 이력 | 이력 관리 UI | [ ] |
| 알림 이력 | 테스트/운영 적용 | [x] |
| 포트폴리오/관심종목 | 관리 UI/기능 개선 | [ ] |
| 포트폴리오/관심종목 | 테스트/운영 적용 | [x] |
| 뉴스/공시 | 통합 관리 UI | [ ] |
| 뉴스/공시 | 테스트/운영 적용 | [x] |
| UX/운영 개선 | 장시간 작업(전체 공시 갱신, 종목마스터/시세 갱신 등)에서 중간 안내 메시지 및 실시간 진행률/중간 결과 메시지 제공 | [ ] |
| UX/운영 개선 | 명령어(종목마스터, 공시, 시세 등) 비동기/백그라운드 태스크 구조로 즉시 안내→작업 완료 후 결과 안내 UX 적용 | [x] |
| UX/운영 개선 | [개선 제안] 봇 명령어 응답 지연 개선 (스케줄러 잡 등록 방식) | [ ] |

## 명령어별 TODO/진행 현황
| 명령어 | 주요 기능 | 상태 | 이슈/비고 |
|--------|----------|------|-----------|
| /update_price | 일별시세 갱신(관리자) | [정상] |  |
| /show_schedules | 스케줄러 상태 조회(관리자) | [정상] |  |
| /trigger_job | 잡 수동 실행(관리자) | [대기] | 사용법 안내 메시지 마크다운/HTML 파싱 오류 가능성, 포맷 점검 필요 |
| /update_master | 종목마스터 갱신(관리자) | [정상] |  |
| /admin_stats | 전체 통계 조회(관리자) | [정상] |  |
| 전체종목 자동갱신 | DART API 연동 전체 종목 자동 등록/갱신 | [진행중] | 외부 API 연동 및 운영 반영 예정 |
| /register | 알림 수신 동의 | [정상] |  |
| /unregister | 알림 수신 해제 | [정상] |  |
| /alert_add | 가격 알림 등록 | [정상] |  |
| /alert_list | 가격 알림 목록 | [정상] |  |
| /alert_remove | 가격 알림 삭제 | [정상] |  |
| /predict | 종목 예측 | [정상] |  |
| /history | 예측 이력 조회 | [정상] |  |
| /watchlist_add | 관심종목 추가 | [정상] |  |
| /watchlist_remove | 관심종목 삭제 | [정상] |  |
| /watchlist_get | 관심종목 목록 | [정상] |  |
| /symbols | 전체 종목 목록 | [정상] |  |
| /symbols_search | 종목 검색 | [정상] |  |
| /symbol_info | 종목 상세 정보 | [정상] |  |
| /trade_simulate | 모의 거래 기록 | [정상] |  |
| /trade_history | 모의 거래 이력 | [정상] |  |

## 공시 관련 작업 현황 (2025-07-21)
- 공시 데이터 갱신, 입력 방식 다양화(종목코드/종목명/전체), 인라인 키보드 UI, 비동기 처리, 에러 처리 등 모든 요구사항 구현 및 정상 동작 확인
- 테스트 완료, 추가 보완 필요 없음
- 남은 공시 관련 작업 없음 → 다음 작업으로 진행 가능

## 참고
- Alembic 재도입 필요시 docs/SystemManual.md 참고
- DB 스키마/테이블 변경은 반드시 테스트와 연계 